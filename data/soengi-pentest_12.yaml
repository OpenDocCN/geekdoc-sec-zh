- en: Chapter 9
  id: totrans-0
  prefs: []
  type: TYPE_NORMAL
  zh: 第九章
- en: The E-mail Attack Vector
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 电子邮件攻击矢量
- en: Richard Ackroyd,    Senior Security Engineer, RandomStorm Limited
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 理查德·阿克罗伊德，RandomStorm Limited高级安全工程师
- en: Phishing attacks are very popular for a reason, they work. RSA, one of the world’s
    leading Information Security organizations, was successfully breached in 2011
    by exactly this kind of attack. This chapter will walk through the process and
    tools involved in creating a successful phishing attack as a part of a social
    engineering assessment, with a view to improving your client’s defenses.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 钓鱼攻击之所以如此流行，是有原因的，它们有效。RSA，全球领先的信息安全组织之一，于2011年成功遭受了正是这种类型的攻击。本章将介绍创建成功的钓鱼攻击所涉及的过程和工具，作为社会工程评估的一部分，并旨在提高您客户的防御能力。
- en: Keywords
  id: totrans-4
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 关键词
- en: Phishing attacks; spear phishing; client side attack
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 钓鱼攻击；钓鱼式攻击；客户端攻击
- en: Introduction
  id: totrans-6
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 简介
- en: In [Chapter 8](CHP008.xhtml), the topic of leveraging open source intelligence
    to augment our assessment was discussed. This included the harvesting of corporate
    e-mail addresses to use in our attacks. In this chapter, we will cover how to
    make use of this intelligence and how to perform some common e-mail attacks.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在[第八章](CHP008.xhtml)中，讨论了利用开源情报来增强我们的评估的主题。其中包括收集公司电子邮件地址以在我们的攻击中使用。在本章中，我们将介绍如何利用这些情报以及如何执行一些常见的电子邮件攻击。
- en: First of all, the use of phishing attacks will be addressed, breaking down the
    reasons why they are so effective. Looking at “spear phishing” and “trawling”
    and how each can have a place in any ongoing engagement, with a look at some real-world
    examples to solidify the point.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，将讨论钓鱼攻击的使用，分析它们为何如此有效的原因。着眼于“钓鱼式攻击”和“拖网式攻击”，以及它们如何在任何持续的参与中都有一席之地，并查看一些真实世界的示例以巩固观点。
- en: The next topic to be covered is the act of active information gathering using
    e-mail. This activity will enhance the previously acquired intelligence, enabling
    more educated and targeted attacks. The information gathered will largely be from
    responses to carefully crafted e-mails, as well as out-of-office replies. Out-of-office
    replies are an absolute goldmine of information for social engineers and, therefore,
    this will be closely looked at, demonstrating how these can be utilized.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 下一个要讨论的话题是使用电子邮件进行主动信息收集的行为。这一活动将增强先前获得的情报，从而实现更有教育意义和有针对性的攻击。收集到的信息主要将来自于对精心制作的电子邮件的回复，以及离开办公室的回复。离开办公室的回复对社会工程师来说是绝对的宝藏，因此这将受到密切关注，并演示如何利用这些信息。
- en: Afterwhich, the reader will learn how to create some believable reasons or “pretexts”
    to assist a social engineer for when they need to contact someone in an unsolicited
    nature. These methods do not need to be as complex as is often believed! Keep
    it simple.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，读者将学习如何为社会工程师创建一些可信的理由或“借口”，以帮助他们在未经邀请的情况下联系某人。这些方法不需要像人们通常认为的那样复杂！保持简单。
- en: E-mail attacks will be next on the agenda, investigating some common attack
    types, such as credential harvesting and using malicious payloads. During this
    section, e-mail spoofing versus setting up a fake domain, as a source of an attack,
    will be addressed.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来将讨论电子邮件攻击，调查一些常见的攻击类型，例如凭证窃取和使用恶意载荷。在本节中，将讨论电子邮件伪造与设置假域名之间的区别，作为攻击源。
- en: Things will conclude, with examining how to set up a phishing campaign using
    Metasploit and the social engineering toolkit (SET). These fantastic open source
    tools make it far easier than is imaginable.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 事情将以检查如何使用Metasploit和社会工程工具包（SET）设置钓鱼活动而结束。这些出色的开源工具使这一过程变得比想象中更容易。
- en: An introduction to phishing attacks
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 钓鱼攻击简介
- en: What is a phishing attack, and why should it matter? Phishing, from a technological
    point of view, was initially the act of sending an e-mail to a large number of
    target e-mail addresses, with the intent of harvesting sensitive data. This data
    could be a username and password, or bank details. It could even be someone’s
    credit card details that the attackers are aiming for. In order to talk about
    the true roots of these types of attack, there’s a need to go back hundreds of
    years to look at written letter attacks such as the “Spanish Prisoner” scam, which
    is in essence the equivalent of today’s advance fee fraud.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 什么是钓鱼攻击，为什么它很重要呢？从技术角度来看，钓鱼最初是向大量目标电子邮件地址发送电子邮件，目的是收集敏感数据。这些数据可能是用户名和密码，或者银行详细信息。攻击者可能的目标甚至可能是某人的信用卡详细信息。为了谈论这类攻击的真正根源，有必要回到几百年前，看看像“西班牙囚犯”骗局这样的书面信件攻击，本质上等同于今天的预付费欺诈。
- en: Phishing attacks are no longer isolated to just e-mails, as other delivery mechanisms
    have proven to be equally reliable to attackers. As an example, social networking
    sites are a popular means of distribution when it comes to phishing. Another alternative
    is in pop-ups and embedded malicious content in web sites. Typically, this sort
    of mechanism is seen on less than wholesome web sites, such as those with adult
    or piracy related content. As they say, “*if you lie down with dogs, you get up
    with fleas.*”
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 钓鱼攻击不再局限于电子邮件，因为其他交付机制已被攻击者证明同样可靠。例如，社交网络站点是钓鱼的流行分发手段之一。另一种选择是弹出窗口和网站中嵌入的恶意内容。通常，这种机制出现在不太健康的网站上，比如那些含有成人或盗版内容的网站。俗话说，“*与狗躺着，起来添虱*”。
- en: In this chapter, the focus will be on e-mails as a delivery mechanism for the
    attack.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将重点放在电子邮件作为攻击的交付机制上。
- en: With almost 100% certainty, anybody who owns an e-mail account will have at
    the very least seen a phishing e-mail, some even having been scammed by them.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 几乎可以肯定，任何拥有电子邮件账户的人至少会见过钓鱼电子邮件，有些甚至被它们骗过。
- en: The most common phishing scams can be seen from a mile away. They are badly
    written and poorly formatted and typically get swiped by any spam filter worth
    its salt. It is the more professional efforts that are cause for concern. These
    are the types of attack that will present a very well formatted e-mail, appearing
    to come from a legitimate organization, such as a bank, eBay, or PayPal. It will
    look identical to an official e-mail from the real organization, with one very
    significant difference. It is designed to harvest banking credentials or infect
    a system with malware.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 最常见的钓鱼骗局一眼就能看出来。它们写得很糟糕，格式也很差，通常会被任何值得一提的垃圾邮件过滤器拦截。令人担忧的是更专业的努力。这些是那种将呈现出非常精心制作的电子邮件，看起来来自合法组织，如银行、eBay或PayPal。它看起来与真实组织的官方电子邮件完全相同，但有一个非常重要的区别。它旨在收集银行凭据或感染系统以安装恶意软件。
- en: In the instance of more targeted, or “spear phishing” attacks, the amount of
    effort expended in creating the attack could be vast. The e-mail would not only
    be indistinguishable from a legitimate one, but it would also contain a hook specific
    to its target. In many cases, the target would feel compelled to act upon the
    e-mail immediately. These kinds of attacks may well have their roots in the less
    targeted phishing campaigns. It is not uncommon for an attacker to use information
    gathered in an initial broad-scope attack to build the foundations of a spear
    phish.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在更具针对性的“鱼叉式钓鱼”攻击中，攻击者在创建攻击时投入的努力可能是巨大的。电子邮件不仅与合法电子邮件难以区分，而且还会包含特定于其目标的钩子。在许多情况下，目标会感到被迫立即采取行动。这种攻击的根源很可能来自不太具有针对性的钓鱼活动。攻击者常常利用初始广泛范围攻击中收集的信息来建立鱼叉式钓鱼的基础。
- en: Why phishing attacks work
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为什么钓鱼攻击有效
- en: Why do phishing attacks work, both from a conceptual and practical point of
    view?
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 从概念和实践的角度来看，为什么钓鱼攻击有效呢？
- en: First of all, who are the potential targets? How many people do you know who
    don’t have an e-mail address? I suspect the answer will be “*the same amount*
    *of people I know who don’t have a mobile phone.*” Google recently released some
    figures for its GMAIL service. They stated that on a monthly basis, they have
    425 million active users! This is only one mail provider, albeit the most popular.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，谁是潜在的目标？你认识多少人没有电子邮件地址？我怀疑答案将是“*与我认识的没有手机的人数相同*。”谷歌最近发布了其GMAIL服务的一些数据。他们称，他们每月有4.25亿活跃用户！这只是一个邮件提供商，虽然是最流行的一个。
- en: 'The entire Google posting can be found at:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 整个Google的发布内容可以在这里找到：
- en: '[http://googleblog.blogspot.co.uk/2012/06/chrome-apps-google-io-your-web.html](http://googleblog.blogspot.co.uk/2012/06/chrome-apps-google-io-your-web.html)'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://googleblog.blogspot.co.uk/2012/06/chrome-apps-google-io-your-web.html](http://googleblog.blogspot.co.uk/2012/06/chrome-apps-google-io-your-web.html)'
- en: With a target scope of this size, it’s almost like shooting phish(sic) in a
    barrel. To sum up this point, saturation is what this is all about. Why target
    an attack at an obscure service that a handful of people use, when hundreds of
    millions can be targeted? If only a few percent fall for the bait, there is still
    a lot in it for the attacker.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这样规模的目标范围，这几乎就像是在桶里捕鱼一样容易。总结这一点，饱和度是这一切的关键。为什么要针对少数人使用的鲜为人知的服务进行攻击，而不是针对可以针对数亿人的服务呢？即使只有少数人上钩，对攻击者来说仍然有很多好处。
- en: 'To put this threat into context, a recent study, by RSA’s Anti-Fraud Command
    Centre, showed that in 2012 consumers and business in the United Kingdom lost
    an estimated £27 billion to cybercrime. Of the £6 billion consumers lost, £405.8
    million were attributed to phishing attacks. According to this study, this makes
    the United Kingdom the world’s most “phished” country with 10 times the phishing
    loss compared to the United States (*Source*: [http://www.antifraudnews.com/scam-information/](http://www.antifraudnews.com/scam-information/)).'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '为了将这一威胁置于背景中，RSA反欺诈指挥中心最近的一项研究显示，2012年，英国的消费者和企业因网络犯罪而损失了估计270亿英镑。其中，消费者损失的60亿英镑中，有4.058亿英镑归因于钓鱼攻击。根据这项研究，这使得英国成为全球最“钓鱼”的国家，损失的钓鱼金额是美国的10倍(*来源*:
    [http://www.antifraudnews.com/scam-information/](http://www.antifraudnews.com/scam-information/))。'
- en: Therefore, it appears that the vast majority of users do not thoroughly check
    e-mails before doing anything with them. In fact, if it wasn’t for antivirus and
    antispam, this would certainly be an even bigger issue for the Internet user base,
    which is currently well over 2 billion people, according to the quoted Google
    article.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，似乎绝大多数用户在执行与电子邮件相关的操作之前并没有仔细检查电子邮件。事实上，如果没有反病毒软件和反垃圾邮件软件，这对于当前全球超过20亿人口的互联网用户群来说肯定会是一个更大的问题，根据引用的谷歌文章。
- en: The client-side attack
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 客户端攻击
- en: Expanding on why phishing attacks works means looking at the technology a little,
    including traditional defense strategies. The idea of the client-side attack is
    that inbound traffic to a computer, even when at home, is usually blocked by a
    router or firewall. However, any outbound connections are rarely subject to the
    same restrictions. At home, it is likely that there will be full outbound access
    from the client to any resource on the Internet, be that legitimate or malicious.
    Even in the corporate setting, it is highly likely that a client will have some
    outbound access, although that will too be filtered and controlled to some extent
    by security devices such as firewalls and content filters.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 深入探讨钓鱼攻击成功的原因意味着需要稍微看一下技术，包括传统的防御策略。客户端攻击的概念是，发送到计算机的入站流量，即使在家中，通常也会被路由器或防火墙阻止。然而，任何出站连接很少受到相同限制的约束。在家里，客户端到互联网上任何资源的完整出站访问是有可能的，无论是合法的还是恶意的。即使在企业环境中，客户端也很有可能具有某些出站访问权限，尽管这些权限也会在一定程度上受到诸如防火墙和内容过滤器等安全设备的限制和控制。
- en: This is why e-mail phishing attacks are so effective. As an example, if an attacker
    wanted to compromise a system, they might choose to include a malicious file,
    such as a PDF embedded with a payload in the e-mail. If the payload bypassed the
    inbound antivirus signatures, maybe through an encoding or encryption mechanism,
    the chances are that outbound access would allow a return connection to the attacker
    from the target. In some ways, it’s like waiting for the planets to align. Creating
    a payload that would bypass both perimeter and client antivirus is one thing,
    the target system still needs to be vulnerable to the attack too. This is why
    broad-scale phishing attempts against millions of e-mails are successful. They
    only need to find 1–2% of systems in a vulnerable state to be effective and therefore
    profitable.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 这就是为什么电子邮件钓鱼攻击如此有效。举个例子，如果攻击者想要破坏系统，他们可能会选择在电子邮件中包含一个恶意文件，比如一个嵌有负载的PDF。如果负载绕过了入站防病毒签名，也许是通过编码或加密机制，那么出站访问就会允许目标向攻击者建立返回连接。在某种程度上，这就像等待行星排列一样。创建一个既可以绕过外围防火墙又可以绕过客户端防病毒的负载是一回事，目标系统仍然需要对攻击具有漏洞性。这就是为什么对数百万封电子邮件进行广泛的钓鱼尝试是成功的原因。它们只需要找到1-2%的处于脆弱状态的系统就足够有效，因此是有利可图的。
- en: The alternative vector, and arguably the more successful method, is not to attach
    anything at all. These are the attacks that pose the most risk and are the more
    difficult of the two to detect. It would typically be an e-mail that looks like
    it is from a financial institution, such as an online banking provider. In the
    e-mail would be a request of some type, maybe a notification that a large outbound
    transaction was made from an account, and a link to log into online banking to
    confirm that it was legitimate. Of course, the second someone clicks on the link
    to log in, their credentials have been harvested by an attacker using a cloned
    site. The cloned site will likely redirect the victim back to the legitimate banking
    site, leaving them thinking that they’d mistyped their password. By the time they
    log into their actual account, it will be empty. Unfortunately, not all online
    banking providers have taken up two-factor authentication devices, which just
    compounds the issue. That being said, even two-factor systems are not the silver
    bullet if the authentication is intercepted. It would still be possible to replay
    the captured credentials against the legitimate banking site and log in; the only
    difference would be the restricted time frame that the attacker would have to
    authenticate. This is because most two-factor systems generate a time-limited
    one-time use password. This process could be automated, by an attacker, so the
    time limit would rarely be an issue.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种方式，也可以说是更成功的方法，就是根本不附加任何东西。这些是最具风险的攻击方式，也是两者中更难检测到的。它通常是一封看起来像是来自金融机构的电子邮件，比如在线银行提供商。邮件中可能会有某种类型的请求，也许是一条通知，说有一笔大额出账交易从某个账户进行了，然后提供一个链接，登录在线银行以确认其合法性。当然，只要有人点击链接登录，他们的凭据就会被攻击者使用克隆站点收集起来。克隆站点很可能会将受害者重定向回合法的银行网站，让他们以为自己输错了密码。等到他们登录到实际账户时，账户已经是空的了。不幸的是，并非所有的在线银行提供商都采用了双因素身份验证设备，这只会加剧问题。尽管如此，即使是双因素系统也不能解决所有问题，如果认证被拦截，仍然有可能重放捕获的凭据来登录合法的银行网站；唯一的区别将是攻击者进行身份验证的受限时间。这是因为大多数双因素系统生成的是一次性使用的限时密码。这个过程可能会被攻击者自动化，所以时间限制很少成为问题。
- en: To sum up, Phishing attacks work because of the vast number of targets, the
    less than ideal client-side defenses, and people’s willingness to click more or
    less anything they are sent.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 总之，钓鱼攻击之所以有效，是因为目标数量庞大，客户端防御不够理想，以及人们愿意点击几乎一切他们收到的东西。
- en: Spear phishing versus trawling
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 鱼叉式钓鱼（Spear phishing）与搜寻式攻击
- en: Trawling
  id: totrans-34
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 搜寻式攻击
- en: When talking about e-mail based attacks, trawling is certainly the most common.
    These are the very so slightly suspicious e-mails that are received on a daily
    basis that have been sent to millions of people. They are not at all crafted to
    target an individual and, as such, can easily be identified before the recipient
    has even finished reading them. That is assuming they make it to the inbox in
    the first place.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 谈到基于电子邮件的攻击时，搜寻式攻击（trawling）无疑是最常见的。这些邮件每天都会收到，稍微有点可疑，已经发送给了数百万人。它们根本不是针对个人设计的，因此在收件人甚至还没有读完它们之前就可以轻松识别出来。前提是它们首先要到达收件箱。
- en: In terms of targeting an organization during an assessment, the principal still
    stands. A generic e-mail would be sent to all of the corporate addresses that
    were harvested during the reconnaissance stage. Often this would be down to strict
    time frames or because the client wanted to test that internal systems and policies
    were working as intended. The fact remains that while these exercises can offer
    value to a client, they are more than a little clumsy and will often trigger wide-scale
    alerts within a business. The content of the e-mail would still be somewhat tailored
    toward the organization, but would certainly not have the depth of detail that
    a more targeted approach would.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 在对组织进行评估时，原则仍然存在。会向在侦察阶段收集到的所有企业地址发送一封通用电子邮件。通常这是由于严格的时间框架或者因为客户想要测试内部系统和政策是否按照预期运行。事实上，虽然这些行动可以为客户提供价值，但它们相当笨拙，并且往往会在企业内触发广泛的警报。邮件的内容仍然会在一定程度上针对组织，但肯定不会像更有针对性的方法那样具有详细的细节。
- en: Spear phishing
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 鱼叉式网络钓鱼
- en: Spear phishing is going to employ a more personal approach to the attack. Specific
    departments or individuals within a business would be targeted to ensure that
    a suitable response is achieved.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 鱼叉式网络钓鱼会采用更加个人化的方式进行攻击。会针对商业机构内的特定部门或个人，以确保能够获得合适的反应。
- en: As an example, someone working in a business environment that routinely deals
    with large volumes of e-mails on a daily basis, such as a recruitment consultant,
    would be a very good target for a spurious e-mail containing a malicious CV attachment.
    They are likely to receive e-mails of this nature regularly and as such, assuming
    the body of the e-mail is well written, are likely to open the attachment. The
    reconnaissance for this exercise could have been performed exclusively using LinkedIn,
    as covered in the chapter on Open Source Intelligence. The e-mail does not have
    to be complicated, simply stating that they are looking for employment in the
    chosen role, and ask that your CV be kept on record in the event that a position
    becomes available.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 举例来说，一个在商业环境中工作并且每天都处理大量电子邮件的人，比如招聘顾问，很可能成为带有恶意简历附件的垃圾邮件的目标。他们很可能经常收到这种类型的电子邮件，因此，假设电子邮件的正文写得很好，他们很可能会打开附件。这次行动的侦察工作可以完全使用
    LinkedIn 完成，在开源情报章节中有所涵盖。邮件并不需要很复杂，只需简单说明他们正在寻找某个特定职位的工作，并要求将你的简历记录下来，以便在有职位空缺时联系。
- en: The attack vector can be far more personal than this however. During the reconnaissance
    phase of a past engagement, it was noted that an employee of the target organization
    had used their corporate e-mail address for a local squash league. The e-mail
    addresses in question had been discovered using “theharvester,” and the team had
    tracked it back to its source. The site had a full breakdown of past and upcoming
    matches to be played, including some that the employee was due to play in.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击手段可以比这个更加个人化。在过去一次任务的侦察阶段中，注意到目标组织的一名员工在当地一个壁球联赛中使用了他们的企业电子邮件地址。相关的电子邮件地址是使用“theharvester”发现的，而团队已经追踪到了它的来源。该网站详细列出了过去和即将进行的比赛，包括一些该员工将要参加的比赛。
- en: The attack vector is now straightforward enough. There’s not even a need to
    register a fake domain for the e-mail. By simply posing as one of the upcoming
    opponents in the league and using a generic GMAIL account, an e-mail can be created
    to target the victim. The e-mail would contain information regarding upcoming
    matches that have had to be rescheduled, at short notice, and providing some helpful
    links containing details on the new dates. Of course, these links will display
    the dates when clicked, as this needs to be as realistic as possible, but it will
    also load a malicious Java applet that compromises their systems. Picking the
    right time for this attack is essential. Obviously, this e-mail needs to be sent
    within office hours, to increase the chances of compromising a corporate machine.
    This also reduces the risk of compromising a noncorporate machine, which is definitely
    not the intention here.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 攻击向量现在已经足够简单。甚至不需要为电子邮件注册一个假域名。只需假扮为联赛中即将出现的对手之一，并使用一个通用的GMAIL帐户，就可以创建一个针对受害者的电子邮件。该电子邮件将包含有关不得不临时重新安排的即将到来的比赛的信息，并提供一些有关新日期详细信息的有用链接。当然，这些链接在点击时将显示日期，因为这需要尽可能真实，但它也会加载一个损害他们系统的恶意Java小程序。选择攻击的正确时间至关重要。显然，这封电子邮件需要在办公时间内发送，以增加损害企业机器的机会。这也减少了损害非企业机器的风险，这绝对不是本意。
- en: Building a good spear phishing e-mail is extremely reliant on what intelligence
    has been gathered during the reconnaissance phase. It may be that nothing usable
    is identified so that the entire organization has to be trawled. As identified
    during the Open Source Intelligence section, tracing back each corporate e-mail
    address to where it was found on the Internet can often open up some avenues of
    attack, much like the squash example above. Don’t forget to check the Facebook
    Graph Search results here too—“*people who work at xyzcorp*” is exceptionally
    useful. Perhaps, being able to drill down into people’s interests and find something
    that can be leveraged at this stage!
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 构建一个良好的鱼叉式网络钓鱼电子邮件极大地依赖于在侦察阶段收集到的情报。可能会发现没有可用的信息，因此整个组织必须被搜寻。正如在开源情报部分所指出的，追溯每个企业电子邮件地址在互联网上的来源通常会打开一些攻击途径，就像上面的挤压示例一样。在这里也不要忘记检查Facebook
    Graph Search的结果—“*在xyzcorp工作的人*”非常有用。也许，在这个阶段能够深入了解人们的兴趣，并找到可以利用的东西！
- en: Real-world phishing examples
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 真实世界的网络钓鱼示例
- en: Having discussed what phishing is, and its various forms, it would be extremely
    useful to provide some real-world examples, however, there are wealth of online
    resources ([http://www.hoax-slayer.com](http://www.hoax-slayer.com), [http://www.antifraudnews.com](http://www.antifraudnews.com),
    [http://www.securelist.com/en/](http://www.securelist.com/en/), etc.) that the
    readers can use to develop their understanding and appreciation of the threats.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在讨论了什么是网络钓鱼及其各种形式之后，提供一些真实世界的例子将非常有用，然而，有大量在线资源（[http://www.hoax-slayer.com](http://www.hoax-slayer.com)，[http://www.antifraudnews.com](http://www.antifraudnews.com)，[http://www.securelist.com/en/](http://www.securelist.com/en/)等）供读者使用，以加深对威胁的理解和认识。
- en: American Express—drive-by-download
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 美国运通—驱动下载
- en: They say a picture paints a thousand words, so take a look at [Figure 9.1](#F0010).
    This is an example of a recently received e-mail.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 他们说一幅图画出千言万语，所以看看[图9.1](#F0010)。这是最近收到的一封电子邮件的示例。
- en: '![image](../images/F000090f09-01-9780124201248.jpg)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/F000090f09-01-9780124201248.jpg)'
- en: Figure 9.1 Drive by phishing e-mail.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.1 驱动下载网络钓鱼电子邮件。
- en: On the face of it, it doesn’t look terrible. In fact to a casual observer, it
    might appear completely legitimate. The branding looks ok, as does the layout.
    This was in fact a drive-by-download phishing scam that was first noted in 2012
    and was quite widespread. A drive-by-download is basically the download of malicious
    software to a target machine without the targets knowledge. Typically these are
    delivered through malicious links.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 乍一看，它看起来并不可怕。实际上，对于一个偶然观察者来说，它可能看起来完全合法。品牌看起来还可以，布局也不错。事实上，这实际上是一个驱动下载网络钓鱼诈骗，最早在2012年被注意到，并且相当普遍。驱动下载基本上是在目标机器上下载恶意软件而目标不知情。通常通过恶意链接传递这些。
- en: The actual recipient of this e-mail does not nor have they ever had an American
    Express card. Clearly it has been crafted to be sent to a lot of potential targets
    in the hope that a few percent click through one of the hyperlinks within the
    e-mail. Diving into the links reveals that they all go to the same malicious URL.
    In this instance, the site was probably hosting malicious Java Applets or ActiveX
    controls which would allow for total compromise of any vulnerable system.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 这封邮件的实际收件人既没有，也从未拥有过美国运通卡。显然，它被设计成发送给大量潜在目标，希望有几个百分点点击邮件中的一个超链接。点击链接会发现它们都指向同一个恶意URL。在这种情况下，该站点可能托管恶意Java小程序或ActiveX控件，这将允许完全妥协任何易受攻击的系统。
- en: It’s always worth having the rollover functionality enabled in a browser and
    mail client. These show the real URL when the pointer is hovered over the link.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 始终值得在浏览器和邮件客户端中启用悬停功能。这些在指针悬停在链接上时显示真正的URL。
- en: Dr. Atanasoff Gavin—advance fee fraud
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 阿塔纳索夫·加文博士——预付费诈骗
- en: This is a classic example of advance fee fraud, and for a change is actually
    reasonably well written. That doesn’t make the store any more believable of course.
    Advance fee fraud (otherwise known as the 419 scam or Nigerian Scams) is basically
    the process of enticing a victim to spend a little, with the promise of a big
    payout down the road. They are as old as time itself, dating back to the nineteenth
    century and the “Spanish Prisoner” con. Further information regarding this type
    of scam can be found at [http://www.hoax-slayer.com/nigerian-scams.html](http://www.hoax-slayer.com/nigerian-scams.html)
    ([Figure 9.2](#F0015)).
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 这是预付费诈骗的典型例子，而且相对而言写得相当不错。当然，这并不意味着商店更加可信。预付费诈骗（也称为419骗局或尼日利亚骗局）基本上是诱使受害者花费一点钱，承诺未来大笔报酬的过程。它们和时间一样古老，可以追溯到19世纪和“西班牙囚犯”骗局。关于这种类型骗局的更多信息可以在[http://www.hoax-slayer.com/nigerian-scams.html](http://www.hoax-slayer.com/nigerian-scams.html)找到（[图9.2](#F0015)）。
- en: '![image](../images/F000090f09-02-9780124201248.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/F000090f09-02-9780124201248.jpg)'
- en: Figure 9.2 Advance fee fraud e-mail.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.2 预付费诈骗电子邮件。
- en: There are a multitude of angles on this con, but most involve some sort of misplaced
    inheritance, or at the very least a rich individual in peril. Of course, of the
    2.3 billion people currently using the Internet, the target might be the only
    person who can save them.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 这种骗局有很多角度，但大多数都涉及某种错误的继承，或者至少是一个陷入困境的富有个人。当然，在当前23亿使用互联网的人中，受害者可能是唯一能够拯救他们的人。
- en: Let’s not kid ourselves, these e-mails are entirely unbelievable, but somebody,
    somewhere must be falling for them. Why else would they exist? As has already
    been pointed out, the scam is at least well written. This is not something that
    is common among phishing e-mails. This is likely down to the fact that the hotspots
    for this kind of activity usually don’t speak English as a first language.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 别自欺欺人，这些邮件完全不可信，但肯定有人在上当受骗。否则，为什么它们会存在呢？正如已经指出的，这种骗局至少写得很好。这在钓鱼邮件中并不常见。这很可能是因为从事这种活动的热点地区通常不以英语为母语。
- en: Apple ID scam—credential harvesting
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 苹果ID诈骗——收集凭证
- en: This is actually a genuinely well-crafted phish. The premise is that an e-mail
    is received requesting that an Apple ID be verified, by logging in at the link
    provided. Clicking through to the link, you are presented with a very professional
    looking replica of the Apple ID login page. All of the other hyperlinks on the
    page go back to legitimate Apple pages, other than the “Forgot Password” and “Create
    Account” links. These links instead go back to the attackers site, which actually
    presents a 404 error page. The scammers clearly haven’t quite worked out the kinks,
    as yet ([Figure 9.3](#F0020)).
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，这是一种真正精心制作的钓鱼行为。前提是收到一封邮件，要求验证苹果ID，方法是通过提供的链接登录。点击链接后，会看到一个非常专业的苹果ID登录页面的复制品。页面上的所有其他超链接都指向合法的苹果页面，除了“忘记密码”和“创建帐户”链接。这些链接实际上返回到攻击者的站点，该站点实际上呈现一个404错误页面。骗子显然还没有完全解决问题（[图9.3](#F0020)）。
- en: '![image](../images/F000090f09-03-9780124201248.jpg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/F000090f09-03-9780124201248.jpg)'
- en: Figure 9.3 Apple ID scam.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.3 苹果ID诈骗。
- en: The first giveaway is that Apple would never send an e-mail, requesting the
    verification of login details. The second indicator is the URL, which is not related
    to Apple at all. Have a look at [Figure 9.4](#F0025) to see how well crafted these
    scams can be.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个线索是，苹果绝不会发送一封请求验证登录详细信息的电子邮件。第二个指标是URL，与苹果毫无关系。看看[图9.4](#F0025)，看看这些欺诈活动是如何精心制作的。
- en: '![image](../images/F000090f09-04-9780124201248.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/F000090f09-04-9780124201248.jpg)'
- en: Figure 9.4 Low rent e-mail scam.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.4低端电子邮件诈骗。
- en: Clearly, it is difficult to tell this apart from the real thing. Lately, Apple
    ID phishing scams are on the increase. This is likely due to most of them being
    linked to a credit card for quick purchases on iPhone and iPad. The creation of
    clones, similar to this one, is covered later in the chapter. Anyone not having
    created one before will be shocked just how point-and-click the whole process
    is and how this will be up and running in seconds!
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，很难将其与真实情况区分开来。最近，Apple ID钓鱼诈骗案件正在增加。这可能是因为其中大多数与信用卡相关联，用于iPhone和iPad上的快速购买。类似这种的克隆创建，稍后在本章中进行讨论。任何之前没有创建过的人都会对整个过程的简单性感到震惊，以及这将在几秒钟内启动！
- en: Nobody falls for this one. Nobody. Ever.
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 没有人会上当的。没有。从来没有。
- en: This is about as low rent as it gets. Even the spam filter caught this one.
    Consequently, this example has only been included, so as to demonstrate the contrast
    between the Apple example and this poor excuse for a scam.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 这是尽可能低端的。即使垃圾邮件过滤器也捕获了这一个。因此，这个例子仅被包括进来，以展示苹果案例和这个劣质诈骗之间的对比。
- en: 'Yep, [ccunit@zhot.net](mailto:ccunit@zhot.net). Seems legit. Did anyone really
    ever fall for it? They have to be in circulation for a reason. Maybe it was for
    entertainment purposes only? In fact it was very tempting to personally respond,
    in the name of science. Especially having read the following content:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 是的，[ccunit@zhot.net](mailto:ccunit@zhot.net)。看起来很合理。真的有人会上当吗？它们肯定有一定的流通原因。也许只是用于娱乐目的？事实上，亲自回应这封邮件，以科学的名义，实在是非常诱人的，尤其是在阅读了以下内容之后：
- en: DO REPLY THIS MAIL SO I CAN GUIDE YOU ON HOW TO GET YOUR AMOUNT.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 请回复此邮件，以便我指导您如何获取您的金额。
- en: Clearly, enough time has been spent discussing this example; in fact, there’s
    been probably more time spent discussing it than the scammer actually spent creating
    it.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 显然，已经花费了足够的时间讨论这个例子；事实上，花在讨论上的时间可能比制作这个骗局的骗子花费的时间还要多。
- en: Active e-mail reconnaissance
  id: totrans-71
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 主动电子邮件侦察
- en: Although the reconnaissance phase of our social engineering engagement has already
    been extensively covered, there is still always room to probe for further information.
    To put it in its simplest terms, e-mails are going to be sent to the target organizations,
    and the responses can form the basis of further attacks.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们的社会工程学参与已经广泛讨论了侦察阶段，但仍然有进一步探索更多信息的空间。简单来说，电子邮件将发送到目标组织，而响应可以成为进一步攻击的基础。
- en: This is most definitely a more intrusive method of gathering information, which
    also means riskier. What this also means is that with the risk comes potentially
    greater reward. Little nuggets of information can be discovered that can be incredible
    useful to any ongoing e-mail attack and an engagement in general. Even the seemingly
    innocuous pieces of information can provide an attacker with a wealth of resources.
    As an example, almost everybody in the business world uses automated e-mail out-of-office
    replies, but should this be the case? Does this open the door to potential breaches?
    Read on to find out.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 这绝对是一种更具侵入性的信息收集方法，这也意味着更大的风险。这还意味着，随着风险而来的可能是更大的回报。可以发现一些小小的信息，这些信息对于任何正在进行的电子邮件攻击和总体参与都是非常有用的。即使看似无害的信息也可以为攻击者提供丰富的资源。例如，商业界几乎每个人都使用自动化的电子邮件离职回复，但是这样做合适吗？这是否会为潜在的违规行为打开大门？继续阅读以了解详情。
- en: Nondelivery reports
  id: totrans-74
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 未投递报告
- en: Here the subject of nondelivery reports (NDRs) is briefly touched upon, as they
    can often contain, at least, a little information about an organizations estate,
    especially if they host their own mail server.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，简要涉及了未投递报告（NDRs）的主题，因为它们通常至少包含有关组织资产的一些信息，特别是如果它们托管自己的邮件服务器。
- en: The process is fairly straightforward and is certainly worth the 5 s it takes
    to perform. Simply send an e-mail to an address at the target organization, that
    is known not to exist. That’s all there is to it.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 这个过程相当简单，而且绝对值得花费5秒钟来执行。只需向目标组织的一个已知不存在的地址发送一封电子邮件。就是这样。
- en: Seconds later, an NDR is returned. What is of interest here is the X-Received
    and X-Originating-IP values within the SMTP header. These fields can sometimes
    include internal IP address space, which can always be useful to an attacker in
    the right place!
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 几秒钟后，会返回一个NDR。这里感兴趣的是SMTP头中的X-Received和X-Originating-IP值。这些字段有时可能包含内部IP地址空间，这对于攻击者在适当位置时总是有用的！
- en: '[PRE0]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: '[PRE1]'
  id: totrans-79
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '[PRE2]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '[PRE3]'
  id: totrans-81
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: '[PRE4]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: This is certainly worth the small outlay if a part of an assessment requires
    a plug-in and hack, once the organization’s HQ has been physically breached. At
    least some of the internal IP address space will be known.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 如果评估的一部分需要插件和黑客攻击，一旦组织总部被物理入侵，这绝对值得一小笔支出。至少会知道一些内部IP地址空间。
- en: Out-of-office responses
  id: totrans-84
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 离开办公室时的自动回复
- en: A great deal of businesses encourages their personnel to use them, but what
    information is disclosed through their use? Are people opening themselves up to
    an attack by including too much information? In most cases, the answer is a resounding
    yes. People are opening themselves up by giving away seemingly harmless pieces
    of information.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 许多企业鼓励员工使用它们，但通过使用它们会透露哪些信息？人们是否通过包含过多信息而使自己暴露于攻击？在大多数情况下，答案是肯定的。人们通过泄露看似无害的信息而使自己暴露。
- en: Out-of-office responses are an absolute goldmine of intelligence during an engagement,
    even when not performing a direct e-mail attack.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 在合作期间，即使不进行直接的电子邮件攻击，离开办公室时的自动回复也是情报的绝佳来源。
- en: What can be found and how can this be used?
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 可以找到什么，以及如何利用这些信息？
- en: First of all, it provides confirmation that the account exists and that somebody
    is using it. This is probably the first point during the engagement that this
    can be verified. It also confirms the corporate naming convention for e-mail addresses.
    This of course means that any e-mail lists can be adapted based upon a best-guess.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，它确认了账户的存在以及有人在使用。这可能是在合作期间可以验证的第一点。它还确认了电子邮件地址的公司命名约定。当然，这意味着可以根据最佳猜测调整任何电子邮件列表。
- en: It is also common to include “*who to contact in my absence*” information within
    the out-of-office response, which at the very least provides more confirmed contacts
    for the rest of the engagement. This could be used when calling in, along with
    a name-drop of the absent employee. As an example, “*Hey, I was speaking with
    Tom last week, he said he would be away on leave this week, but mentioned it was
    ok for me to drop In and work from his desk. Can I ask for you when I get to reception?*”
    Or if it is felt that this may be a little risky, “*He said he had arranged a
    meeting room/hot-desk for me, can you tell me who I need to speak with when I
    arrive?*” Again, this builds plausibility by not only knowing the name of an employee,
    but also that they will be away at the time that they are being called. A common
    belief is that the target will immediately link this intelligence to the out-of-office
    response, but, in truth, most people just don’t think twice about it.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 在离开办公室时，通常会在自动回复中包含“*我离开时应联系谁*”的信息，这至少为接下来的合作提供了更多确认的联系方式。当打电话时，可以提及缺席员工的名字。例如，“*嘿，上周我和汤姆交谈过，他说他这周要休假，但说我可以过来坐坐，用他的桌子。我到接待处时可以找你吗？*”或者如果觉得这样有点冒险，“*他说他已经为我安排了一个会议室/热座，你能告诉我到达时需要和谁联系吗？*”再次强调，这不仅通过知道员工的名字建立了可信度，还表明他们在被打电话时会不在。一种普遍的看法是目标会立即将这种情报与自动回复联系起来，但事实上，大多数人根本不会多想。
- en: The next, and probably most useful piece of information in the response, will
    be the signature. The signature is filled with juicy morsels such as direct dial
    phone numbers, mobile phone numbers, and let’s not forget the signature itself.
    The entire signature is then copied and used when communicating with other members
    of staff at the target organization. This will be as a result of registering a
    domain similar to the targets. It is surprising how effective this can be! This
    will be looked at, in greater detail, later in the chapter.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，也可能是回复中最有用的信息，将是签名。签名中充满了诸如直拨电话号码、移动电话号码等诱人的信息，更不要忘记签名本身。然后，整个签名将被复制并在与目标组织的其他员工交流时使用。这将是因为注册了类似目标的域名。令人惊讶的是，这种方法有多么有效！这将在本章后面更详细地讨论。
- en: What else would we expect to see in the response? An obvious and common thing
    to include is the date that the office was left and the expected return. This
    can be incredibly useful during the physical portion of testing, especially where
    there may be little else to go on. There are a couple of reasonable options when
    approaching this scenario.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 在回应中我们还会期待看到什么？一个明显且常见的包含是办公室离开的日期和预计返回日期。这在测试的物理部分中可能非常有用，特别是当其他线索很少时。在处理这种情况时有几种合理的选择。
- en: The nonexistent meeting
  id: totrans-92
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 不存在的会议
- en: The first option is to turn up to a meeting with the individual that is away.
    However, this is strongly linked with the ability of the engineer being at ease
    with playing dumb and acting surprised when the receptionist discovers that the
    target is away. At this point, it is common to think that it’s game over, and
    to walk away, but if played right further exploitation of the receptionist’s sense
    of guilt can be utilized, such as “*we have come such a long way to meet him,
    and were assured that he would be available, are you certain he won’t be back
    today?*” At this point, the reception staff could be encouraged to double-check,
    at all times projecting an attitude of courtesy and professionalism, although
    reacting impatiently can often pressure an individual into a positive response.
    Once the targets absence is confirmed, the receptionist could be asked if there
    is a quiet area where some private calls could be made, to confirm what is going
    on, maybe a meeting room? With luck, this may end up with a way into the building,
    but in the worst case, the engineer can walk away clean without having raised
    any suspicions. An alternative to the meeting room is to ask if the target has
    a canteen so as to grab a bite to eat and a drink before hitting the road again.
    This is, of course, more useful if it has been previously established that the
    canteen area is beyond the physical security controls. On past engagements, it
    has been known for the social engineers to have been given passes and to be waved
    toward a door that led to the canteen area. On the way to the canteen was a row
    of meeting rooms, each with active patch ports in. It’s not hard to guess what
    happened next!
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 第一种选择是出席与缺席的个人的会议。然而，这与工程师能否轻松扮傻和在接待员发现目标缺席时表现出惊讶紧密相关。此时，常常会认为游戏结束了，然后离开，但如果操作得当，可以进一步利用接待员的愧疚感，比如“*我们来这么远只是为了见他，而且被保证他会在，你确定他今天不会回来吗？*”此时，可以鼓励接待人员再次核实，始终展现出礼貌和专业的态度，尽管表现出不耐烦通常会迫使个人做出积极的回应。确认目标缺席后，可以询问接待员是否有一个安静的地方可以打一些私人电话，以确认发生了什么，也许是一个会议室？幸运的话，这可能会为进入建筑物铺平道路，但在最坏的情况下，工程师可以毫无疑虑地离开，而不引起任何怀疑。与会议室的替代方案是询问目标是否有一个食堂，以便在再次上路之前吃点东西和喝点东西。当然，如果事先已经确定食堂区域超出了物理安全控制范围，这将更有用。在过去的合作中，社会工程师已经被发放通行证，并被引导走向通往食堂区域的门。在去食堂的路上有一排会议室，每个会议室都有活动的接口。接下来会发生什么，不难猜到！
- en: Impersonating the absent staff member
  id: totrans-94
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 冒充缺席的员工
- en: This one can be trickier to pull off but has worked for us on multiple occasions.
    The premise is simple, you call into a contact, preferably reception, pretending
    to be the absent staff member. You tell the receptionist of a meeting with contractors
    who were attending to carry out some vital maintenance work, that had been overlooked
    that you are away on leave, but that you forgot that you had some contractors
    coming in to perform some work on your behalf and that they can’t be met. At this
    point, clarification is made as to you ask what the protocol is for arranging
    passes so that the contractors can carry out the work, in such a situation? Additionally,
    this could be supported by trying to book a meeting room at this point so that
    the contractors had a place to work from. This is a surprisingly effective, yet
    simple method for gaining unauthorized access to the premises. Frequently, it
    is discovered that if the consultant can act flustered and imply that you have
    been really dropped the balla huge error on this, there is more likely chance
    of eliciting sympathy from the target. You could even think about turning up the
    sympathy ticket by dropping in some information about how expensive it had been
    to arrange the work, and trying that you really wanted to avoid your boss finding
    out that you had made such a rudimentary mistake. This would have two effects
    for your engagement. First of all, you are adding a little pressure by name dropping
    a person in authority. Second of all, the receptionist is less likely to tell
    anybody internally what is going on. When this scheme comes off, it is a really
    nice, clean way in and out. The critical part is being able to pull off the face-to-face
    side of things with reasonable style. However, having already arranged for passes
    over the phone, the face-to-face side of things could not be easier. It’s the
    same as having real belief in your pretext, which also makes turning up that bit
    easier. There must be a strong belief that there’s a legitimate reason for being
    there.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '这个可能更难以实现，但在多次实践中我们成功过。其前提很简单，你打电话给一个联系人，最好是前台，假装是离开的员工。你告诉前台有一个与承包商的会议，他们打算进行一些重要的维护工作，但被忽视了你请假了，但你忘了自己有承包商来为你执行工作，而且不能与他们见面。此时，需要澄清的是，你询问在这种情况下安排通行证的程序是什么？此外，在此时，还可以尝试预订一个会议室，以便承包商有地方可以工作。这是一种令人惊讶的有效但简单的获取未经授权进入场所的方法。经常发现，如果咨询师能够表现得焦急，并暗示你真的犯了一个大错，更有可能从目标那里引起同情。你甚至可以考虑通过提到安排工作的费用以及试图避免你的老板发现你犯了如此基本的错误来加强同情票。这对你的参与有两个效果。首先，你通过提及一个有权威的人物增加了一点压力。其次，前台不太可能告诉内部任何人正在发生什么。当这个计划成功时，进出都非常顺畅。关键部分是能够以合理的方式完成面对面的事情。然而，已经通过电话安排好通行证后，面对面的事情就更容易了。这与对你的前文有真正信仰是一样的，这也使得出现变得更容易。必须有强烈的信念，认为存在合法的理由在那里。  '
- en: Creating plausible e-mail scenarios
  id: totrans-96
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建可信的电子邮件情景
- en: So now that we have seen how much useful information we can acquire with these
    techniques, how are we going to avoid getting busted when sending the e-mails?
    We will need scenarios that are generic enough to fly under the radar in terms
    of suspicion, yet specific enough to get responses from people.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经看到了通过这些技巧我们可以获得多少有用的信息，那么在发送电子邮件时，我们如何避免被识破呢？我们需要一些足够通用以避开怀疑，但又足够具体以获得人们回应的情景。
- en: In this section I will present some usable examples that we have had success
    with in the past.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我将介绍一些我们过去成功使用过的可用示例。
- en: Remember, you are not necessarily going to need to play this pretext out; you
    are just looking for responses from employees or the out-of-office message. Don’t
    overthink it, just come up with scenarios under which you have been contacted
    in an unsolicited nature and shape it into your own.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 记住，你不一定需要演出这个前文；你只是在寻找员工的回应或者离岗信息。不要想得太复杂，只需要构想一些情景，让你被联系到是出于未经邀请的状态，并将其塑造成你自己的情况。
- en: That is not to say that you cannot turn the initial reconnaissance into an attack.
    It just depends on the type of responses you get. If you feel that you can build
    rapport with someone or that you may have found an easy mark, go for it.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 这并不是说你不能将最初的侦察转变为攻击。这取决于你得到的回应类型。如果你觉得可以与某人建立融洽关系，或者可能找到一个易受攻击的目标，那就去试试吧。
- en: If you send the e-mail to a lot of individuals, ensure you blind copy all targets
    into the e-mail. A mail coming into a hundred internal contacts is always going
    to raise a red flag at your target organization
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您将电子邮件发送给许多人，请确保将所有目标密件抄送到电子邮件中。一封发给一百个内部联系人的邮件总会引起目标组织的警觉
- en: Work experience placements
  id: totrans-102
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作经验实习
- en: This is one of the most straightforward ploys and can usually be sent to any
    number of e-mail addresses within the business. Just ensure that each target is
    in the BCC field as opposed to the recipient field. Try to split the list of e-mail
    targets up into groups to try and avoid burning every bridge, with a single attempt.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 这是最直接的策略之一，通常可以发送到企业内任意数量的电子邮件地址。只需确保每个目标都在密件抄送字段而不是收件人字段中。尝试将电子邮件目标列表分成几组，以避免在一次尝试中烧毁所有桥梁。
- en: The idea is simple, set up a fake mail account with the provider of choice,
    for instance GMAIL. Consider setting up the account with a female name to exploit
    the fact that the IT industry is perceived to be a male-dominated environment
    and, as a result, people are less on-guard than they would be if it were a male.
    This can be tailored to match a specific target if there is more known about them.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 这个想法很简单，建立一个虚假的邮件账户，选择提供者，比如GMAIL。考虑使用一个女性名字来设置账户，以利用IT行业被认为是男性主导的环境这一事实，结果人们比起男性更不警惕。如果对目标有更多了解，这可以定制以匹配特定目标。
- en: 'Therefore, consider sending an e-mail that may look something like this:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，请考虑发送一封类似以下内容的电子邮件：
- en: Good morning,
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 早上好，
- en: I am currently seeking a work experience placement as a part of my University
    degree. I was searching for local businesses, and noticed that your organisation
    is very prominent in my chosen field of Marketing. Could you let me know if you
    are taking on work placements, or if you will be looking to do so in the future?
    Any assistance you can provide relating to this would be gratefully received.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 我目前正在寻找一份作为大学学位一部分的工作经验实习。我正在寻找当地的企业，并注意到贵组织在我选择的市场营销领域非常突出。您能告诉我您是否接受工作实习生，或者将来是否会这样做吗？您能提供的任何与此相关的帮助将不胜感激。
- en: Best regards, Joanne
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 致以最诚挚的问候，乔安妮
- en: Avoid overcomplicating or overthinking the approach. No need to kill it with
    a wall of text, which is more likely to hit the recycle bin the second the target
    sees it. Now, it’s just a case of kicking back and waiting for the responses.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 避免过于复杂或过度思考的方法。没有必要用一大段文字来压倒目标，因为目标一看到就更有可能将其放入回收站。现在，只需坐下来等待回复即可。
- en: Typically, it is expected to get a handful of out-of-office replies to the messages,
    and their usefulness has already been covered. It is almost inevitable that there
    will be a response from somebody with more information or providing information
    that this e-mail will be forwarded on to the relevant department. Occasionally,
    this e-mail may have the relevant department copied into the e-mail, providing
    another valid target.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 通常情况下，预计会收到一些外出办公回复的消息，它们的实用性已经被讨论过了。几乎不可避免地会有人回复，提供更多信息或者提供信息表明这封电子邮件将被转发给相关部门。偶尔，这封电子邮件可能会将相关部门抄送到电子邮件中，提供另一个有效的目标。
- en: Weaponizing the scenario
  id: totrans-111
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 武器化情景
- en: Weaponizing this approach is fairly straightforward, but relies on responses
    from people within the organization that you can build rapport with. If you can
    keep a conversation going across several e-mails, the target is going to let their
    guard down in its entirety. Don’t underestimate the sense of thinking that you
    know somebody that you communicate with electronically. That is the age which
    we live in!
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 武器化这种方法相当简单，但依赖于组织内可以建立关系的人的回复。如果你能在几封电子邮件中保持对话，目标就会完全放松警惕。不要低估通过电子通信与某人交流的感觉。这就是我们生活的时代！
- en: At this point the realistic way to go would be to attach your CV, or a link
    to your web site that has examples of your work. Of course, the CV will have a
    payload embedded within it, and the portfolio would deliver a malicious Java applet.
    I would say that given the current state of play, the link to a web site has got
    more chance of evading security systems.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，现实的做法是附上您的简历，或者附上您的网站链接，其中有您的工作样本。当然，简历中将嵌入一个有效负载，而作品集将提供一个恶意的Java小程序。我会说，考虑到目前的情况，网站链接更有可能逃避安全系统的检测。
- en: The college project
  id: totrans-114
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 大学项目
- en: This is another nice simple approach, and it works in much the same way as the
    “Work Experience Placement.” The idea is to use either a school or college, project
    relating to the target business, and have enquired if there was anyone within
    the business that is in a position to help. It usually helps to pick an educational
    establishment that is in the area, who they may have been likely to have contact
    with before.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 这是另一种简单而不错的方法，它的工作方式与“工作经验实习”类似。这个想法是利用与目标企业相关的学校或学院项目，并询问是否有人在企业内部有能力提供帮助。通常最好选择一个在该地区的教育机构，他们可能以前可能已经联系过的机构。
- en: Good afternoon,
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 下午好，
- en: I am currently studying at XYZ college, and I’m working on a project relating
    to the use of advertising within the field of Aerospace. A friend of mine noted
    that you were based in the region, and are well regarded in the industry. I was
    wondering if you would be able to give me some pointers or provide the details
    of somebody who be able to help? I’m a little behind on the project so any help
    would be very much appreciated.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 我目前在XYZ学院学习，并且正在从事与航空航天领域广告使用相关的项目。我的一个朋友注意到您位于该地区，并且在行业中很受尊敬。我想知道您是否能给我一些建议或提供能够帮助的人的联系方式？我在项目上有点落后，所以任何帮助将不胜感激。
- en: Warm regards, Rob Smith
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 亲切的问候，罗布·史密斯
- en: Again, it’s just a simple e-mail, the sort of thing that businesses are likely
    to receive on a reasonably regular basis. Impersonating a student provides reassurances,
    and the fact that nothing is out of place within the e-mail provides a guaranteed
    clean exit, if needed.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 再次强调，这只是一个简单的电子邮件，类似的事情企业可能会经常收到。冒充学生提供了保证，而且电子邮件中没有任何不合适的地方提供了一个保证干净的退出，如果需要的话。
- en: Weaponizing the scenario
  id: totrans-120
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 武器化情景
- en: Given that help and critique is being sought with a project, this scenario lends
    itself well to including a link to the work, which of course could be malicious
    in nature. Better yet, if there is a member of the social engineering team who
    is young enough to pull it off, why not see if a face-to-face meeting can be arranged,
    with somebody within the business. Turning up and having an escort, passes and
    a reason to be there is as good as it gets. A really basic web site could be fleshed
    out in very little time, in order to add credibility. Additionally, consider having
    some questions ready to ask that may reveal information about internal systems.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 鉴于正在寻求项目帮助和批评，这种情况非常适合包含一个指向工作的链接，当然这可能是恶意的。更好的是，如果社会工程团队中有足够年轻的成员可以做到，为什么不看看是否可以安排面对面会议，与企业内部的某人见面。出现并有护送、通行证和在那里的理由是最好的。一个非常基本的网站可以在很短的时间内完善，以增加可信度。此外，考虑准备一些问题，可能会透露有关内部系统的信息。
- en: 'For example, one of the questions could be:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，其中一个问题可能是：
- en: How do you monitor what competitors are doing with regards to Advertising, and
    how do you stay ahead?
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 您是如何监视竞争对手在广告方面的做法，并保持领先的？
- en: If they answer that they use the Internet to research their chosen field, then
    without realizing, they have provided much needed information about them having
    outbound Internet access. This could come in useful for payload deployments later.
    Obviously, given that a face-to-face visit had been arranged, the original link
    will not have been malicious, so as to avoid the risk of getting busted. It could
    have been a clean site that logs all access, so that the level of web access can
    be understood, as well as the types of browser they are using.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 如果他们回答说他们使用互联网来研究他们选择的领域，那么他们无意中提供了关于他们拥有出站互联网访问的非常必要的信息。这在以后的有效载荷部署中可能会派上用场。显然，鉴于已安排了面对面的访问，原始链接不会是恶意的，以避免被发现的风险。它可能是一个记录所有访问的干净网站，以便了解网络访问的水平，以及他们正在使用的浏览器类型。
- en: Another interesting idea for a nonmalicious web site is to include a few links
    to other pages that actually exist on different ports. For example, TCP/22 for
    SSH. If the link works for the target, it will be able to tunnel traffic out of
    the network.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个非恶意网站的有趣想法是在页面中包含一些指向实际存在于不同端口的其他页面的链接。例如，TCP/22用于SSH。如果链接对目标有效，它将能够将流量隧道化到网络外。
- en: So, having covered a couple of examples, and how you would use them in an actual
    engagement, let’s round up the section with a few more examples for you to build
    on. I won’t devise an example e-mail, will let you think up a scenario for that.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，经过几个例子的介绍，以及您如何在实际参与中使用它们，让我们用一些更多的例子来总结本节。我不会设计一个示例电子邮件，让您自己想出一个场景。
- en: The recruitment consultant
  id: totrans-127
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 招聘顾问
- en: Again, the key here as always is that unsolicited e-mail from recruitment consultants
    is commonplace; therefore, this is not going to raise alarms.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 同样地，关键在于不受欢迎的招聘顾问的电子邮件是司空见惯的；因此，这不会引起警觉。
- en: The premise is that there are several candidates, in varying roles, that need
    to be placed, and that some of them would be ideal for roles available within
    the business. Flesh the e-mail out with some details on the candidates and their
    skill sets and make it look plausible.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 假设是有几个候选人，担任不同的角色需要被安置，其中一些候选人将是业务中可用角色的理想人选。在邮件中提供一些候选人及其技能的详细信息，并使其看起来可信。
- en: Again, there’s likely to be out-of-office replies, NDRs, and genuine responses.
    Hopefully, within the genuine responses will be somebody willing to deal with
    the e-mail or at the least provide the details of somebody who will. The CV, containing
    the embedded payload, can then be introduced.
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 同样地，可能会有自动回复、非送达报告（NDRs）和真实回复。希望在真实回复中能找到愿意处理邮件或至少提供相关详情的人。然后可以引入包含嵌入式负载的简历。
- en: Salesperson
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 销售人员
- en: This would be a good scenario for getting information about internal systems.
    For example, if the mission was to ascertain whether the target organization used
    Cisco switches; e-mail under the pretext of being a hardware vendor, with some
    good deals on Cisco switches. They may, inadvertently, provide information that
    they already have a preferred supplier for Cisco gear—Result! From here, a rapport
    can be developed over the course of several e-mails and gradually gleaning more
    information that may even lead up to a call into the target. This scenario can
    be applied to any technology to get information about the infrastructure. For
    the kinds of tech that are in plain-sight for end users, perhaps even get responses
    from them. A classic example here would be antivirus. Remember, any direct responses
    received are a bonus. This is purely looking for the NDRs, Signatures, and out-of-office
    replies that can be used in further attacks.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 这将是获取有关内部系统信息的一个好场景。例如，如果任务是确定目标组织是否使用思科交换机；可以伪装成硬件供应商的电子邮件，提供一些关于思科交换机的好交易。他们可能会无意中提供他们已经有了思科设备的首选供应商的信息——结果！从这里，可以通过几封电子邮件逐渐发展关系，并逐渐获取更多信息，甚至可能导致对目标的电话。这种情况可以应用于任何技术以获取有关基础设施的信息。对于终端用户明显可见的技术，甚至可能会得到他们的回复。这里的一个经典例子是防病毒软件。请记住，任何直接收到的回复都是一个额外的好处。这纯粹是在寻找可以在进一步攻击中使用的非送达报告、签名和自动回复。
- en: These kinds of e-mails, when crafted with a little time and effort, can yield
    great results for an assessment. Here are some basic ideas for defending against
    phishing attacks before taking a look at creating individual attacks!
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 这些类型的电子邮件，只要稍加时间和精力，就可以为评估带来巨大的成果。在看完创建个别攻击之前，以下是一些防范钓鱼攻击的基本思路！
- en: Defending against phishing attacks
  id: totrans-134
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 防范钓鱼攻击
- en: 'Defending against phishing attacks can be broken down into two high-level categories:
    Technological and human approaches. A combination of the two is the most likely
    to prevent these kinds of attacks. What won’t be discussed, in this chapter, are
    the ins and outs of educating a workforce; these are merely high-level ideas for
    an approach to improving your posture.'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 防范钓鱼攻击可以分为两个高层次的类别：技术方法和人为方法。这两者的结合最有可能防止这些类型的攻击。本章不会讨论教育员工的具体细节；这些只是改善你的姿态方法的高层次想法。
- en: Educational and awareness ideas are covered in greater detail in [Chapter 15](CHP015.xhtml).
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 教育和意识方面的想法在[第15章](CHP015.xhtml)中有更详细的介绍。
- en: Technological approaches
  id: totrans-137
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 技术方法
- en: The technological approaches to phishing attacks are those which the end user
    doesn’t really get involved in. In other words, trying to remove as much risk
    as possible long before it gets to a human. Some technologies that could help
    are discussed in the following sections
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 钓鱼攻击的技术方法是那些终端用户实际上并不涉及的方法。换句话说，尽量在人为参与之前尽量减少风险。下面将讨论一些可能有所帮助的技术。
- en: Spam and antivirus products at the gateway, mail server, and the endpoint or
    client machine
  id: totrans-139
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在网关、邮件服务器和终端或客户端机器上设置垃圾邮件和防病毒产品
- en: These solutions will pick off the low hanging fruit and obvious scams.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 这些解决方案将挑出易捡的果实和明显的欺诈行为。
- en: Host based intrusion preventions or “HIPS” products, and network based intrusion
    prevention systems
  id: totrans-141
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 基于主机的入侵预防或“HIPS”产品，以及基于网络的入侵预防系统
- en: These systems can pick up on malicious activity and network traffic, assuming
    that traffic is not encrypted.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 这些系统可以识别出恶意活动和网络流量，假设流量未加密。
- en: Client application patching
  id: totrans-143
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 客户端应用程序打补丁
- en: Ensuring that client applications are kept up to date. This includes Java, Adobe
    Reader, and Browsers! The vast majority of client-side attacks target Java and
    Adobe products.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 确保客户端应用程序保持最新。这包括 Java、Adobe Reader 和浏览器！绝大多数客户端攻击都针对 Java 和 Adobe 产品。
- en: Outbound content filtering—firewalls and proxies
  id: totrans-145
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 出站内容过滤——防火墙和代理
- en: Restricting outbound port access to the absolute minimum should be one of the
    first steps taken; yet it is sadly lacking in a lot of organizations. Most businesses
    tend to focus on inbound access and secure the perimeter as a result. This leads
    to the hard exterior, soft gooey center situation.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 将出站端口访问限制到绝对最低限度应该是首要步骤之一；然而，这在许多组织中都是缺乏的。大多数企业倾向于关注入站访问并保护周边。这导致了坚固的外部，软弱的内部的情况。
- en: Content filtering with a Whitelist is probably one of the better approaches.
    Maintaining a minimal list of allowed sites, there is little chance that a malicious
    link is going to slip through the net. Transparent proxies are probably best here,
    as they will be the most difficult for a user to get around, and they will try
    to get around them.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 使用白名单的内容过滤可能是更好的方法之一。维护一个允许网站的最小列表，几乎没有恶意链接会漏过检查。透明代理可能是最佳选择，因为它们对用户来说是最难绕过的，而且他们会试图绕过它们。
- en: Human approaches
  id: totrans-148
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 人为方法
- en: The human approaches are those that can be directly implemented by users as
    they work. They are typically simple pieces of advice that should be implemented
    both at home and in the workplace.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 人为方法是用户在工作时可以直接实施的方法。它们通常是应该在家和工作场所都实施的简单建议。
- en: First of all, ensure that when hovering over hyperlinks that the real URL is
    revealed. Users need to be made aware of the functionality and have it explained
    that what is displayed as a link is not always legitimate.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，确保在悬停在超链接上时显示真实的 URL。用户需要知道其功能，并且需要解释，显示为链接的内容并不总是合法的。
- en: Educating users in general information security practices in the workplace can
    also help. For example, ensuring that users know that legitimate services and
    businesses will not send e-mails asking for sensitive details.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 在工作场所教育用户一般信息安全实践也会有所帮助。例如，确保用户知道合法的服务和企业不会发送要求敏感细节的电子邮件。
- en: Run a bounty program. If a user identifies a malicious e-mail and raises it
    with the technical team, they receive a reward. The malicious e-mail is then used
    to educate the general user base. Obviously, avoiding merely forwarding it onto
    the entire mailing list—choose to take a screenshot for example.
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 运行悬赏计划。如果用户识别出恶意电子邮件并将其提请给技术团队，他们将获得奖励。然后使用恶意电子邮件来教育普通用户群体。显然，避免仅仅将其转发到整个邮件列表—例如选择截图。
- en: Show users as many examples of phishing e-mails as possible, pointing out the
    identifying characteristics that are common among them.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 尽可能向用户展示更多的钓鱼邮件示例，并指出它们之间的共同特征。
- en: Instilling a sense of paranoia in the users may seem extreme, but when it comes
    to unsolicited communications it is the only way forward. Every inbound communication
    should be scrutinized for malicious content.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 给用户灌输一种偏执的感觉可能看起来有些极端，但在涉及到未经请求的通信时，这是唯一的出路。每一份入站通信都应该被仔细检查是否存在恶意内容。
- en: Remember to enable the functionality within the mail client so that the full
    e-mail address is displayed in the sender field. A lot of mail clients replace
    this with the name set up by the sender when they configured their accounts!
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 记得在邮件客户端中启用功能，以便在发件人字段中显示完整的电子邮件地址。许多邮件客户端会用发送者在配置他们的帐户时设置的名称来替换此内容！
- en: Setting up your own attack
  id: totrans-156
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 建立自己的攻击
- en: In this section we will look into the setting up of e-mail attacks for social
    engineering engagements. Typically speaking, most engagements will use the SET—[https://www.trustedsec.com/downloads/social-engineer-toolkit/](https://www.trustedsec.com/downloads/social-engineer-toolkit/)
    and Metasploit—[http://www.metasploit.com](http://www.metasploit.com).
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将探讨设置社会工程学参与的电子邮件攻击。通常来说，大多数参与方会使用 SET——[https://www.trustedsec.com/downloads/social-engineer-toolkit/](https://www.trustedsec.com/downloads/social-engineer-toolkit/)
    和 Metasploit——[http://www.metasploit.com](http://www.metasploit.com)。
- en: Both of these tools are available for free and ship with both BackTrack and
    Kali Linux.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 这两个工具都可以免费获取，并且都随着 BackTrack 和 Kali Linux 一起发布。
- en: The SET was created by David Kennedy, AKA ReL1K and is a framework of tools
    which are used to automate large portions of assessments. For the purposes of
    this section, we will focus on e-mail related attacks.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: SET 由 David Kennedy，又名 ReL1K 创建，是一个用于自动化评估大部分工具的框架。对于本节，我们将专注于与电子邮件相关的攻击。
- en: Spoofed e-mails versus fake domain names
  id: totrans-160
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 欺骗电子邮件与伪造域名
- en: Before we dive into actually performing our attack, I wanted to touch upon an
    important issue when it comes to e-mail attacks.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们实际执行攻击之前，我想谈一下关于电子邮件攻击的一个重要问题。
- en: First of all, people still talk about spoofed e-mails like they have relevance
    in today’s landscape; when in reality, they very rarely work. There are a couple
    of different technologies that make spoofing very difficult and that are present
    in many mail gateways. First of all, most products will realize that external
    mail should not be coming from an internal or corporate domain. In other words,
    if you spoof mail to appear as though it is coming from [bob@offensivesite.com](mailto:bob@offensivesite.com),
    the mail gateway will know you don’t belong and remove the message.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，人们仍然谈论欺骗电子邮件，好像它们在当今的环境中具有相关性；但实际上，它们很少起作用。有几种不同的技术使欺骗变得非常困难，并且存在于许多邮件网关中。首先，大多数产品会意识到外部邮件不应该来自内部或公司域。换句话说，如果你欺骗邮件看起来是来自
    [bob@offensivesite.com](mailto:bob@offensivesite.com)，邮件网关会知道你不属于这里并删除消息。
- en: The second feature is reverse DNS lookups. The mail gateway will check that
    your IP address resolves to the domain you claim to be sending from when you make
    your SMTP connection. When it realizes there is no match, it will delete or quarantine
    your message. This means that you need to have an SMTP server that is set up properly,
    and that you need to own a domain which you can use. So believe me when I say,
    you are never going to be sending mail to someone at Microsoft with a sender address
    of [bill.gates@microsoft.com](mailto:bill.gates@microsoft.com). It just isn’t
    going to happen. Unless you are Bill Gates, in which case thanks for buying the
    book Bill. This doesn’t mean that you cannot impersonate Bill when sending mail
    to another organization; it just depends how well set up their mail gateway and
    related security products are.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 第二个特性是反向 DNS 查询。邮件网关会检查你的 IP 地址是否解析为你在 SMTP 连接时声称发送的域。当它意识到没有匹配时，它会删除或隔离你的消息。这意味着你需要有一个正确设置的
    SMTP 服务器，并且你需要拥有一个可以使用的域。所以相信我当我说，你永远不会以 [bill.gates@microsoft.com](mailto:bill.gates@microsoft.com)
    发件人地址给微软的某人发送邮件。这是不可能的。除非你是比尔·盖茨，如果是的话，谢谢你购买这本书，比尔。这并不意味着你不能在向另一个组织发送邮件时冒充比尔；这只取决于他们的邮件网关和相关安全产品设置得有多好。
- en: One of the biggest issues with spoofed e-mails is that even if you think they
    might work, you run the risk of wasting a lot of time waiting for a response.
    E-mail attacks are blind endeavors, you won’t know that it got to its target unless
    you receive an out-of-office or an actual response.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 欺骗电子邮件的最大问题之一是，即使你认为它们可能有效，你也会冒着等待回复浪费大量时间的风险。电子邮件攻击是盲目的努力，除非你收到自动回复或实际回复，否则你不会知道它是否达到了目标。
- en: So, if you want to appear as though your e-mail is coming from an internal contact,
    the best option is to register a similar domain, or one that is identical but
    with another top level domain (TLD). As an example, your target may be using [offensivesite.com](http://www.offensivesite.com)
    but we could go and register [offensivesite.net](http://www.offensivesite.net).
    How many nontechnical employees at an organization do you think are going to see
    the difference? If they do, are they going to question it? Maybe that’s another
    one to go into the educational policy of the organization.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，如果你想要让你的电子邮件看起来像是来自内部联系人，最好的选择就是注册一个类似的域名，或者一个与之相同但顶级域名（TLD）不同的域名。例如，你的目标可能在使用[offensivesite.com](http://www.offensivesite.com)，但我们可以去注册[offensivesite.net](http://www.offensivesite.net)。你认为在一个组织中有多少非技术员工会注意到这个差异？即使他们注意到了，他们会质疑吗？也许这是另一个可以考虑纳入组织教育政策中的事项。
- en: Speaking of seeing the difference, there is one other interesting idea for spoofing.
    In most mail clients, when an e-mail is received, you don’t see the e-mail address
    in the sender field. You see a name. That name is defined by the sender when setting
    up their account and is in itself usable as a form of spoofing. Well worth baring
    in mind for future engagements, and yes, it has worked for us before. On more
    than one occasion in fact.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 谈到注意到差异，还有一个有趣的欺骗想法。在大多数邮件客户端中，当接收到一封电子邮件时，你看不到发送者字段中的电子邮件地址。你看到的是一个名字。这个名字是发送者在设置他们的账户时定义的，本身也可用作一种欺骗手段。对于未来的参与者来说，这绝对值得牢记，而且是的，这在以前的某些情况下确实奏效过。
- en: My preferred route is always to register a similar domain. Sometimes you may
    well be left swapping out individual characters that look alike, because all of
    the domains are taken, but that’s just part of the fun. We would typically use
    Google apps for the process, as it’s simple and fast to get up and running. You
    register your domain and can almost instantly start setting multiple mailboxes
    up for whatever pretext suits you best. You can set each account up with an HTML
    signature that matches the target organization, which only adds legitimacy. In
    fact, I would venture to say that most people probably only look at that to judge
    that the e-mail came from an internal contact. It’s like a uniform for the electronic
    age!
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 我的首选方法始终是注册一个类似的域名。有时候，你可能会被迫更换一些看起来相似的字符，因为所有的域名都被占用了，但这只是其中一部分乐趣。通常我们会使用谷歌应用程序进行此过程，因为它简单且快速上手。你注册你的域名，几乎可以立即开始为任何你最喜欢的借口设置多个邮箱。你可以为每个账户设置一个与目标组织相匹配的HTML签名，这只会增加合法性。事实上，我敢说大多数人可能只看这个来判断电子邮件是否来自内部联系人。这就像是电子时代的制服！
- en: Wouldn’t it be a good idea to block any domain that contains your company’s
    name? Even if you don’t own the domain itself? Food for thought.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 阻止包含你公司名称的任何域名不是一个好主意吗？即使你没有拥有该域名本身？值得思考。
- en: The SET
  id: totrans-169
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: SET
- en: As we briefly touched upon earlier, SET is a fantastic framework for social
    engineering and will really help to take the legwork out of your engagements.
    What this means to your client is that you can deliver more value in less time.
    Everybody wins!
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们之前简要提到的，SET是一个出色的社会工程学框架，将极大地帮助您减轻参与的工作量。对于你的客户来说，这意味着你可以在更短的时间内提供更多价值。每个人都赢！
- en: So where can we find SET? Assuming you are using Kali Linux, you can either
    type se-toolkit in a command shell or it can be found within the Kali menu at
    Applications>Kali Linux>Exploitation Tools>Social Engineering Toolkit.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 那么我们在哪里可以找到SET呢？假设你正在使用Kali Linux，你可以在命令 shell 中键入 se-toolkit，或者在 Kali 菜单中找到它，路径为应用程序>Kali
    Linux>利用工具>社会工程学工具包。
- en: Assuming nothing has exploded by this point, you should be seeing something
    similar to [Figure 9.5](#F0030).
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 在此时假设没有发生任何爆炸，你应该会看到类似于[图9.5](#F0030)的东西。
- en: '![image](../images/F000090f09-05-9780124201248.jpg)'
  id: totrans-173
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/F000090f09-05-9780124201248.jpg)'
- en: Figure 9.5 The SET menu.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.5 SET菜单。
- en: SET is all menu driven, which makes it very easy to get to grips with. I would
    start by hitting “5” and waiting for any updates to complete before moving on.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: SET完全是菜单驱动的，这使得它非常容易上手。我会从按下“5”键开始，并等待任何更新完成后再继续。
- en: Spear phishing attack vector
  id: totrans-176
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 鱼叉式网络钓鱼攻击向量
- en: The spear phishing vector is a really slick, automated way to create and deliver
    malicious files to a chosen target. SET contains the functionality to do all of
    the legwork, including sending the e-mails. Next is to create the payload and
    use SET to log into the Google Apps GMAIL account and send the e-mail.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 鱼叉式网络钓鱼向量是一种非常流畅、自动化的方式，可以创建和传递恶意文件给选择的目标。SET 包含执行所有繁重工作的功能，包括发送电子邮件。接下来是创建负载并使用
    SET 登录到 Google Apps GMAIL 帐户并发送电子邮件。
- en: If this is going to be done regularly, it may well be worth setting up templates
    and using SET to deliver any malicious e-mails
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这将定期进行，那么建立模板并使用 SET 传递任何恶意电子邮件可能是值得的。
- en: So, if you are now looking at the SET main page, choose option 1 for Spear Phishing
    Attack Vector and then option 2 to create a FileFormat Payload.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，如果您现在正在查看 SET 的主页面，请选择 Spear Phishing Attack Vector 的选项1，然后选择选项2创建一个 FileFormat
    Payload。
- en: At this point, you are presented with a sizeable list of options. If you know
    enough about the target’s internal systems, you would be better off selecting
    an option that fits the environment. In the case of this example, we will stick
    to the basics and embed a malicious executable inside a PDF—Option 15 ([Figure
    9.6](#F0035)).
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，您将看到一个庞大的选项列表。如果您对目标的内部系统了解足够，最好选择适合环境的选项。在这个例子中，我们将坚持基本原则，在 PDF 中嵌入一个恶意可执行文件—选项15（[图9.6](#F0035)）。
- en: '![image](../images/F000090f09-06-9780124201248.jpg)'
  id: totrans-181
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../images/F000090f09-06-9780124201248.jpg)'
- en: Figure 9.6 PDF embedded EXE.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.6 PDF 嵌入式 EXE。
- en: Next you will choose to use either your own PDF as a base for the malicious
    file or the blank template. The choice here will depend upon how clean you would
    like to get away. It may be that you need a fallback plan in the event that the
    payload route doesn’t work. In this instance, ensure that your PDF has some valid
    content related to your existing pretext. We will choose the built-in blank PDF
    for the sake of the demonstration.
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将选择使用自己的 PDF 作为恶意文件的基础，或者使用空白模板。在这里的选择将取决于您希望摆脱多干净。也许您需要一个备用计划，以防负载路径不起作用。在这种情况下，请确保您的
    PDF 包含与您现有假设相关的一些有效内容。出于演示目的，我们将选择内置的空白 PDF。
- en: At this point, if you are familiar with Metasploit, you will recognize a lot
    of what is on this page. This is the point at which you choose the type of payload
    you would like to deploy. You need to think carefully about your target at this
    point. It is probably worth looking at encrypted payloads to ensure application
    firewalls and intrusion prevention systems don’t ruin your day.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，如果您熟悉 Metasploit，您将会认出这一页上的许多内容。这是您选择要部署的负载类型的时候。在这一点上，您需要仔细考虑您的目标。可能值得看看加密的负载，以确保应用防火墙和入侵防御系统不会破坏您的计划。
- en: For the sake of the example, we will stick to the reverse Meterpreter payload—Option
    2\. This payload will connect back to us, assuming the target has outbound connectivity
    on the port that we define. It is again worth thinking about the types of outbound
    access a typical client would have, for example, HTTP on TCP/80 or HTTPS on TCP/443,
    as we are going to define this next.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 为了示例起见，我们将坚持使用反向 Meterpreter 负载—选项2。该负载将连接回我们，假设目标在我们定义的端口上具有出站连接。再次值得考虑典型客户端可能具有的出站访问类型，例如
    TCP/80 上的 HTTP 或 TCP/443 上的 HTTPS，因为我们将在下一步定义这个。
- en: Enter your IP address when prompted and the port you would like to listen on.
    We will choose TCP/443 as it is more likely to be allowed outbound than TCP/22(SSH)
    for example.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 在提示时输入您的 IP 地址和您想要监听的端口。我们将选择 TCP/443，因为它比 TCP/22（SSH）更有可能被允许出站。
- en: At this point you can choose to rename the file if you like. Again, make it
    fit your pretext if you have one!
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，如果你愿意，你可以选择重命名文件。再次强调，如果有必要，使其符合你的假设！
- en: Now you should see the SET mass e-mail screen, which is where we set up who
    is going to receive our payload.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您应该看到 SET 大规模电子邮件屏幕，这是我们设置谁将接收我们的负载的地方。
- en: Choose option 1—E-mail Attack Single E-mail Address
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 选择选项1—电子邮件攻击单个电子邮件地址
- en: Choose option 2—One-Time Use E-mail template—You can now type up your own e-mail
    content
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 选择选项2—一次性使用电子邮件模板—现在你可以输入自己的电子邮件内容。
- en: Choose option 1—Use a GMAIL account for your e-mail attack
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 选择选项1—使用 GMAIL 帐户进行电子邮件攻击。
- en: Standard GMAIL Accounts will scan PDFs so you are likely to be stopped at this
    point. The Google Apps business accounts are less restrictive.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 标准的 GMAIL 帐户会扫描 PDF，因此您可能会在这一点被阻止。Google Apps 商业帐户的限���较少。
- en: Now you will be prompted to enter your GMAIL account and password, or if you
    chose another SMTP server the details of that.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您将被提示输入您的 GMAIL 帐户和密码，或者如果您选择了其他 SMTP 服务器，则输入其详细信息。
- en: The e-mail will be sent and now you are prompted to set up a Metasploit listener.
    Again, SET will handle this for you based on the details you provided for the
    malicious PDF! [Figure 9.7](#F0040) shows the listener being established.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 邮件将被发送，现在您将被提示设置一个 Metasploit 监听器。同样，SET将根据您为恶意 PDF 提供的详细信息为您处理这个问题！[图 9.7](#F0040)
    显示了建立监听器的过程。
- en: '![image](../images/F000090f09-07-9780124201248.jpg)'
  id: totrans-195
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/F000090f09-07-9780124201248.jpg)'
- en: Figure 9.7 Payload handler.
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.7 有效载荷处理程序。
- en: At this point, it’s a waiting game. It won’t be known, if the payload got through
    all the layers of defensive technologies until a session is established within
    Metasploit. What does it looks like?
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，这是一场等待游戏。在 Metasploit 中建立会话之前，不会知道有效载荷是否通过了所有防御技术的层层审查。它看起来是什么样子？
- en: '[PRE5]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: '[PRE6]'
  id: totrans-199
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'At this point you can run all the usual post modules or attempt privilege escalation
    if needed. I would probably start with “hashdump” to get the local account hashes
    for offline cracking. I would then use incognito to check for domain impersonation
    tokens. For information about post exploitation work, check out the excellent
    “Metasploit: A Penetration Tester’s Guide,” ISBN-10: 159327288X.'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，您可以运行所有常规的后期模块，或者在需要时尝试权限提升。我可能会从“hashdump”开始，以获取用于离线破解的本地帐户哈希。然后我会使用incognito检查域模拟令牌。有关后期渗透工作的信息，请参阅出色的《Metasploit：渗透测试员指南》，ISBN-10：159327288X。
- en: There are other ways to go about achieving the same results here. Create a payload
    using Metasploit and deliver it using the mail client of choice. The important
    thing is that the payload gets to its target(s).
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里实现相同结果的其他方法有很多。使用 Metasploit 创建有效载荷，并使用所选的邮件客户端进行传送。重要的是有效载荷能够到达目标。
- en: Does this approach really work?
  id: totrans-202
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 这种方法真的有效吗？
- en: Everything written is tempered with some real-world opinions, because at the
    end of the day, this is a practical guide. Whatever we talk about needs to work.
    The long and the short of it is that these kinds of attacks absolutely are getting
    harder to pull off. There are now a multitude of different technologies that can
    be implemented to mitigate the risk of e-mail borne nasties and awareness is on
    the increase too. That being said, we still see a reasonable level of success.
    It is certainly still a worthwhile exercise. My recommendation to you would be
    to look at various encoders, packers, and encryptors to try and get a payload
    around these defenses. A good place to start is to have a look at the Veil framework.
    This toolset allows for the creation of payloads that will typically bypass most
    antivirus solutions out there but still maintains compatibility with Metasploit.
    Check out Christopher Truncer’s web site for more information—[https://www.christophertruncer.com/veil-a-payload-generator-to-bypass-antivirus/](https://www.christophertruncer.com/veil-a-payload-generator-to-bypass-antivirus/).
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 所有的写作都融合了一些真实世界的观点，因为归根结底，这是一本实用指南。我们讨论的任何内容都需要起作用。长话短说，这些类型的攻击确实越来越难以执行。现在有许多不同的技术可以用来减轻电子邮件带来的威胁，人们的意识也在提高。话虽如此，我们仍然看到了相当水平的成功。这绝对仍然是一项值得的练习。我建议您查看各种编码器、打包程序和加密器，尝试绕过这些防御。一个好的起点是查看
    Veil 框架。这个工具集允许创建的有效载荷通常可以绕过大多数杀毒软件解决方案，但仍与 Metasploit 兼容。查看 Christopher Truncer
    的网站获取更多信息——[https://www.christophertruncer.com/veil-a-payload-generator-to-bypass-antivirus/](https://www.christophertruncer.com/veil-a-payload-generator-to-bypass-antivirus/)。
- en: Let’s move on and take a look at an alternative to directly sending malicious
    payloads!
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们继续看看与直接发送恶意有效载荷相比的另一种选择！
- en: Malicious Java applets
  id: totrans-205
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 恶意 Java 小程序
- en: Java seems to have been in the security related news media every week for as
    long as I can remember, unfortunately not for the right reasons. It is installed
    on billions of devices worldwide, including client workstations, servers, and
    infrastructure devices.
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 据我所知，Java 已经成为安全相关新闻媒体的头条新闻已经很长时间了，不幸的是，并不是因为正确的原因。它安装在全球数十亿台设备上，包括客户端工作站、服务器和基础设备。
- en: Several high-profile hacks targeting Java software have been noted in recent
    times. Microsoft, Apple, and Facebook are among the victims.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 近期注意到了几起针对 Java 软件的高调黑客攻击。微软、苹果和 Facebook 都是受害者之一。
- en: 'You can read more about these hacks at the following links:'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在以下链接中了解更多关于这些黑客攻击的信息：
- en: '[http://blogs.technet.com/b/msrc/archive/2013/02/22/recent-cyberattacks.aspx](http://blogs.technet.com/b/msrc/archive/2013/02/22/recent-cyberattacks.aspx)'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://blogs.technet.com/b/msrc/archive/2013/02/22/recent-cyberattacks.aspx](http://blogs.technet.com/b/msrc/archive/2013/02/22/recent-cyberattacks.aspx)'
- en: '[https://www.facebook.com/notes/facebook-security/protecting-people-on-facebook/10151249208250766](https://www.facebook.com/notes/facebook-security/protecting-people-on-facebook/10151249208250766)'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://www.facebook.com/notes/facebook-security/protecting-people-on-facebook/10151249208250766](https://www.facebook.com/notes/facebook-security/protecting-people-on-facebook/10151249208250766)'
- en: '[http://www.bbc.co.uk/news/technology-21519856](http://www.bbc.co.uk/news/technology-21519856)'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '[http://www.bbc.co.uk/news/technology-21519856](http://www.bbc.co.uk/news/technology-21519856)'
- en: This type of attack targets client-side software in a bid to avoid perimeter
    security systems and it works!
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 这种类型的攻击针对客户端软件，以避开周边安全系统，并且有效！
- en: Given that attacks of this type are being performed in the real world, they
    make fantastic practical assessments for our clients too. So you may be thinking
    that this will be exceptionally complex to set up, and that it would be too time
    consuming to be practical during short tests. The reality is quite different.
    The SET provides us with this functionality in an easy to use package. Here is
    how it works.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 鉴于这种类型的攻击正在现实世界中进行，它们也为我们的客户提供了出色的实际评估。因此，您可能认为设置这将非常复杂，并且在短期测试中耗时太长，不切实际。实际情况完全不同。SET为我们提供了这种易于使用的功能。它是如何工作的。
- en: You host a cloned or customized web site on your public facing servers. This
    could be a direct clone of the target corporations web site or remote access portal.
    The web site will have a malicious Java applet embedded into it by SET. This payload
    will provide a Meterpreter shell on any vulnerable system as the user accepts
    the Java applet.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 您在公共服务器上托管一个克隆或定制的网站。这可能是目标公司网站或远程访问门户的直接克隆。该网站将由SET嵌入一个恶意的Java小程序。只要用户接受Java小程序，此有效载荷将在任何易受攻击的系统上提供一个Meterpreter
    shell。
- en: Let’s walk through it just to prove how straightforward this attack is.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们走一遍，以证明这种攻击是多么简单直接。
- en: 'Assuming you have SET already open and follow these steps:'
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您已经打开SET并按照以下步骤操作：
- en: Select Option 2—Web site Attack Vectors
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 选择选项2——网站攻击向量
- en: Select Option 1—Java Applet Attack Method
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 选择选项1——Java小程序攻击方法
- en: Select Option 2—Site Cloner
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 选择选项2——网站克隆器
- en: At this point you will be asked if you are using NAT or Port Forwarding. In
    other words are you behind a router or a firewall? The reason it asks this is
    that it needs to ensure that the reverse listener is set to the right IP address
    in the payload. If you don’t set this correctly, your victim will end up connecting
    back to your private IP address and your payload will never leave the target network.
    For the sake of our exercise, we will choose no.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 此时将询问您是否使用NAT或端口转发。换句话说，您是在路由器后面还是防火墙后面？询问的原因是需要确保反向监听器设置为有效载荷中的正确IP地址。如果您没有正确设置这一点，您的受害者最终会连接回您的私人IP地址，您的有效载荷将永远无法离开目标网络。为了我们的练习，我们将选择否。
- en: Set an IP address for the reverse connection. This will likely be your Kali
    Linux or BackTrack IP address.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 为反向连接设置一个IP地址。这可能是您的Kali Linux或BackTrack IP地址。
- en: Enter a site to clone—I’m going with GMAIL for this exercise.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 输入要克隆的网站—我选择GMAIL进行此练习。
- en: At this point we are promoted to choose payloads once again.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 此时我们被要求再次选择有效载荷。
- en: Select Option 2—Windows Reverse_TCP Meterpreter.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 选择选项2——Windows Reverse_TCP Meterpreter。
- en: Select Option 4Backdoored Executable.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 选择选项4——后门可执行文件。
- en: Select a port for the listener—Stick with the default for now, TCP/443.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 选择监听器的端口——现在保持默认值，TCP/443。
- en: At this point, SET will launch Metasploit and automatically bring up various
    listeners and handlers. All you need to do now is get somebody to click your link,
    so how do we go about doing that? I usually go with using a fake domain and ensuring
    that my pretext is believable. It may be that you impersonate a member of the
    support team and ask somebody to verify that their credentials still work for
    the VPN or Outlook Web Access.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，SET将启动Metasploit并自动启动各种监听器和处理程序。现在您需要做的就是让某人点击您的链接，那么我们该如何做呢？我通常会使用一个虚假的域，并确保我的借口是可信的。也许您会冒充支持团队的成员，并要求某人验证他们的凭据是否仍然适用于VPN或Outlook
    Web Access。
- en: Whichever con you choose, remember that you can change the text that is displayed
    instead of the actual URL. Take a look at [Figure 9.8](#F0045).
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 无论您选择哪种诈骗，记住您可以更改显示的文本而不是实际URL。查看[图9.8](#F0045)。
- en: '![image](../images/F000090f09-08-9780124201248.jpg)'
  id: totrans-229
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/F000090f09-08-9780124201248.jpg)'
- en: Figure 9.8 Malicious hyperlink.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.8 恶意超链接。
- en: The link [owa.offensivesite.com](http://www.owa.offensivesite.com) is actually
    a link to [http://192.168.1.153](http://192.168.1.153) in this instance, which
    is my lab machine. This is where the importance of hover-overs cannot be underestimated!
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 链接[owa.offensivesite.com](http://www.owa.offensivesite.com)实际上是指向[http://192.168.1.153](http://192.168.1.153)的链接，在这种情况下，这是我的实验室机器。这就是悬停的重要性所在！
- en: In Google Apps you can do this by clicking the little link Icon, which is a
    picture of a chain. You can put whatever value you like in the “Text to Display”
    box, and this is what will show up when your victim receives the e-mail. So what
    happens when your target browses the web site? Check out [Figure 9.9](#F0050).
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 在Google Apps中，您可以通过点击链条图片的小链接图标来实现这一点。您可以在“显示文本”框中放入任何值，当您的受害者收到电子邮件时，这就是显示出来的内容。那么当您的目标浏览网站时会发生什么？查看[图9.9](#F0050)。
- en: '![image](../images/F000090f09-09-9780124201248.jpg)'
  id: totrans-233
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/F000090f09-09-9780124201248.jpg)'
- en: Figure 9.9 Malicious applet.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.9 恶意小程序。
- en: As you can see, the user still has to click to run the Java applet, so there
    is still a hurdle that we need to get over. It only takes one of your targets
    to be careless though and you are home and dry.
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你所看到的，用户仍然需要点击运行Java小程序，所以我们仍然需要克服一个障碍。不过只需要一个目标不小心，你就成功了。
- en: '[PRE7]'
  id: totrans-236
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: '[PRE8]'
  id: totrans-237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: One of the useful aspects of this attack is that even if the payload doesn’t
    come off, each click is still recorded in the Metasploit console. From a technological
    point of view, the estate might currently look secure, but the users are still
    clicking on malicious links. It would only take a single Zero Day vulnerability
    to compromise those systems.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 这种攻击的一个有用方面是，即使有效载荷没有成功，每次点击仍然会记录在Metasploit控制台中。从技术角度来看，系统可能看起来很安全，但用户仍然在点击恶意链接。只需要一个零日漏洞就可以危害这些系统。
- en: So now we have covered a couple of different ways to get a shell during phishing
    attacks; let’s have a look at credential harvesting using cloned sites.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经介绍了几种在钓鱼攻击中获取shell的不同方法；让我们看看使用克隆网站进行凭证收集。
- en: Using cloned web sites to harvest credentials
  id: totrans-240
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用克隆的网站来收集凭证
- en: This is definitely a favorite attack type when it comes to social engineering
    engagements. There is absolutely nothing more exciting than waiting for the first
    target to start entering his username and password. It is known for social engineering
    teams to be found huddled around the monitor excitedly waiting for the results
    to flash up. Creating cloned sites for harvesting credentials is something that
    has been in the public eye of late. The Syrian Electronic Army appears to have
    adopted it as their attack vector of choice and have so far compromised several
    high-profile targets. They typically appear to clone Outlook Web Access pages
    belonging to their target organization and then used a variety of ways to con
    the target into logging into it. To be honest, some of their attack methods have
    been basic to say the least, yet have still granted them access to the Twitter
    accounts of some really high-profile targets. This is, literally, a single link
    in an e-mail with no explanation, no build up, and very little plausibility. What
    made the e-mails seem plausible was that a lot of them originated from already
    compromised accounts within the same domain. It just goes to show that even e-mails
    from people you know can’t be trusted!
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 当涉及社会工程学时，这绝对是一种受欢迎的攻击类型。没有什么比等待第一个目标开始输入用户名和密码更令人兴奋的了。最近，克隆网站用于收集凭证的做法引起了公众的关注。叙利亚电子军似乎已经将其作为首选攻击向量，并迄今已经攻击了几个知名目标。他们通常会克隆属于目标组织的Outlook
    Web Access页面，然后使用各种方式欺骗目标登录。老实说，他们的一些攻击方法至少可以说是基本的，但仍然使他们能够访问一些真正知名目标的Twitter账户。这实际上只是一封电子邮件中的一个链接，没有解释，没有铺垫，几乎没有可信度。电子邮件看起来可信的原因是其中许多来自同一域中已经被攻击的帐户。这只是表明，即使是来自你认识的人的电子邮件也不能信任！
- en: The fact that these kinds of attacks are so prevalent in the real world makes
    them a great practical assessment for a social engineering engagement.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 这类攻击在现实世界中如此普遍，使它们成为社会工程学参与的一项极好的实践评估。
- en: So, how do we go about cloning a web site with a login form? Well, up steps
    The SET once again. When I show you how easy these guys have made it, you will
    understand why it is such a popular attack. It also does not rely on malicious
    files of any type, which means you are not likely to get hamstrung by security
    devices or software.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，我们如何克隆一个带有登录表单的网站呢？好吧，SET再次出现了。当我向你展示这些家伙是如何简化这个过程时，你就会明白为什么这是一种如此受欢迎的攻击方式。它也不依赖于任何类型的恶意文件，这意味着你不太可能受到安全设备或软件的限制。
- en: Once again, launch SET and choose Option 2—Web site Attack Vectors.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 再次启动SET，并选择选项2——网站攻击向量。
- en: Next choose the Credential Harvester Attack Method—Option 3 ([Figure 9.10](#F0055)).
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来选择凭证窃取攻击方法——选项3 ([图9.10](#F0055))。
- en: '![image](../images/F000090f09-10-9780124201248.jpg)'
  id: totrans-246
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../images/F000090f09-10-9780124201248.jpg)'
- en: Figure 9.10 Credential Harvester Attack Method—Option 3.
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.10 凭证窃取攻击方法——选项3。
- en: At this point, you are asked for your IP address and a site to clone. We will
    once again choose [www.gmail.com](http://www.gmail.com).
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一点上，你会被要求提供你的IP地址和一个要克隆的网站。我们将再次选择[www.gmail.com](http://www.gmail.com)。
- en: Again, the link has to be delivered in a way that makes it more likely to be
    clicked upon, such as the good example given in the “Malicious Java Applets” section.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 同样，链接必须以更有可能被点击的方式传送，比如在“恶意Java小程序”部分给出的好例子。
- en: The SET console will display any credentials as they are entered. It will then
    redirect the victim to the actual GMAIL site and let him know that he mistyped
    his credentials. Hopefully, they will not notice and the attack will fly under
    the radar.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: SET控制台会在输入凭据时显示任何凭据。然后它会将受害者重定向到实际的GMAIL网站，并告诉他他输错了凭据。希望他们没有注意到，攻击就能悄然进行。
- en: As can be seen in [Figure 9.11](#F0060), Bob’s GMAIL password is successfully
    captured. This attack would be more relevant if it was aimed at the client’s VPN
    logon portal or Outlook Web Access. What to do with these credentials depends
    largely on the scope for the engagement. The consultant may turn up on-site and
    use them to log into a desktop or may use them to log directly into a VPN portal.
    In either case, it is a highly effective method of testing that will highlight
    weaknesses in policies and procedures. Both of which can, hopefully, be addressed
    by the client.
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 正如在[图9.11](#F0060)中所示，Bob的GMAIL密码成功被捕获。如果这种攻击针对客户的VPN登录门户或Outlook Web访问，则此攻击将更具相关性。如何处理这些凭据在很大程度上取决于参与的范围。顾问可能会现场出现并使用它们登录桌面，或者直接使用它们登录VPN门户。无论哪种情况，这都是一种非常有效的测试方法，可以突显出政策和程序中的弱点。希望客户能够解决这些问题。
- en: '![image](../images/F000090f09-11-9780124201248.jpg)'
  id: totrans-252
  prefs: []
  type: TYPE_IMG
  zh: '![图片](../images/F000090f09-11-9780124201248.jpg)'
- en: Figure 9.11 Captured credentials.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.11 捕获的凭据。
- en: Is all of this really social engineering?
  id: totrans-254
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 这一切真的都是社会工程吗？
- en: This is a question that I constantly ask myself when we bring new tools into
    our assessments. In many cases, you will be performing a blended assessment that
    covers both social engineering and penetration testing. In this case, everything
    that we have discussed certainly fits the bill. My feeling on the matter is that
    an attacker is not going to tie one hand behind his back and just hack away. They
    are going to use whatever tools are at their disposal, be they traditional social
    engineering and manipulation tactics or more toward the hacking side of things.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们引入新工具进行评估时，我经常问自己的一个问题。在许多情况下，您将执行混合评估，涵盖社会工程和渗透测试。在这种情况下，我们讨论的一切肯定都符合要求。我对这个问题的感觉是，攻击者不会把一只手绑在背后然后开始入侵。他们会利用任何可以利用的工具，无论是传统的社会工程和操纵策略，还是更多偏向于黑客攻击的东西。
- en: For me, it depends how you deliver the e-mail, and what you include in it, as
    to whether it truly could be classed as social engineering. Are you using elements
    of human influence? Is there a pretext involved? There is a very strong chance
    that the answer to these questions is yes, and you may not even realize it. Some
    elements of social engineering just come very naturally to us. Going through the
    thought process of “*what would make me click this link?*” can often do just enough
    to get the result without ever having to overthink it.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 对我来说，这取决于您如何发送电子邮件以及您在其中包含了什么内容，它是否真正可以被归类为社会工程。您是否使用了人类影响的因素？是否涉及借口？对于这些问题的答案很有可能是肯定的，而您甚至可能意识不到。社会工程的一些元素对我们来说是非常自然的。思考“*什么会促使我点击这个链接？*”的思维过程通常足以产生结果，而无需过度思考。
- en: Here is a look at an example to finish off the chapter ([Figure 9.12](#F0065))!
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个示例，来结束本章内容（[图 9.12](#F0065))！
- en: '![image](../images/F000090f09-12-9780124201248.jpg)'
  id: totrans-258
  prefs: []
  type: TYPE_IMG
  zh: '![image](../images/F000090f09-12-9780124201248.jpg)'
- en: Figure 9.12 Example e-mail.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 图 9.12 示例电子邮件。
- en: The e-mail here is obviously not real but is based on something that the clients
    are shown during the debrief portion of the assessment. It’s funny just how many
    traditional social engineering concepts and tricks are involved in an e-mail attack,
    just in a different setting and delivered by a different medium. Again, this was
    another example of a very simple phishing attack. It’s no surprise that the link
    did not go to Facebook!
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 这里的电子邮件显然不是真实的，但是基于客户在评估的反馈部分中展示的内容。真是有趣，有多少传统的社会工程学概念和技巧涉及到了电子邮件攻击，只是在不同的环境中和通过不同的媒介传递。这再次证明了这是另一个非常简单的钓鱼攻击的例子。毫不奇怪，链接没有指向
    Facebook！
- en: Summary
  id: totrans-261
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, all the facets of phishing attacks were explained, commencing
    with some real-world examples, some excellent, and some not so much.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，解释了钓鱼攻击的所有方面，从一些真实世界的例子开始，有些很好，有些不太好。
- en: We then moved on to the art of intelligence gathering by using e-mails as a
    reconnaissance tool. We looked at the types of information that could be recovered
    during this simple exercise, and how we could use them to form further attacks.
    The usefulness of out-of-office replies was highlighted due to the vast amount
    of information that is often contained in them. This included further internal
    contact information, e-mail signatures, and time frames for the absence of the
    target.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，我们转移到了使用电子邮件作为侦察工具进行情报收集的艺术。我们看了在这个简单练习中可以恢复的信息类型，以及我们如何利用它们来进行进一步的攻击。由于通常包含大量信息，因此强调了自动回复的实用性。这些信息包括进一步的内部联系信息、电子邮件签名和目标缺席的时间框架。
- en: We then took a look at some plausible scenarios for this kind of intelligence
    gathering. Basically, these were e-mails that could be sent without fear of triggering
    any alarms.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 我们随后研究了一些关于这种情报收集的可信情景。基本上，这些是可以发送而不触发任何警报的电子邮件。
- en: An attack related topic wouldn’t have been complete without some defensive ideas,
    so we briefly touched upon some concepts that could help in this ever-changing
    landscape.
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 与攻击相关的话题如果没有一些防御性的想法将不完整，所以我们简要地涉及了一些在这个不断变化的领域中可能有所帮助的概念。
- en: We moved onto the topic of performing our own attacks, starting with a discussion
    around e-mail spoofing versus fake domain names. We then looked at the main types
    of attack, including credential harvest and payload delivery via various means.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 我们转移到了执行我们自己的攻击的话题，首先讨论了电子邮件伪造与假域名之间的区别。然后，我们看了主要的攻击类型，包括凭据收集和通过各种方式传递负载。
- en: To round the chapter up, we take a look at a typical phishing e-mail and identified
    how traditional social engineering skills fit into them.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: 为了总结本章，我们来看一个典型的钓鱼电子邮件，并确定了传统社会工程学技能如何适用于其中。
- en: Next we will look at the telephone attack vector in the next chapter.
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来我们将在下一章中看一下电话攻击向量。
