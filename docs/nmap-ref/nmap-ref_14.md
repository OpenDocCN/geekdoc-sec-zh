# 十四、 其它选项

## 十四、 其它选项

本节描述一些重要的(和并不重要)的选项，这些选项 不适合其它任何地方。

`-6` (启用 IPv6 扫描)

从 2002 年起，Nmap 提供对 IPv6 的一些主要特征的支持。ping 扫描(TCP-only)、 连接 扫描以及版本检测都支持 IPv6。除增加-6 选项外， 其它命令语法相同。当然，必须使 用 IPv6 地址来替换主机名，如 3ffe:7501:4819:2000:210:f3ff:fe03:14d0。 除“所关 注的端口”行的地址部分为 IPv6 地址。

IPv6 目前未在全球广泛采用，目前在一些国家(亚洲)应用较多， 一些高级操作系统支持 IPv6。使用 Nmap 的 IPv6 功能，扫描的源和目 的都需要配置 IPv6。如果 ISP(大部分)不

分配 IPv6 地址，Nmap 可以采用 免费的隧道代理。一种较好的选择是 BT Exact，位于 [`tb.ipv6.btexact.com/`](https://tb.ipv6.btexact.com/)。 此外，还有 Hurricane Electric，位于 [`ipv6tb.he.net/`](http://ipv6tb.he.net/)。6to4 隧道是 另一种常用的免费方法。

`-A` (激烈扫描模式选项)

这个选项启用额外的高级和高强度选项，目前还未确定代表 的内容。目前，这个选项启 用了操作系统检测(-O) 和版本扫描(-sV)，以后会增加更多的功能。 目的是启用一个全 面的扫描选项集合，不需要用户记忆大量的 选项。这个选项仅仅启用功能，不包含用于 可能所需要的 时间选项(如-T4)或细节选项(-v)。

`--datadir <directoryname>` (说明用户 Nmap 数据文件位置)

Nmap 在运行时从文件中获得特殊的数据，这些文件有 nmap-service-probes， nmap-services， nmap-protocols， nmap-rpc， nmap-mac-prefixes 和 nmap-os-fingerprints。Nmap 首先 在--datadir 选项说明的目录中查找这些文件。 未 找到的文件，将在 BMAPDIR 环境变量说明的目录中查找。 接下来是用于真正和有效 UID 的`~/.nmap` 或 Nmap 可执行代码的位置(仅 Win32)；然后是是编译位置， 如 `/usr/local/share/nmap` 或 `/usr/share/nmap`。 Nmap 查找的最后一个位置是当前目录。

`--send-eth` (使用原以太网帧发送)

要求 Nmap 在以太网(数据链路)层而不是 IP(网络层)发送 报文。默认方式下，Nmap 选择 最适合其运行平台的方式，原套接 字(IP 层)是 UNIX 主机最有效的方式，而以太网帧最 适合 Windows 操作 系统，因为 Microsoft 禁用了原套接字支持。在 UNIX 中，如果没有 其 它选择(如无以太网连接)，不管是否有该选项，Nmap 都使用原 IP 包。

`--send-ip` (在原 IP 层发送)

要求 Nmap 通过原 IP 套接字发送报文，而不是低层的以 太网帧。这是--send-eth 选项的 补充。

`--privileged` (假定用户具有全部权限)

告诉 Nmap 假定其具有足够的权限进行源套接字包发送、 报文捕获和类似 UNIX 系统中根 用户操作的权限。默认状态下， 如果由 getuid()请求的类似操作不为 0，Nmap 将退出

`--privileged` 在具有 Linux 内核性能的类似 系统中使用非常有效 这些系统配置允许非 特权用户可以进行 原报文扫描。需要明确的是，在其它选项之前使用这些需要权 限的 选项(SYN 扫描、操作系统检测等)。Nmap_PRIVILEGED 变量 设置等价于--privileged 选 项。

`--interactive` (在交互模式中启动)

在交互模式中启动 Nmap，提供交互式的 Nmap 提示，便于 进行多个扫描(同步或后台方 式)。对于从多用户系统中扫描 的用户非常有效，这些用户常需要测试他们的安全性，

但不希望 系统中的其它用户知道他们扫描哪些系统。使用--interactive 激活这种方 式，然后输入 h 可 获得帮助信息。由于需要对正确的 shell 程序和整个功能非常熟悉， 这个选项很少使用。这个选项包含了一个!操作符，用于执行 shell 命令， 这是不安装 Nmap setuid root 的多个原因之一。

`-V; --version` (打印版本信息) 打印 Nmap 版本号并退出。

`-h; --help` (打印帮助摘要面)

打印一个短的帮助屏幕，列出大部分常用的 命令选项，这个功能与不带参数运行 Nmap 是相同的。