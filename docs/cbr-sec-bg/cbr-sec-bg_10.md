# 9. 攻击和防御方法的演变

当我写下这本书的第一版时，网络安全只是网络安全专家和精明的高管感兴趣的话题。这本书是为了让任何人都能理解，并且尽管我预测了网络攻击的大规模增加，但我也没有预料到网络犯罪的迅速增长会如此极端。

网络犯罪现在是地球上增长最快的行业，据估计，2016 年的收入达到了 4450 亿美元（来源：世界经济论坛）。这个数字预计在未来几年将翻一番以上。

在前一章中，我们回顾了预防和检测网络攻击的主要传统方法。

关于这些防御措施的信息非常基础，在这本入门级的书中，主要目标是提供对这个广泛主题领域的基本、全面的理解。然而，对攻击和防御方法的演变方式的任何讨论都需要更深入地了解不同的技术和其他类型的控制。因此，本章将进一步探讨攻击和防御的演变。

首先，正如我们在前几章中所介绍的，有效防止不受欢迎的入侵或滥用电子设备及其所包含信息的唯一方法是采取比简单实施技术控制更全面的方法。

例如，英国网络基本要求方案是众多旨在帮助组织建立更好防御的框架之一，它指出仅有效管理五个关键领域就能防止 80%的攻击。这些领域包括：

+   有效的防火墙位置和管理。

+   安全配置。

+   用户访问控制。

+   恶意软件防护。

+   及时的补丁管理。

| 安全配置 - 确保在应用设置到任何项目（设备或软件）时，始终采取适当的步骤来确保（i）默认账户被移除或禁用，（ii）不使用共享账户，以及（iii）项目中的所有保护和防御控制都使用最强的适当设置。默认账户 - 通常具有管理员访问权限的通用用户和密码权限，通常作为某些应用程序和硬件的标准配置在初始设置期间提供。访问控制 - 通过权限管理和限制物理、虚拟或数字区域的进入或退出所使用的规则和技术。权限通常分配给个人、设备或应用程序服务，以确保使用的责任和可追溯性。可以使用（i）物理令牌（你所拥有的东西）来保护权限；例如，一个钥匙卡，（ii）秘密信息（你所知道的东西）；例如，密码或（iii）生物识别信息 - 使用人体部位（如指纹或眼部扫描）来获取访问权限（你所是的东西）。还可见多因素身份验证。补丁管理 - 用于在数字设备上部署关键的临时软件更新的受控过程。通常发布软件的“补丁”是为了响应已经确定的关键缺陷或漏洞。未及时应用新的临时软件更新可能会使存在的安全漏洞暴露出来。因此，及时应用这些更新（补丁管理）被认为是维护有效网络安全性的关键组成部分。 |
| --- |

在上面的列表中显而易见的是，三个加粗的项目（安全配置、用户访问控制和及时的补丁管理），都依赖于人类执行某些程序。因此，它们不是直接的技术控制，而是需要应用于网络、系统、设备和应用程序的过程控制。

定期备份（定期将有价值的信息备份到安全位置）通常也依赖于建立正确的流程 - 这通常是一个关键流程，可以在成功攻击发生时恢复计算机系统。

无论应用的控制主要是技术性的还是主要依赖人力的，案例研究都表明，导致加大对网络攻击的易受性的从未是孤立的技术失效。

因此，智能安全协调软件越来越多地用于网络防御。

安全协调软件旨在汇集不同安全控制状态的更全面图景。然而，重要的是要注意，就像在地图上放大和缩小一样，有许多不同级别的协调可用。

一个协调企业整体安全位置的绝佳方法是通过一个集中的、全面的治理、风险管理和合规系统。在最高层次上，企业的治理、风险和合规系统旨在汇集以下内容：

+   治理信息 - 是企业执行层用来确保组织在可接受范围内运作的全部政策、程序和具体控制。这包括直接的安全政策、程序和控制，以及间接的法规，也可以影响或影响安全。

+   合规信息 - 是由用于识别安全差距并验证是否遵循治理法规的流程产生的数据。

+   风险信息 - 涉及可能对组织产生重大和实质性影响的任何事物。这些数据可以来自多个来源，包括已经确定的合规性差距，以及新的威胁（如法规变化或新类型的利用）。

尽管收集和同步这些最高级别的信息是创建整体安全位置的最佳方法，但它依赖于从更细粒度的安全协调软件的信息来源获取信息。细粒度的来源可以包括漏洞评估、渗透测试、审核、事件和其他关于潜在差距和威胁的信息来源的结果，

网络运营中心经常汇集有关信息流量和入侵尝试的信息。

反恶意软件协调套件可以监视资产，确保它们的个体反恶意软件软件正常运行，更新并收集有关尝试感染率的信息。

纠正和预防措施系统可以通过监测、管理和监控已识别的问题直至解决来操作。通常，这些行动没有被有效地分析以识别重复模式，这可以实现更有效的纠正措施。

有超过 30 种不同的安全控制流程可以聚合信息。然而，如果它们只是将信息聚合在孤立的信息库中，而无法理解它们之间的关系，那么理解真正需要优先考虑的内容的机会就会丧失。

如果我们看一下案例研究，通常是无法理解真正的全局图景最有可能产生足够的差距，以允许重大的网络安全漏洞。由于防御层层叠加技术，单个漏洞本身不太可能导致重大损失。

在我们进一步研究更多防御方法之前，我们应该考虑攻击本身是如何演变的。

不断进化的攻击方法

在过去几年里，网络攻击已经越来越多地涉及三个趋势：

+   勒索软件使用的大规模增加

+   捕获和重新使用有效的用户和密码访问信息

+   分布式拒绝服务（DDoS）攻击

勒索软件

近年来最显著的变化是勒索软件的惊人激增。如前所述，这是一种旨在通过锁定或加密个人或组织文件和/或设备直接从目标处获取资金，并只在支付赎金后才释放它们的方法。

当然，如果您运行正确的安全软件，或者甚至在外部位置充分备份信息，勒索软件就不会有效。然而，大多数人和组织缺乏这些基本防御措施。

加密货币使勒索软件得以实现，这是一种匿名支付形式，允许资金在没有简单识别接收方的情况下转移。

网络犯罪分子不再必须依靠将窃取的信息转售给其他犯罪分子从网络犯罪中获利。从勒索软件中轻松获利的方式推动了犯罪分子以这种方式瞄准私人个人和小企业的大幅增加。事实上，在大多数国家，网络犯罪现在是最多产的犯罪形式。

过去大多数网络攻击依赖通过电子邮件传播恶意软件或鼓励目标将未知应用程序下载到设备上。这也是勒索软件进入数字设备的方式。

最早使用的（并仍在使用的）技术之一被称为网络钓鱼。

| 网络钓鱼 – 利用电子通信（例如电子邮件或即时通讯）假装来自合法来源，试图从收件人那里获取敏感信息（例如，密码或信用卡号）或在收件人设备上安装恶意软件。网络钓鱼的方法已经发展，以至于消息可以简单地包含指向恶意软件所在的互联网位置的链接，或者可以包含一个附件（例如 PDF 或 Word 文档），在打开时安装恶意软件。恶意软件随后可用于运行任意数量的未经授权功能，包括从设备中窃取信息，将额外的恶意软件复制到其他可访问位置，共享用户屏幕，记录用户输入的键盘记录或在勒索软件攻击中锁定访问权限。网络钓鱼的较简单形式可以鼓励收件人访问一个虚假但令人信服的网站，并透露密码或其他详细信息。 |
| --- |

这种技术的进化版本被称为鱼叉式网络钓鱼。

| 鱼叉式网络钓鱼 – 一种更具针对性的网络钓鱼形式。这个术语描述了利用电子通信（例如，电子邮件或即时通讯）针对特定人或人群（例如，某个地点的员工）并假装来自合法来源的行为。在这种情况下，发送方还可能假装是收件人认识和信任的某人，试图获取敏感信息（例如，密码或信用卡号）。 |
| --- |

恶意软件，如勒索软件，也可能仅仅通过点击一个互联网链接而无意中被下载。即使用户没有在设备上安装软件的权限，恶意软件有时也可以规避此控制而进行安装。

为了增加成功的机会，攻击者通常利用主要的社交媒体网站和流行的网络服务。Facebook、Twitter、Ebay 和其他网站都可以携带用户插入的链接。如果攻击者使链接足够有趣，以诱使受害者点击它，这将允许恶意软件潜在地获得立足点。

另一个问题是，有时这些社交媒体和网络服务网站不能被阻止，因为至少一些业务功能需要这些工具与客户进行沟通或连接。

这些网站还使用安全的加密协议，如 SSL，防止其内容被拦截。这些协议使得通常使用的安全设备在发送或接收信息时难以检测或阻止包括恶意软件在内的信息。

| SSL - 是安全套接字层的缩写。这是一种在数字景观中为两个点提供加密通信的方法（协议）。例如，这可能是一个网页服务器（托管网络服务或网站的计算机）和一个网络浏览器（接收者用于查看网页的程序；例如，Internet Explorer）之间的通信。在 URL（用户可见的互联网地址）中，使用 SSL 通过一个‘https:’前缀表示。 |
| --- |

文件共享和即时通讯服务也可能以相同的方式被利用。

这种攻击形式被称为**驱动下载**。

| 驱动下载 - 通过互联网页面、电子服务或链接无意中接收到恶意软件到设备上的过程。受害者通常不知道自己的行为允许新的恶意软件被拉到并安装到数字设备或网络中。 |
| --- |

攻击者使得捍卫数字景观变得越来越困难的另一种方式是定制他们的恶意软件。

许多组织和个人继续使用过时且无效的反恶意软件。如果此软件仅依赖于识别签名（威胁的特征），攻击者只需定制恶意软件即可逃避检测。现在，即使没有编程知识，使用预打包软件程序也可以简单地定制或调整恶意软件，使其签名与反恶意软件通常识别的签名足够不同。这样可以防止攻击被立即检测到，因为在新的恶意软件版本被发现、隔离、提交给反恶意软件专家、解密和分析之前，签名型反恶意软件程序不会添加更新的防御。根据定制的恶意软件的异常程度（不寻常和罕见），创建新的防御可能需要数月或数年时间——由于新的恶意软件数量庞大（估计每天有超过五十万个新变种），可能无法及时更新较旧的反恶意软件形式，以便为其提供可行的防御。

增加了这个问题的是，许多恶意软件能够在安装后适应性地改变以更有效地逃避反恶意软件。这种反恶意软件被称为多态恶意软件。

一些较新的下一代反恶意软件没有这个缺陷，可以检测和阻止超过 99%的更复杂的恶意软件威胁。然而，截至 2017 年初，许多企业使用的反恶意软件错过的恶意软件比检测到并处理的恶意软件还要多。

| 多态恶意软件——能够改变其属性以帮助避免被反恶意软件检测到的恶意软件。这种突变过程可以自动化，使软件的功能继续，但操作方法、位置和其他属性可能会改变。参见变形恶意软件。 |
| --- |

密码攻击

过多的计算机系统和在线服务仅通过用户名和密码组合进行控制，这增加了不安全因素。此外，几乎每个服务都需要其独特的用户名和密码。这导致大多数计算机用户需要拥有数十甚至数百个不同的用户名和密码。

然而，许多人并非为每个在线账户使用不同的密码和用户名，而是遵循重复使用相同密码的不安全做法。

加剧这一问题的是，主要在线站点的安全漏洞，包括 LinkedIn、Yahoo 等，在黑市上公开出售了数十亿个用户名和密码组合。

这意味着犯罪分子不再需要破解密码，而是可以轻松地处理长长的历史用户名和密码列表，将它们输入自动化软件中，以检查它们是否适用于成千上万个不同的在线服务。

更糟糕的是，犯罪团伙还想出了使用统计数据来规避许多阻止密码“猜测”的密码安全措施的方法。如果他们尝试在一个站点上多次猜测密码，这些尝试可能会被阻止。然而，如果他们从多个位置工作，并且在数千个服务上分布他们的猜测，尝试几乎不可能被检测到。

这导致大多数主要在线服务为其访问安全性增加了更多层次。您可能会注意到，这可能采取重新输入密码和屏幕上显示的唯一代码的要求的形式，或者您可能需要接收一条提供必须输入以确认登录人员确实是帐户持有者的代码的短信或电子邮件。

一些组织过去曾责怪帐户用户由于使用有效的用户名和密码而导致的金钱或信息被盗，但调查已经证明这不再是一个有效的防御。例如，使用僵尸网络进行的分布式机器人密码攻击可以从数千个位置的数千个攻击尝试中尝试数千个密码，这些尝试通过正常手段几乎无法检测到。大多数尝试将失败-但足够多的尝试会成功，使攻击者的这种方法值得一试。

访问系统实际上需要更多的验证手段，不仅仅是用户名和密码。

安全专家还发现，以前推荐的加强密码的技术往往产生相反的效果。例如，使用 4 或 5 个小写字母的随机单词链比包含数字、特殊字符和大写字母组合的 8 个字符密码要难破千倍。

这些 8 字符密码类型相对容易破解，因为密码破解软件已经了解到人类密码模式。例如，密码猜测软件可以假定第一个字符是大写字母，最后一个字符很可能是特殊字符或数字集合。

DDoS（分布式拒绝服务）

通过发送大量不需要的流量来中断网络连接或在线服务的分布式拒绝服务技术已经被使用多年。然而，最近发生了变化的是，发动 DDoS 攻击现在变得很容易，并且可以发送的破坏性流量量大大增加。

这是因为计算机和智能手机曾经几乎是唯一连接到互联网的设备，现在有数十亿其他低成本设备连接到互联网。大多数这些设备的安全性较弱，因此犯罪分子很容易用恶意软件感染它们。在 2017 年初，据估计，大约 80%的“智能”设备实际上具有薄弱和易受攻击的安全性。

现在，网络攻击者相对容易地招募数百万这些安全性较弱的设备，然后利用它们发动大规模的 DDoS 攻击，这在几年前是不可想象的规模。

其他不断发展的攻击方法

另一个重要但经常被忽视的妥协领域是大多数硬件设备上存在 USB 连接端口。

许多形式的数据丢失预防安全程序和硬件配置试图禁用或限制对这些端口的访问；然而，带有恶意内容的硬件通常被设计用来规避安全措施。例如，USB 连接可能仅限于键盘和鼠标，但一块恶意硬件可能被编程成类似键盘或鼠标。它可能在外观上看起来像一个鼠标，但除了这个功能外，它还可能包含恶意软件或内存，以帮助进行攻击。

直接物理连接（例如通过 USB 连接）到已经在网络内部具有访问权限的设备，将会位于几层安全层之外，因为它可以利用已连接设备的现有访问权限。

这种类型的攻击确实需要对设备进行物理访问，但这可以通过一个恶意内部人员故意连接感染的 USB 设备到联网计算机，或者通过一个有意或无意使用被一个秘密攻击者给予的感染设备的目标员工或供应商来实现。

有关感染恶意软件的 USB 设备普遍性的统计数据根据不同研究人员使用的样本而有所不同，但研究表明，所有 USB 设备中有相当数量携带恶意软件。

每当你查看网络安全统计数据时，一定要验证其有效性。它有多新？传达信息的人或团体是否试图推销某种产品（可能存在偏见）？

许多网络犯罪利用了所谓的暗网。

| 暗网 - 隐藏其服务器位置的网站。虽然公开可访问，但它们不在标准搜索引擎上注册，并且隐藏的服务器值使得极其困难确定这些网站背后的组织和人员。 |
| --- |

暗网地点被用于各种非法活动。当软件中的新漏洞被公布时，用于利用该问题的攻击工具包通常在暗网上在 24 小时内可用。暗网也用于出售窃取的数据，为服务中断付费（DDoS 攻击作为一种服务）并交换其他非法形式的信息。使用暗网的犯罪分子还使用各种加密和隐私软件工具来帮助隐藏其用户详细信息。

值得考虑的最终新兴攻击趋势是移动计算的规模和持续增长。已有一半以上的互联网流量使用某种形式的移动设备进行处理。与传统计算机或笔记本电脑不同，移动设备和其他互联网连接设备的持续增加使得这些设备成为网络犯罪分子越来越受欢迎的目标。

不断发展的防御方法

鉴于攻击的规模和复杂性，似乎几乎不可能创建有效的防御。然而，这并不是真的。

随着攻击变得更加复杂，防御措施也在加强。正在发生的主要变化是防御策略现在越来越多地被结合并放置在更多的位置。

例如，移动设备的增加使用意味着一种被称为移动设备管理的安全技术已成为大型企业管理员工使用的平板电脑和智能手机资产的标准。

| 移动设备管理（MDM） - 用于安全控制诸如平板电脑和智能手机等移动设备操作和使用的技术。能够（例如）远程擦除移动设备上的信息并控制允许安装或运行哪些应用程序和功能。 |
| --- |

正如已经讨论的那样，仅使用密码已不再被视为任何安全设备的足够访问控制。多因素身份验证正变得越来越成为一种必需的标准，而不仅仅是一种高安全性选项。

| 多因素身份验证 - 使用多种形式的证据来确认试图请求访问的个人或设备的身份。通常有三种不同的认证类型：（i）你知道的东西[通常是密码]（ii）你拥有的东西[也许是安全令牌或访问卡]和（iii）你是的东西[使用生物识别技术;例如指纹或面部识别]。例如，有效的双因素身份验证将要求在请求访问时，至少需要来自两个不同类别的证明。 |
| --- |

在安全技术中可能最重要的改进之一是使用被称为机器学习的东西来帮助检测和击败攻击。与必须明确识别和阻止已知威胁不同，许多技术（包括最新形式的反恶意软件（通常称为下一代反恶意软件和一些类型的先进端点保护））能够根据每个文件和服务的操作方式智能识别和中和威胁。

而以前人们必须手动指示安全技术如何识别和中和威胁，机器学习程序可以理解计算机系统的常规和允许的行为，因此它们能够智能地了解、报告和阻止可疑的项目或事件。

还有一些技术陷阱可以设置来帮助捕获、追踪和起诉攻击者。蜜罐和蜜罐网络是网络安全专业人员使用的两种技术的例子，它们涉及设置虚假的数字区域，看起来像攻击面的敏感和有价值的部分，但实际上并不包含任何有价值的东西。事实上，这些陷阱是故意用来诱捕、识别和追踪潜在的攻击者及其恶意软件的。

| 蜜罐 - 一种电子设备或数据集，旨在通过检测、偏转或以其他方式对抗攻击者的努力来诱捕潜在的攻击者。设计成看起来像企业攻击面的真实部分，蜜罐不包含对攻击者有真正价值的内容，但包含识别、隔离和追踪任何入侵的工具。蜜罐网络 - 一组蜜罐的集合，它们共同运作以帮助构成网络入侵检测策略的一部分。 |
| --- |

网络记录是许多大型组织正在使用的另一个较新的工具。这允许在攻击结束后重放数周或数月的网络事务，以帮助追踪和识别攻击的性质。

有一些非技术策略也可以显著降低攻击的可能性。

其中一种策略涉及数据保留和销毁。尽管收集大量信息有时可能是有利的，但个人和组织通常会在其网络中保留大量的信息，这些信息的价值有限或较低。这主要是因为数据存储的成本较低，以及保留信息比丢弃信息更明智的看法。然而，保留信息通常是有害的。

实施考虑安全成本作为整体业务策略的一部分的深思熟虑的数据保留和销毁政策可以确保数据只在保持其可证明性时才被保持为活动和可用状态。

电子邮件是这一原则的一个很好的例子。当律师处理案件时，找到表明不当行为的单个通信比重新组装证明相反的完整结构化数据集更容易。如果员工和其他电子邮件系统用户了解到他们的通信在例如 3 个月后将被自动删除，除非特别存储到存档系统中，那么风险曝光就会降低。

同样，即使有法律或业务要求保留信息存储，也很重要确定是否需要活动存储或离线存储满足要求。

这些措施有助于减少攻击表面并集中安全工作。

如果考虑从莫萨克·丰塞卡（Mossack Fonseca）窃取的电子邮件，尽管他们使用的软件已过时且安全配置差，但攻击的成功主要源于他们选择在线保留多年的电子邮件。

减少攻击表面的另一种方法是创建高安全区域，为最敏感的数据增加更多的保护。就像策略可能管理高安全性站点的配置一样，可以强制要求高安全区域是否应该是封闭系统，或者是否所有入站和出站流量都必须完全解密和检查。

| 封闭系统 - 一组仅具有相互通信能力的应用程序、系统和设备。不允许与已知和可信组外的任何组件连接。 |
| --- |

封闭系统经常用于制造线和飞机控制等领域。

最重要的是，所有管理或连接到具有价值的信息或服务的技术都必须通过设计嵌入安全性。仅在网络上部署安全性会错过一半以上的潜在漏洞。

即使是对云服务的配置或供应商系统的使用 - 任何连接或使用的技术都必须确保从最早的设计阶段到最终报废阶段都包含适当的安全性要求和测试。

总之，可以创建高效的防御措施来抵御攻击。

+   在组织中实施这些防御措施最关键的因素是获得执行（董事会级别）对安全正确投资的支持。这需要向执行层呈现组织风险曝光规模和范围的清晰图景。这将在第 12 和 13 章中详细介绍。

+   将攻击表面减少到满足公司业务需求的最小合适尺寸。

+   使用安全架构师帮助简化网络防御点的范围。

+   对信息进行分类，以确定哪些数据集需要最大程度的安全控制。

+   将攻击面划分为反映其传输的信息价值和敏感性的离散段。对最高价值区域应用最严格的安全措施。

+   删除或销毁没有意义或价值低的数据。

+   在所有携带、存储或交易您信息的设备上使用最新的“下一代”防恶意软件。

+   确保您具有强大的用户访问控制，其工作原理是根据提供用户所需最低特权来执行其角色。

+   确保访问控制需要更多的方式来验证用户身份，而不仅仅是用户名和密码。

+   及时为所有设备和操作系统打补丁，使用来自制造商的最新安全更新。

+   部署其他关键的技术对策，如具有强有力政策的高级防火墙到关键位置。

+   确保所有应用程序、系统和物理设备的安全设置都设置为适当的高级别，并删除所有默认帐户。

+   教育您的用户进行良好的安全实践，包括密码管理以及如何识别可疑的电子邮件和附件。

+   确保所有为使用而构建或配置的技术在其生命周期中都包含并测试了安全要求。

记住，防御深度需要对安全性进行全面的审视。物理安全、程序控制和文化条件是最重要和最成功的攻击的关键因素。

只有具有全面了解的组织才能防止重大攻击。

创建有效的组织防御的主要挑战在于保证在必要的技术和措施上获得足够的投资。获得这种投资需要建立一个有效的商业案例（对费用的证明）。随着导致巨额损失的成功攻击数量不断登上头条新闻，改善电子设备及其数据安全的价值相对容易证明。

电子设备及其信息的有效安全需要一个昂贵而广泛的方法，这一方法在董事会层面得到了支持。

无效的安全性甚至更加昂贵。在安全性投资不足的情况下，实际上经常导致了对于对其组织允许承担的网络风险了解不足的主要董事会成员的解雇。
