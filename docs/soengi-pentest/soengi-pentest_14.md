第十一章

# 物理攻击向量

加文·沃森，高级安全工程师，RandomStorm 有限公司

在之前的章节中，攻击的基础已经奠定。现在是真正的乐趣时刻，进入目标，并完成评估。社会工程的物理方面是一个充满高潮和低谷的肾上腺素过山车。本章将帮助充分利用有限的现场时间，并希望不被抓住。

### 关键词

垃圾桶潜水；偷窥肩部；流氓接入点；道具和伪装；徽章和吊带；尾随进入

本章内容

• 在电子邮件和电话攻击的基础上

• 主动信息收集

• 垃圾桶潜水

• 偷窥肩部

• 摄影

• 接待区

• 公共访问区域

• 流氓接入点

• 道具和伪装

• 徽章和吊带

• 尾随进入

• 撬锁

• 一旦你进入内部

## 介绍

上一章提供了一些关于如何执行基于电话的社会工程方案的实用建议。讨论了现实世界的例子，展示了它们在许多现代攻击中的持续有效性。

以电话呼叫开始的攻击通常会导致对目标建筑的完全损害，而不仅仅是敏感信息的泄露。前一章介绍了作者用来实现这一目标的一些技术。然而，物理上攻击建筑的安全并不止于此，还需要考虑许多其他因素。

本章的目的是提供关于物理攻击作为社会工程评估的一部分的一些建议。将涵盖诸如通过分析接待区进行主动信息收集技术等主题。

将讨论各种行业工具，包括道具和伪装，假徽章和吊带，RFID 和磁条克隆器，撬锁。

## 在电子邮件和电话攻击的基础上

第四章 讨论了如何有效地利用时间来串联攻击向量，从而在评估中使用;一个攻击中披露的信息然后可以用来帮助下一个。在许多评估中，这将是自然的进展，对建筑物进行物理攻击将是基于已经完成的所有先前攻击的最后情景。

一旦电话和电子邮件攻击完成，就会有大量信息可供使用。侦察应该已经揭示了所有员工，他们的职位和联系方式，以及有关公司本身的所有信息。已经看到一通电话可以安排通行证或会议室，这可以在不进入现场的情况下完成。然而，尽管这种攻击非常有效，但在安全级别高于平均水平的企业中可能效果不佳。如果客户拥有成熟和经过测试的安全控制，则重点可能需要放在建筑物本身的属性上。因此，电话和电子邮件攻击将需要收集在突破建筑物安全方面和在实现这一目标后可以预期到的信息。

很明显，应该收集尽可能多的信息，但如果计划攻击建筑物，则应该回答一些基本问题。这些都是基本的安全问题，在这个列表中，它们从外向内工作。

• 是否有其他可以冒充的分支机构？

• 附近是否有其他企业？

• 周边地区是否由围栏保护，还是可以直接走到主门口？

• 是否有带栏杆的安全停车场？

• 是否有安保人员？

• 大楼外有安保办公室吗？

• 主要接待处是否有安保措施？

• 任何时候是否有多名接待员值班？

• 公司是否在建筑内实施 RFID 或磁条控制？

• 目标区域在哪一层？

• 有哪些第三方企业与目标公司合作？

大多数信息可以通过现场访问快速获取，但如果可以远程获取，则风险较小。此外，以上每个都是一个单独的社会工程场景，识别了该企业的信息披露漏洞。

为了展示像上面这样的信息有多容易获取，考虑一下作者们在实地评估前两天打给目标企业安保办公室的电话：

| 目标 | “你好，xyzsecurity 怎么帮您？” |
| --- | --- |
| 你 | “你好，我是来自切斯特分公司的史蒂夫。我要去开会，但我刚刚被告知我的通行证在你们大楼里不能用，是这样吗？我记得上次我在那里时它还是有效的。” |
| 目标 | “不，它进不了接待处，但他们会让你进去，而且你不需要通行证在内部移动。” |
| 你 | “停车场的栏杆呢？” |
| 目标 | “一样的，他们会让你通过。” |
| 你 | “太好了，谢谢。” |

这些信息不会立即导致建筑物被入侵，但它们非常有用。我们打电话给安保办公室的事实显然告诉我们他们有保安人员，即使只是用来监视摄像头。还发现，要想在不与他们交谈的情况下进入接待处，需要一个通行证。有一个停车场，它用障碍物保护着。最后，不需要通行证就能在内部移动的事实至关重要；如果可以获得通行权，这意味着可以自由移动，从一个部门到另一个部门，从一层到另一层，甚至无需搭车。这意味着潜在的攻击者可以在入口处之一搭车，然后自由地在内部移动。如果情况是这样的话，那么在评估过程中应该尝试一次搭车情景。

在收集这些信息时，也很重要关注员工。正如第八章所述，侦察和攻击也可能揭示关键信息，例如员工徽章的设计以及他们通常穿什么颜色的挂绳。

## 主动信息收集

尽管有可能远程和安全地收集关于建筑物安全的大量信息，但实际访问现场将提供最大的见解。可能有一些物理安全控制和建筑属性是通过远程手段根本无法发现的。例如，一旦到达现场，就可能发现他们整个夏天都让后门敞开。要远程识别这种物理漏洞至少是具有挑战性的。然而，这不仅仅是指明显的物理漏洞，如敞开的门，还有大量关键信息可以通过实际访问现场来收集，例如目标企业、员工和物理安全控制。如上所述，当测试高安全性客户时，可能绝对需要包括一项物理侦察阶段，以填补远程侦察未能获得的遗漏信息。

### 垃圾搜查

垃圾搜查已经在本书中多次简要提到过，这一点并不令人惊讶，因为它是一种真正经典的技术。严格来说，翻找某人的垃圾堆并不是心理操纵的巅峰，但重要的是信息的使用方式。它合法吗？这取决于意图，取垃圾的地点是住宅还是商业场所，以及行为所在的国家。是否将垃圾视为盗窃是有争议的，但如果垃圾存放在公司财产上，那么如果试图未经允许获取垃圾，肯定会有擅自进入的一面。然而，在社会工程学评估方面，应该已经获得了执行此类情景的许可。

需要考虑的第一个挑战是如何真正接触到垃圾。如果已决定将其纳入评估中，也许是根据客户的要求，则需要回答以下基本问题：

• 垃圾是否放置在安全的位置？

• 平均有多少垃圾？

• 垃圾是否分为不同的类别？

• 业务是否与其他业务共用垃圾箱？

• 垃圾箱本身是否锁定或以任何方式受到保护？

• 你能否在不被察觉的情况下取出垃圾？

• 通常是谁收集垃圾，何时收集？

可以启动一系列电子邮件或电话攻击来回答这些问题。例如，打电话作为卫生与安全检查员、垃圾收集公司或任何其他以某种方式与之互动的第三方。可能有一个专门的公司负责安全且安全地处理媒体或文件。

如果其中一些问题可以得到答复，那么您可能只需走过去收集垃圾即可。例如，可能会发现业务后面有一些没有任何安全控制的垃圾箱。在夜间到达并秘密地带走袋子以进行检查可能是一项简单的任务。请记住，带走袋子要比在现场花费时间仔细查看要少得多，风险也更小。

请记住，这里处理的是垃圾，除非确切知道每个袋子里装了什么，否则要做最坏的准备。戴上重型安全手套、护目镜和适当的服装。不要跳进垃圾箱，只需干净地拿出袋子并将其运送到适当的区域以检查其内容。

如果垃圾区域受到保护，那么可能需要设计一个适当的借口来获得访问权限。这就是对通常获得访问权限的人进行侦察变得有用的地方。一个基本的情景可能是联系保安并冒充员工。顾问警告保安，xyzgarbage 公司的检查员将前来现场进行基本检查。然后，以 xyzgarbage 检查员的身份到达后，唯一的挑战将是说服保安需要被单独留下，“*我有很多事情要做，我在出门时再来找你可以吗？*”。或者工程师可以冒充员工，并向保安解释一份重要文件被意外丢弃了，是否可以提供进入该区域以检查垃圾箱？

寻找什么？许多书籍和文章会长篇大论地讨论寻找 USB 驱动器、硬盘、包含密码的纸片、网络图、列有员工名单的文件等。这些是显而易见的东西，实际上不应该需要一本书来说明这些信息有多么有用。如果有一个关于搜垃圾的实用建议，那么作者可以给出的建议就是考虑任何一条尚未知晓的具体业务信息是否有用。是的，找到贴有密码的便笺会很棒，但不要忽视其他潜在的关键信息。例如，如果发现了一个被扔掉的电子邮件对话的打印件。该对话的知识是否可以被用来获得信誉？是否有员工扔掉了一些包裹包装和通常包含在内的收据？因为这将包含物品和交付的细节，这使得冒充成提供物品的企业或投递物品的交付公司成为可能。

重要的是，这是一个处理所有垃圾并仔细思考所发现内容的情况。这是已经拥有的信息的重复吗？如果不是，有没有办法利用它？结果可能会非常有趣！

### 肩部窃听

肩部窃听是另一种经常被描述为社会工程学的信息收集技术。然而，与搜垃圾一样，重要的不是技术本身，而是如何使用所收集的信息。在最基本的意义上，肩部窃听是偷看别人在做什么的一种行为；输入、写作等。例如，一名员工可能会在同事输入密码时偷偷看他们的键盘，或者在撰写电子邮件时查看显示器。

可以争论说采用这种技术没有什么好处，因为已经实现了对目标建筑物的访问。虽然已经突破了安全，知道员工的密码可能会有些用处，但更容易的方法是插入设备并远程攻击网络。这是正确的，但员工并不是“总是”在目标建筑物内。例如，尽管是一种长期的技术，但攻击者可以在当地咖啡馆通过窥视员工使用笔记本电脑。如果密码可以看到，那么就可以用来访问企业电子邮件。然后可以用此来发起钓鱼邮件攻击。

寻找密码是显而易见的，但请记住，社会工程师可以潜在地使用任何信息来攻击企业。再次考虑咖啡馆的例子，攻击者还能看到什么？他们将能够看到操作系统版本、Web 浏览器、他们正在使用的软件以及笔记本电脑的制造和型号。这些都是非常有用的信息，可以在发动钓鱼攻击时帮助攻击者。了解所使用的软件可以缩小可能成功的攻击范围。

### 摄影

当针对一个实体建筑时，拍照的想法似乎是个明智的选择。在电影和电视节目中，有许多例子是专业团队秘密拍摄目标建筑和相关员工。在当今社会工程学中，这是必要的吗？相当可预测的答案是取决于具体情况。一般来说，拍摄建筑物通常是不必要的，因为快速访问 GoogleMaps 街景将提供足够清晰的建筑外部照片。如果无法获取在线照片，那么花时间拍照就只有在报告中包含相关内容时才真正必要。事实上，客户知道他们的建筑长什么样，他们每天都去那里。因此，包括一些建筑外部的照片对他们来说不会太有用。然而，如果由于安全控制而难以靠近拍照，那么这样做就会暴露出某些漏洞。从这个意义上讲，拍摄照片的行为变得重要起来。另一个应该包括建筑物照片的情况是如果它们指出了特定的漏洞。例如，作者进行的某项特定评估揭示了一个用廉价的插销锁定的外部门。门上方有三台安装在杆上的安全摄像头，没有一台摄像头覆盖门或通向门的路径。这是一个明显的问题，因此包括了照片。

一旦进入建筑物，照片通常用于“证明”已经访问到了目标。因此，可能会拍摄限制区域或在评估范围内定义的特定对象的照片。然而，这种使用摄影来证明目标已经实现，而不是为了主动信息收集的目的。

-   如果目标地点是非常高安全性的，并且有可能被摄像机拍到，那么摄影可以用于绘制特定的安全控制。一旦确定了摄像机的位置、方向、品牌和型号，理论上就可以制定避开它们的方案。然而，只有在计划进行“砸砸抢”方式的行动时才有必要这样做，即所有活动都需要保密。请记住，这种类型的情景很危险，只能确定少数几个漏洞，可能不能与客户的实际风险相匹配，并且应该总是最后尝试。

-   在现场使用摄影的最佳方式之一是拍摄员工的照片，他们穿着什么，佩戴什么颜色的挂绳和访客通行证。使用手机相当容易，只需记得将其调至静音，因为拍照的声音可能会迅速暴露任何行动！正如本书中多次提到的那样，吸烟区是与员工进行交流而又不易引起怀疑的好地方。由于员工们在这些区域往往被聚集在一起，拍照是相当直接的。

### -   -   接待区

-   接待员往往在社会工程评估中受到很多关注，原因已在本书中讨论过。如果一个接待员被妥协，那么入侵企业的安全将变得非常容易。然而，这个概念应该延伸到接待区本身。一般来说，这是门卫室，任何员工、承包商或访客在通过之前都会被筛查和希望得到认证。因此，如果在接待区本身找到了基本的漏洞，它们就可以在攻击场景中得到很好的利用。

-   曾经有案例显示，作者在目标接待处发现了自己社交媒体页面上的照片。然而，侦察可能不会透露这些信息，而获得这些信息的唯一方式就是亲自在接待处。这是否意味着这些信息只能在执行实际情景时才能获取和使用？不，有很多理由可能会有人出现在接待处。例如，迷路并简单地问路，或者甚至可能误入了错误的企业，尽管要小心不要在实际攻击中使用同一顾问，因为接待员可能会认出他们。

-   只需几秒钟时间四处看看，并注意重要的安全特征即可。考虑记录以下内容：

-   -   接待区是否足够大且繁忙，以至于你可以不被注意？

-   -   有多少接待员？

-   -   是否有保安？

-   -   是否有签到簿？

-   接待员会向访客发放什么？

-   -   接待区朝向什么方向？你可以不被注意地进入吗，还是接待员会立即问候你？

• 内部建筑有多少个门？它们有什么访问控制？

• 如果有其他门，它们会开多久？

• 有楼梯门吗？

• 有电梯吗？如果有，它有访问控制吗？

• 有等候区吗？

• 有公共接入终端吗？

• 有没有可见的网络接入点？

• 有什么身份验证控制？单人旋转门，生物识别或人体陷阱系统？

• 摄像头在哪里？它们覆盖了访问控制还是只是接待处？

这听起来都是非常明显的事情，但是令人惊讶的是，企业经常会犯简单的错误。作者曾经看到过旁边是 RFID 安全门的接待处，但电梯根本不需要任何身份验证。曾经看到过可以在接待员桌后进入并朝楼梯走的个人而不被看到的接待处。曾经看到过具有实时网络接入点的接待区/等候区。由于公共接入终端可以完全看到企业网络，安全漏洞变得可能。

永远不要低估接待区可能存在的漏洞，因为它们可能被利用来突破网络的安全，甚至是建筑物本身的安全。

### 公共接入区域

对于社会工程师来说，公共接入区就像一个接待处，但几乎没有被质疑的风险。企业提供了一个可以被任何人利用的服务区域。一个很好的例子是医院；在大多数情况下，人们可以自由进入并坐在食堂或各种等候区，而不会受到质疑。这些区域对企业来说是一个非常严重的安全情况。在理想的情况下，该区域将完全锁定，不与实际企业网络连接，并且没有可用于攻击的服务或信息。然而，事实很少如此，公共接入区域往往是攻击者等待利用的主要弱点。

就侦察而言，公共接入区域是攻击者可能了解建筑布局的机会。他们理论上可以留在这个安全区域，并观察所有通往受限区域的入口，看接待员何时换班，或者看安全人员何时离开。

如前一节所述，公共访问区域通常有公共访问终端和网络点。希望网络点已经被禁用或者在物理上无法访问；如果有机会的话，攻击者肯定会检查。至于公共访问终端，即使它们没有连接到企业网络，它们是否有任何重复使用的密码？也许企业网络上的一个高特权用户在该终端上重复使用本地管理员密码。终端本身如何安全？作者曾见过终端被放在一个配有廉价易于撬开的片状锁的小柜子里，“安全”起来的情况。

攻击者可以轻易地撬开锁并随意篡改设备。如果它们有公共访问终端，请仔细考虑它们存储的信息和它们使用的连接。

### 流氓接入点

下一章将讨论可以用作现场社会工程评估一部分的各种设备。这些主要是可以用于建立出站连接（后门）的设备。流氓接入点是实现这一目标的一种方式。如果攻击者能够插入一个“流氓”无线接入点，他们可以从安全距离（如停车场）或者甚至更远的地方使用专业设备攻击网络。然而，值得一提的是，在本章中提到流氓接入点的能力以远程收集信息。

攻击者可以不必进入建筑物并安装一个流氓接入点，而是可以在建筑物外面设置一个。如果员工连接到这个无线网络，他们的流量可能会被拦截并解析出有用的信息，包括密码。攻击者会设置一个广播 SSID 的开放式无线网络，例如“OpenWifi”或“免费上网”。如果他们想要针对 IT 部门的员工，他们可以启用 WEP 加密，希望更专业的员工会尝试黑入并使用这些服务。

这种类型的攻击对于那些没有无线网络的企业来说是最有效的，不管是出于安全原因还是一般的实用性。在这样的企业中，员工通常会感激能够连接他们的智能手机或笔记本电脑到无线网络上以供自己使用。因此，一个免费的无线网络会相当诱人。

有机会攻击连接到接入点的员工的计算机。这是一种有效的技术，如果成功的话，它可以提供对企业网络的立足点。例如，通过妥协员工的计算机，可以安装一个在计算机连接到企业网络时回调的后门程序。然而，这样的攻击场景开始偏离社会工程的重点。

这种技术可以被社会工程师用来收集用户名和密码。如果攻击者获得了诸如员工的电子邮件帐户之类的服务的访问权限，那么他们可以发起非常有效的网络钓鱼邮件，并且可以了解潜在目标的大量信息。员工访问的网站可能是非常有用的信息，可以用来针对他们。员工重新使用密码在企业服务上的可能性也存在严重的安全问题。

这样的技术能在社会工程评估中使用吗？一般来说，这是一个灰色地带，取决于评估是在公共部门还是私人部门进行，以及在哪个国家进行。这里的主要问题是攻击很可能会收集员工的个人信息（如个人账户密码），并可能违反《1998 年人权法》等法律法规。访问员工的企业电子邮件帐户与访问他们的个人电子邮件帐户是完全不同的事情。

## 道具和伪装

道具和伪装经常出现在夸张的间谍电影和电视节目中。在现实世界中，戴着假胡须和厚厚的眼镜愚弄保安是荒谬的想法。然而，无论这个想法多么荒谬，每个专业社会工程师的工具包中都应该有一些特定的物品。

如果意图是在现场冒充一个角色，那么你显然需要看起来像是那个角色。正如前几章所讨论的，冒充是指看起来、听起来和行为举止都与被冒充的角色完全一致。因此，任何社会工程工具包都应该包含适合各种不同角色的服装和物品。这包括从正装到工作服、夹克、文件夹、公文包、工具箱等一切。花点时间为虚构公司和实际存在的公司创建一系列制服，当然不包括紧急服务！此外，考虑一下细节，花钱绣上标志而不只是印刷上去，如果合适的话，包括匹配的棒球帽，甚至定制的挂绳上印有公司名称。

道具可以在获得信誉方面起到很大的作用，但请记住，它们必须被视为支持性物品，而不是攻击的基础。不要根据向保安挥舞文件夹使访问看起来官方的情节。这些物品是为了使冒充更具说服力，以及为了获得更好的信誉，以便能够执行主要情节并增加成功的机会。例如，如果要携带一个文件夹，请考虑打印一封带有目标企业标志的假信件。任何看到标志的旁观者可能会立即给予信任，甚至可能根本不多考虑。

一个非常常见且老套的组合是工人的高能见度背心和安全帽。这种打扮的人大多数人都不会想去质疑。一个社会工程师可以和同事一起在目标地点四处走动，指着屋顶，在剪贴板上写字。任何旁观者都会假设他们正在进行某种检查，并且不会再多想。这种技术现在已经相当过时，大多数意识培训项目可能会涵盖它。如果计划使用这种身份冒充，那么要仔细考虑细节。一个常见的错误是购买全新的高能见度背心和安全帽，这在某种程度上显得不太正常。有多少工人穿着全新的服装？当作者们最初建立社会工程服装时，他们用旧的背心和帽子换掉了全新的。不幸的是，使用过的物品散发着柴油味，但至少它们看起来是真实的，因为它们是真实的。如果没有别的办法，这种服装组合可以在垃圾箱翻找时使用，因为任何有合法理由与垃圾互动的人都会穿着类似甚至相同的服装。

## 徽章和挂绳

在本章中，我们已经提到了徽章和挂绳，但是由于它们在物理社会工程活动中占据了如此重要的位置，它们值得拥有自己的章节。

员工徽章通常具有多种功能，如身份识别、身份验证和授权。徽章通常会显示个人姓名、职位、部门、照片、企业名称、企业标志和其他杂项信息。徽章本身还可能配备有射频识别（RFID）或磁条，并使员工能够验证自己以通过某些物理安全控制。在安全环境中，员工被告知确保他们的徽章随时可见。承包商和访客可能会被赋予不同类型的徽章，可能具有非常不同的格式，或者他们的徽章可能只是从签到簿中撕下来的纸质临时徽章。

正如前文所述，秘密拍摄当前使用的徽章并不困难。由于安全最佳实践鼓励员工将其保持可见，这项任务变得更加容易。经常发现的情况是，员工在上班路上、外出午餐或回家途中仍然将徽章佩戴在外衣上。因此，社会工程师有机会制作一个假徽章以获得可信度，并使冒充更具说服力。所需的只是一个基本的照片编辑软件包，就可以创建一个非常逼真的复印件。请记住，员工徽章通常只是一个徽标（可以在线获取）、一张照片（可以本地复制）和几行文本。如果计划执行涉及冒充其他分支机构员工的情景，那么假通行证可能就是证明身份的全部所需。

显然，假通行证无法提供 RFID 或磁条的身份验证益处，因此在情景中需要考虑到这一点。如果将通行证举到读卡器前却没有任何反应，试着对后面的人耸耸肩，说这又出问题了。他们会挑战这种说法吗？可能不会，特别是如果通行证看起来很可信，而且你对情况感到很生气的话。

有一些设备可以克隆磁条或重放 RFID 令牌的信号。然而，使用这些设备超出了本书的范围。此外，要仔细考虑试图证明的内容以及如何实现。如果已知客户的特定 RFID 实现使用可以重播甚至克隆的通行证，那么可能只需要通知客户。然后他们可以权衡风险与更换身份验证系统的成本，而无需进行复杂的社会工程情景。

人们倾向于读到上文后决定让所有员工将徽章反戴，只显示一个没有特征的卡片支架。作者们在实践中看到过这种情况，当然这是愚蠢的，因为社会工程师甚至不需要制作假徽章，他们只需反戴一个空的卡片支架。最好的防御方法是根据员工的职位或部门设置不同格式的徽章和不同颜色的挂绳。这意味着社会工程师必须弄清楚什么颜色或格式与哪个部门相匹配，否则就会有风险暴露身份。

## 尾随

尾随是一种有趣的技术，现实世界的攻击者和专业安全顾问经常使用。其基本前提是利用员工在身份验证到诸如 RFID 这样的物理安全控制时的访问权限。大多数人都受到社会习俗的约束，为了礼貌和谦逊而紧跟在他们身后开门。如果门不被保持开着，后面的人可能会感到被冒犯。如果简单地不保持门开着就会引起冒犯，那么质疑该人员证明其身份会有什么作用呢？

可以通过各种方式增强这种效果，比如假装在电话上争吵，携带一个看似沉重的物品，甚至带着拐杖出现。任何可以使个人不太可能想要质疑的事情都是有益的。

企业“可能”有办法防御尾随，但并不容易。作者曾与客户合作，如果员工在另一个人等待通过时不闭上门，就会威胁对其采取纪律行动，最终导致一排人轮流开关门。这种方法似乎是有效的，但只能针对短期攻击场景。员工们都完全了解这个程序，但新的第三方承包商和访客不会。如果攻击者能够找出这样一个承包商或访客何时到达，他们就可以在其后进行尾随。此外，社会工程师可以作为一个带有同伴尾随的访客出现。

还有其他更昂贵的解决方案，比如单人旋转门或最终的人体验证系统。这些物理安全控制专门设计用于防止尾随。例如，使用人体验证系统，个人必须被验证一次才能进入一个通常只能容纳一个人的小空间。然后他们会被“困”在隔间内，直到第二次验证为止。一些系统实际上会为个人的验证细节分配一个重量，以确保他们不是在系统中携带着别人。尽管这些系统可以防止尾随，但它们并不是没有漏洞的。例如，作者曾见过一些允许同一张卡多次进入系统的人体验证系统，而不必先离开。这意味着有效的通行证可以被用来让多个人通过。

另一个可能的解决方案是为每个出入口指定安保人员。然而，这是一个昂贵的选择，而且可能会被简单的分散注意力技巧所规避。

尾随进入已经在本书中多次提到作为一种在评估结束时使用的技术。之所以这样做是因为尾随进入可能非常危险，特别是如果没有令人信服的证件或一个好的掩饰故事。无论员工付出多少努力来阻止挑战，这种情况仍然很容易发生。因此，通过在测试开始时执行基于尾随进入的场景，您可能会危及整个评估。尾随进入是一种重要的技术，但应该最后尝试。

作者知道安全公司会以尾随进入为基础进行整个评估。例如，客户会说每年一群顾问会在建筑物周围走动并尝试进入。这对客户来说有“一定”价值，但正如本书多次强调的那样，这应该只是与客户实际风险相一致的众多技术之一。因此，除非客户的主要风险来自公众成员尾随进入建筑物并从中偷窃，否则这种技术应该是评估的一个补充而不是基础。

尾随进入在一段时间内肯定是一种强大的技术，企业将很难阻止。然而，作为一名评估员，要仔细考虑尝试的漏洞是什么，以及尾随进入如何融入整体方法。

## 开锁技术

最初，开锁技术并不打算包含在本书中，因为这个主题已经被 Deviant Ollam 等作者在《实用开锁技术》和《王国之钥》等书中进行了全面而优雅的探讨。毫无疑问，如果计划是闯入建筑物或建筑物内的办公室，那么开锁技术这样的技能确实非常有用。然而，与其试图将大量材料压缩成几页，不如决定提供一种在社会工程场景中使用开锁技术的实用性观点。

首要的是，撬锁“可能”会损坏锁。在绝大多数情况下，损坏不会影响锁的使用，但总有可能。因此，重要的是在与客户的约定中包含这一点。他们需要意识到这种风险，无论多么小，然后决定是否可以使用这种技术。这一点在与一个特定客户合作时变得非常明显，该客户从一开始就规定绝对不得尝试撬锁。当询问原因时，客户表示之前的顾问在未告知他们的情况下使用了这些技术。那些顾问没有意识到，如果任何一个锁被损坏并需要更换，那么每一个其他的锁也都需要更换。在这种特定情况下，这样做的成本是巨大的。因此，避免尝试任何撬锁，但作为评估的一部分，建议在某些区域增加额外的安全控制，因为真正的攻击者不会在意锁是否被损坏。

在考虑使用撬锁进入建筑物，如外部门时，一定要非常谨慎！重要的是要考虑那扇门的另一侧是否已知。想象成功撬开锁并进入一个挤满人的办公室，所有人都转过身来看。一个明显的解决方案是在夜间进行撬锁，尽管以这种方式进行的评估也有自己的一套风险。例如，是否可以向警察递交一封“免于入狱”的信而不是给员工？此外，真正的攻击者可能只是打破窗户或强行打开门，这通常超出了大多数评估的范围。

撬锁最好的用途当然是在建筑物内部。大多数文件柜、橱柜和抽屉都使用廉价的片式锁，大多数情况下，这些锁可以在几秒钟内轻松绕过。请记住，他们的目标可能是证明对敏感文件的访问权限，因此获得对文件柜的访问权限可能是必不可少的。当然，可以设计情景使员工自愿打开文件柜或检索文件，撬锁只是其中一种可用选项。

内部办公室的门通常采用插销锁，虽然比片式锁更难撬开，但通常并不会带来太大挑战。

面临的最大挑战是不知道撬锁需要多长时间。可能只需几秒钟，几分钟，甚至更长时间。此外，当有人蹲下弄锁时，如果有人看到，很快就会引起怀疑。因此，只有在有足够的信心不被发现的情况下才尝试撬锁。有时，如果被抓个措手不及，解释自己是锁匠，客户丢失了钥匙可能就足够了，有幸的话。

## 一旦你进入

有时，目标可能仅仅是进入建筑物或特定受限区域。在这些情况下，大多数情景将集中在实现这一目标的各种方式上。然而，还有许多情况下，进入建筑物只是评估的开始。客户可能希望探索其他领域，比如员工对现场攻击者的社会工程学有多容易上当，或者写在纸片上的密码是否真的构成重大风险。这就需要将多个情景串联起来，并从一个情景无缝执行到另一个情景。总是有可能改变策略或创建新的情景，如果看到机会，但要注意遵守客户的目标和实际风险。

作者的目标是进入目标建筑物并登录员工的工作站，要么是通过获取他们的密码，要么是让他们登录。我们成功进入了建筑物，然后在部门之间移动，尝试一系列非常简单的情景。我们接近一名员工，解释说我们正在与 IT 部门合作，试图解决他们遇到的一些问题。除非被进一步询问，我们会保持相当模糊。我们询问是否有任何工作站或热座位可用。一旦坐下并尝试登录，我们会再次接近同一名员工，解释说 IT 提供的凭据不起作用，他们能否为我们登录？结合礼貌的态度并加入诸如“*真的很抱歉再次打扰您…*”之类的短语，员工们乐意帮忙。在这一点上，如果我们是真正的攻击者，我们将可以自由攻击网络或安装后门。当我们从部门到部门移动时，我们会尝试设计不同的情景，以识别不同的漏洞集。

进入建筑物后，这本身就提供了一定程度的可信度。就像“认证链”起作用一样，员工们会假设前台已经对访客进行了筛查。

可以说，进入建筑物的情景和针对现场员工的情景可以分开。然而，评估通常在短至两到三天的时间内进行，这可能需要包括侦察和远程攻击。因此，除非客户有足够的预算来展开攻击，否则可能别无选择，只能一起执行所有现场攻击。

进入建筑物后，如果需要，最好找一个“安全避难所”，进行估计，并为下一个情景做准备。这可以是一个空的会议室，一个食堂，或者如果情况足够严重，还可以使用洗手间。例如，假扮成电气工程师进入建筑物，然后前往洗手间换上一套正装。下一个情景可能是基于内部审计，或者是作为企业的新员工。一个相对安全的区域，如会议室，可以用来准备，甚至是攻击网络，只要网络节点是活动的。如果有人进入房间，只需道歉解释你以为那时是空闲的。食堂总是一个准备方案的好地方，因为这些区域经常会有来自员工、访客和承包商的流量，所以你不太可能受到挑战。

## 摘要

物理攻击矢量通常是整体社会工程评估的重要组成部分。通常，远程电子邮件和电话攻击会揭示用作物理攻击基础的信息。将所有攻击矢量串联起来是有效利用时间的好方法，并增加了在物理攻击期间取得成功的机会。

本章介绍了攻击者使用的最常见的“主动信息收集”技术。这些技术有时甚至可以在没有任何先前的侦察的情况下导致安全妥协。

对一家公司执行物理攻击显然需要顾问们亲自到场。因此，任何试图冒充的尝试都变得更加复杂，可能需要视觉道具、伪装和证件。为了执行有效的评估，应该获取一整套服装、道具、挂绳、徽章和证件。

下一章将继续讨论物理攻击矢量的主题，涵盖可以用于支持情景的各种设备。
