["```py\n>>> from [fuzzingbook.MutationAnalysis](MutationAnalysis.html) import <identifier> \n```", "```py\n>>> for mutant in MuFunctionAnalyzer(gcd, log=True):\n>>>     with mutant:\n>>>         assert gcd(1, 0) == 1, \"Minimal\"\n>>>         assert gcd(0, 1) == 1, \"Mirror\"\n>>> mutant.pm.score()\n->  gcd_1\n<-  gcd_1\nDetected gcd_1 <class 'UnboundLocalError'> cannot access local variable 'c' where it is not associated with a value\n\n->  gcd_2\n<-  gcd_2\nDetected gcd_2 <class 'AssertionError'> Mirror\n\n->  gcd_3\n<-  gcd_3\n\n->  gcd_4\n<-  gcd_4\n\n->  gcd_5\n<-  gcd_5\n\n->  gcd_6\n<-  gcd_6\n\n->  gcd_7\n<-  gcd_7\nDetected gcd_7 <class 'AssertionError'> Minimal\n\n0.42857142857142855 \n```", "```py\n>>> class TestGCD(unittest.TestCase):\n>>>     def test_simple(self):\n>>>         assert cfg.gcd(1, 0) == 1\n>>> \n>>>     def test_mirror(self):\n>>>         assert cfg.gcd(0, 1) == 1\n>>> for mutant in MuProgramAnalyzer('gcd', gcd_src):\n>>>     mutant[test_module].runTest('TestGCD')\n>>> mutant.pm.score()\n======================================================================\nFAIL: test_simple (__main__.TestGCD.test_simple)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2565918356.py\", line 3, in test_simple\n    assert cfg.gcd(1, 0) == 1\n           ^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 1 test in 0.000s\n\nFAILED (failures=1)\n======================================================================\nFAIL: test_simple (__main__.TestGCD.test_simple)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2565918356.py\", line 3, in test_simple\n    assert cfg.gcd(1, 0) == 1\n           ^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 1 test in 0.000s\n\nFAILED (failures=1)\n======================================================================\nFAIL: test_simple (__main__.TestGCD.test_simple)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2565918356.py\", line 3, in test_simple\n    assert cfg.gcd(1, 0) == 1\n           ^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 1 test in 0.000s\n\nFAILED (failures=1)\n======================================================================\nFAIL: test_simple (__main__.TestGCD.test_simple)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2565918356.py\", line 3, in test_simple\n    assert cfg.gcd(1, 0) == 1\n           ^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 1 test in 0.000s\n\nFAILED (failures=1)\n======================================================================\nFAIL: test_simple (__main__.TestGCD.test_simple)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2565918356.py\", line 3, in test_simple\n    assert cfg.gcd(1, 0) == 1\n           ^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 1 test in 0.000s\n\nFAILED (failures=1)\n======================================================================\nFAIL: test_simple (__main__.TestGCD.test_simple)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2565918356.py\", line 3, in test_simple\n    assert cfg.gcd(1, 0) == 1\n           ^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 1 test in 0.000s\n\nFAILED (failures=1)\n======================================================================\nFAIL: test_simple (__main__.TestGCD.test_simple)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2565918356.py\", line 3, in test_simple\n    assert cfg.gcd(1, 0) == 1\n           ^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 1 test in 0.000s\n\nFAILED (failures=1)\n\n1.0 \n```", "```py\ndef ineffective_test_1():\n    execute_the_program_as_a_whole()\n    assert True \n```", "```py\ndef ineffective_test_2():\n    try:\n        execute_the_program_as_a_whole()\n    except:\n        pass\n    assert True \n```", "```py\ndef triangle(a, b, c):\n    if a == b:\n        if b == c:\n            return 'Equilateral'\n        else:\n            return 'Isosceles'\n    else:\n        if b == c:\n            return \"Isosceles\"\n        else:\n            if a == c:\n                return \"Isosceles\"\n            else:\n                return \"Scalene\" \n```", "```py\ndef strong_oracle(fn):\n    assert fn(1, 1, 1) == 'Equilateral'\n\n    assert fn(1, 2, 1) == 'Isosceles'\n    assert fn(2, 2, 1) == 'Isosceles'\n    assert fn(1, 2, 2) == 'Isosceles'\n\n    assert fn(1, 2, 3) == 'Scalene' \n```", "```py\nstrong_oracle(triangle) \n```", "```py\nimport [bookutils.setup](https://github.com/uds-se/fuzzingbook//tree/master/notebooks/shared/bookutils) \n```", "```py\nfrom [Coverage](Coverage.html) import Coverage \n```", "```py\nimport [inspect](https://docs.python.org/3/library/inspect.html) \n```", "```py\nclass VisualCoverage(Coverage):\n    def show_coverage(self, fn):\n        src = inspect.getsource(fn)\n        name = fn.__name__\n        covered = set([lineno for method,\n                       lineno in self._trace if method == name])\n        for i, s in enumerate(src.split('\\n')):\n            print('%s  %2d: %s' % ('#' if i + 1 in covered else ' ', i + 1, s)) \n```", "```py\nwith VisualCoverage() as cov:\n    strong_oracle(triangle) \n```", "```py\ncov.show_coverage(triangle) \n```", "```py\n   1: def triangle(a, b, c):\n#  2:     if a == b:\n#  3:         if b == c:\n#  4:             return 'Equilateral'\n   5:         else:\n#  6:             return 'Isosceles'\n   7:     else:\n#  8:         if b == c:\n#  9:             return \"Isosceles\"\n  10:         else:\n# 11:             if a == c:\n# 12:                 return \"Isosceles\"\n  13:             else:\n# 14:                 return \"Scalene\"\n  15: \n\n```", "```py\ndef weak_oracle(fn):\n    assert fn(1, 1, 1) == 'Equilateral'\n\n    assert fn(1, 2, 1) != 'Equilateral'\n    assert fn(2, 2, 1) != 'Equilateral'\n    assert fn(1, 2, 2) != 'Equilateral'\n\n    assert fn(1, 2, 3) != 'Equilateral' \n```", "```py\nwith VisualCoverage() as cov:\n    weak_oracle(triangle) \n```", "```py\ncov.show_coverage(triangle) \n```", "```py\n   1: def triangle(a, b, c):\n#  2:     if a == b:\n#  3:         if b == c:\n#  4:             return 'Equilateral'\n   5:         else:\n#  6:             return 'Isosceles'\n   7:     else:\n#  8:         if b == c:\n#  9:             return \"Isosceles\"\n  10:         else:\n# 11:             if a == c:\n# 12:                 return \"Isosceles\"\n  13:             else:\n# 14:                 return \"Scalene\"\n  15: \n\n```", "```py\ndef triangle_m1(a, b, c):\n    if a == b:\n        if b == c:\n            return 'Equilateral'\n        else:\n            # return 'Isosceles'\n            return None  # <-- injected fault\n    else:\n        if b == c:\n            return \"Isosceles\"\n        else:\n            if a == c:\n                return \"Isosceles\"\n            else:\n                return \"Scalene\" \n```", "```py\nfrom [ExpectError](ExpectError.html) import ExpectError \n```", "```py\nwith ExpectError():\n    weak_oracle(triangle_m1) \n```", "```py\nwith ExpectError():\n    strong_oracle(triangle_m1) \n```", "```py\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/3191755624.py\", line 2, in <module>\n    strong_oracle(triangle_m1)\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/566939880.py\", line 5, in strong_oracle\n    assert fn(2, 2, 1) == 'Isosceles'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError (expected)\n\n```", "```py\nimport [ast](https://docs.python.org/3/library/ast.html)\nimport [inspect](https://docs.python.org/3/library/inspect.html) \n```", "```py\ntriangle_source = inspect.getsource(triangle)\ntriangle_source \n```", "```py\n'def triangle(a, b, c):\\n    if a == b:\\n        if b == c:\\n            return \\'Equilateral\\'\\n        else:\\n            return \\'Isosceles\\'\\n    else:\\n        if b == c:\\n            return \"Isosceles\"\\n        else:\\n            if a == c:\\n                return \"Isosceles\"\\n            else:\\n                return \"Scalene\"\\n'\n\n```", "```py\nfrom [bookutils](https://github.com/uds-se/fuzzingbook//tree/master/notebooks/shared/bookutils) import print_content \n```", "```py\nprint_content(triangle_source, '.py') \n```", "```py\ndef triangle(a, b, c):\n    if a == b:\n        if b == c:\n            return 'Equilateral'\n        else:\n            return 'Isosceles'\n    else:\n        if b == c:\n            return \"Isosceles\"\n        else:\n            if a == c:\n                return \"Isosceles\"\n            else:\n                return \"Scalene\"\n\n```", "```py\ntriangle_ast = ast.parse(triangle_source) \n```", "```py\nprint(ast.dump(triangle_ast, indent=4)) \n```", "```py\nModule(\n    body=[\n        FunctionDef(\n            name='triangle',\n            args=arguments(\n                posonlyargs=[],\n                args=[\n                    arg(arg='a'),\n                    arg(arg='b'),\n                    arg(arg='c')],\n                kwonlyargs=[],\n                kw_defaults=[],\n                defaults=[]),\n            body=[\n                If(\n                    test=Compare(\n                        left=Name(id='a', ctx=Load()),\n                        ops=[\n                            Eq()],\n                        comparators=[\n                            Name(id='b', ctx=Load())]),\n                    body=[\n                        If(\n                            test=Compare(\n                                left=Name(id='b', ctx=Load()),\n                                ops=[\n                                    Eq()],\n                                comparators=[\n                                    Name(id='c', ctx=Load())]),\n                            body=[\n                                Return(\n                                    value=Constant(value='Equilateral'))],\n                            orelse=[\n                                Return(\n                                    value=Constant(value='Isosceles'))])],\n                    orelse=[\n                        If(\n                            test=Compare(\n                                left=Name(id='b', ctx=Load()),\n                                ops=[\n                                    Eq()],\n                                comparators=[\n                                    Name(id='c', ctx=Load())]),\n                            body=[\n                                Return(\n                                    value=Constant(value='Isosceles'))],\n                            orelse=[\n                                If(\n                                    test=Compare(\n                                        left=Name(id='a', ctx=Load()),\n                                        ops=[\n                                            Eq()],\n                                        comparators=[\n                                            Name(id='c', ctx=Load())]),\n                                    body=[\n                                        Return(\n                                            value=Constant(value='Isosceles'))],\n                                    orelse=[\n                                        Return(\n                                            value=Constant(value='Scalene'))])])])],\n            decorator_list=[],\n            type_params=[])],\n    type_ignores=[])\n\n```", "```py\nfrom [bookutils](https://github.com/uds-se/fuzzingbook//tree/master/notebooks/shared/bookutils) import rich_output \n```", "```py\nif rich_output():\n    import [showast](https://pypi.org/project/showast/)\n    showast.show_ast(triangle_ast) \n```", "```py\nprint_content(ast.unparse(triangle_ast), '.py') \n```", "```py\ndef triangle(a, b, c):\n    if a == b:\n        if b == c:\n            return 'Equilateral'\n        else:\n            return 'Isosceles'\n    elif b == c:\n        return 'Isosceles'\n    elif a == c:\n        return 'Isosceles'\n    else:\n        return 'Scalene'\n\n```", "```py\nclass MuFunctionAnalyzer:\n    def __init__(self, fn, log=False):\n        self.fn = fn\n        self.name = fn.__name__\n        src = inspect.getsource(fn)\n        self.ast = ast.parse(src)\n        self.src = ast.unparse(self.ast)  # normalize\n        self.mutator = self.mutator_object()\n        self.nmutations = self.get_mutation_count()\n        self.un_detected = set()\n        self.mutants = []\n        self.log = log\n\n    def mutator_object(self, locations=None):\n        return StmtDeletionMutator(locations)\n\n    def register(self, m):\n        self.mutants.append(m)\n\n    def finish(self):\n        pass \n```", "```py\nclass MuFunctionAnalyzer(MuFunctionAnalyzer):\n    def get_mutation_count(self):\n        self.mutator.visit(self.ast)\n        return self.mutator.count \n```", "```py\nclass Mutator(ast.NodeTransformer):\n    def __init__(self, mutate_location=-1):\n        self.count = 0\n        self.mutate_location = mutate_location\n\n    def mutable_visit(self, node):\n        self.count += 1  # statements start at line no 1\n        if self.count == self.mutate_location:\n            return self.mutation_visit(node)\n        return self.generic_visit(node) \n```", "```py\nclass StmtDeletionMutator(Mutator):\n    def visit_Return(self, node): return self.mutable_visit(node)\n    def visit_Delete(self, node): return self.mutable_visit(node)\n\n    def visit_Assign(self, node): return self.mutable_visit(node)\n    def visit_AnnAssign(self, node): return self.mutable_visit(node)\n    def visit_AugAssign(self, node): return self.mutable_visit(node)\n\n    def visit_Raise(self, node): return self.mutable_visit(node)\n    def visit_Assert(self, node): return self.mutable_visit(node)\n\n    def visit_Global(self, node): return self.mutable_visit(node)\n    def visit_Nonlocal(self, node): return self.mutable_visit(node)\n\n    def visit_Expr(self, node): return self.mutable_visit(node)\n\n    def visit_Pass(self, node): return self.mutable_visit(node)\n    def visit_Break(self, node): return self.mutable_visit(node)\n    def visit_Continue(self, node): return self.mutable_visit(node) \n```", "```py\nclass StmtDeletionMutator(StmtDeletionMutator):\n    def mutation_visit(self, node): return ast.Pass() \n```", "```py\nMuFunctionAnalyzer(triangle).nmutations \n```", "```py\n5\n\n```", "```py\nclass MuFunctionAnalyzer(MuFunctionAnalyzer):\n    def __iter__(self):\n        return PMIterator(self) \n```", "```py\nclass PMIterator:\n    def __init__(self, pm):\n        self.pm = pm\n        self.idx = 0 \n```", "```py\nclass PMIterator(PMIterator):\n    def __next__(self):\n        i = self.idx\n        if i >= self.pm.nmutations:\n            self.pm.finish()\n            raise StopIteration()\n        self.idx += 1\n        mutant = Mutant(self.pm, self.idx, log=self.pm.log)\n        self.pm.register(mutant)\n        return mutant \n```", "```py\nclass Mutant:\n    def __init__(self, pm, location, log=False):\n        self.pm = pm\n        self.i = location\n        self.name = \"%s_%s\" % (self.pm.name, self.i)\n        self._src = None\n        self.tests = []\n        self.detected = False\n        self.log = log \n```", "```py\nfor m in MuFunctionAnalyzer(triangle):\n    print(m.name) \n```", "```py\ntriangle_1\ntriangle_2\ntriangle_3\ntriangle_4\ntriangle_5\n\n```", "```py\nclass Mutant(Mutant):\n    def generate_mutant(self, location):\n        mutant_ast = self.pm.mutator_object(\n            location).visit(ast.parse(self.pm.src))  # copy\n        return ast.unparse(mutant_ast) \n```", "```py\nclass Mutant(Mutant):\n    def src(self):\n        if self._src is None:\n            self._src = self.generate_mutant(self.i)\n        return self._src \n```", "```py\nimport [difflib](https://docs.python.org/3/library/difflib.html) \n```", "```py\nfor mutant in MuFunctionAnalyzer(triangle):\n    shape_src = mutant.pm.src\n    for line in difflib.unified_diff(mutant.pm.src.split('\\n'),\n                                     mutant.src().split('\\n'),\n                                     fromfile=mutant.pm.name,\n                                     tofile=mutant.name, n=3):\n        print(line) \n```", "```py\n--- triangle\n\n+++ triangle_1\n\n@@ -1,7 +1,7 @@\n\n def triangle(a, b, c):\n     if a == b:\n         if b == c:\n-            return 'Equilateral'\n+            pass\n         else:\n             return 'Isosceles'\n     elif b == c:\n--- triangle\n\n+++ triangle_2\n\n@@ -3,7 +3,7 @@\n\n         if b == c:\n             return 'Equilateral'\n         else:\n-            return 'Isosceles'\n+            pass\n     elif b == c:\n         return 'Isosceles'\n     elif a == c:\n--- triangle\n\n+++ triangle_3\n\n@@ -5,7 +5,7 @@\n\n         else:\n             return 'Isosceles'\n     elif b == c:\n-        return 'Isosceles'\n+        pass\n     elif a == c:\n         return 'Isosceles'\n     else:\n--- triangle\n\n+++ triangle_4\n\n@@ -7,6 +7,6 @@\n\n     elif b == c:\n         return 'Isosceles'\n     elif a == c:\n-        return 'Isosceles'\n+        pass\n     else:\n         return 'Scalene'\n--- triangle\n\n+++ triangle_5\n\n@@ -9,4 +9,4 @@\n\n     elif a == c:\n         return 'Isosceles'\n     else:\n-        return 'Scalene'\n+        pass\n\n```", "```py\nclass Mutant(Mutant):\n    def diff(self):\n        return '\\n'.join(difflib.unified_diff(self.pm.src.split('\\n'),\n                                              self.src().split('\\n'),\n                                              fromfile='original',\n                                              tofile='mutant',\n                                              n=3)) \n```", "```py\nfor mutant in MuFunctionAnalyzer(function):\n    with mutant:\n        assert function(x) == y \n```", "```py\nclass Mutant(Mutant):\n    def __enter__(self):\n        if self.log:\n            print('->\\t%s' % self.name)\n        c = compile(self.src(), '<mutant>', 'exec')\n        eval(c, globals()) \n```", "```py\nclass Mutant(Mutant):\n    def __exit__(self, exc_type, exc_value, traceback):\n        if self.log:\n            print('<-\\t%s' % self.name)\n        if exc_type is not None:\n            self.detected = True\n            if self.log:\n                print(\"Detected %s\" % self.name, exc_type, exc_value)\n        globals()[self.pm.name] = self.pm.fn\n        if self.log:\n            print()\n        return True \n```", "```py\nfrom [ExpectError](ExpectError.html) import ExpectTimeout \n```", "```py\nclass MuFunctionAnalyzer(MuFunctionAnalyzer):\n    def finish(self):\n        self.un_detected = {\n            mutant for mutant in self.mutants if not mutant.detected} \n```", "```py\nclass MuFunctionAnalyzer(MuFunctionAnalyzer):\n    def score(self):\n        return (self.nmutations - len(self.un_detected)) / self.nmutations \n```", "```py\nimport [sys](https://docs.python.org/3/library/sys.html) \n```", "```py\nfor mutant in MuFunctionAnalyzer(triangle, log=True):\n    with mutant:\n        assert triangle(1, 1, 1) == 'Equilateral', \"Equal Check1\"\n        assert triangle(1, 0, 1) != 'Equilateral', \"Equal Check2\"\n        assert triangle(1, 0, 2) != 'Equilateral', \"Equal Check3\"\nmutant.pm.score() \n```", "```py\n->\ttriangle_1\n<-\ttriangle_1\nDetected triangle_1 <class 'AssertionError'> Equal Check1\n\n->\ttriangle_2\n<-\ttriangle_2\n\n->\ttriangle_3\n<-\ttriangle_3\n\n->\ttriangle_4\n<-\ttriangle_4\n\n->\ttriangle_5\n<-\ttriangle_5\n\n```", "```py\n0.2\n\n```", "```py\nfor mutant in MuFunctionAnalyzer(triangle):\n    with mutant:\n        weak_oracle(triangle)\nmutant.pm.score() \n```", "```py\n0.2\n\n```", "```py\ndef oracle():\n    strong_oracle(triangle) \n```", "```py\nfor mutant in MuFunctionAnalyzer(triangle, log=True):\n    with mutant:\n        oracle()\nmutant.pm.score() \n```", "```py\n->\ttriangle_1\n<-\ttriangle_1\nDetected triangle_1 <class 'AssertionError'> \n\n->\ttriangle_2\n<-\ttriangle_2\nDetected triangle_2 <class 'AssertionError'> \n\n->\ttriangle_3\n<-\ttriangle_3\nDetected triangle_3 <class 'AssertionError'> \n\n->\ttriangle_4\n<-\ttriangle_4\nDetected triangle_4 <class 'AssertionError'> \n\n->\ttriangle_5\n<-\ttriangle_5\nDetected triangle_5 <class 'AssertionError'> \n\n```", "```py\n1.0\n\n```", "```py\ndef gcd(a, b):\n    if a < b:\n        c = a\n        a = b\n        b = c\n\n    while b != 0:\n        c = a\n        a = b\n        b = c % b\n\n    return a \n```", "```py\nfor mutant in MuFunctionAnalyzer(gcd, log=True):\n    with mutant:\n        assert gcd(1, 0) == 1, \"Minimal\"\n        assert gcd(0, 1) == 1, \"Mirror\" \n```", "```py\n->\tgcd_1\n<-\tgcd_1\nDetected gcd_1 <class 'UnboundLocalError'> cannot access local variable 'c' where it is not associated with a value\n\n->\tgcd_2\n<-\tgcd_2\nDetected gcd_2 <class 'AssertionError'> Mirror\n\n->\tgcd_3\n<-\tgcd_3\n\n->\tgcd_4\n<-\tgcd_4\n\n->\tgcd_5\n<-\tgcd_5\n\n->\tgcd_6\n<-\tgcd_6\n\n->\tgcd_7\n<-\tgcd_7\nDetected gcd_7 <class 'AssertionError'> Minimal\n\n```", "```py\nmutant.pm.score() \n```", "```py\n0.42857142857142855\n\n```", "```py\nimport [types](https://docs.python.org/3/library/types.html) \n```", "```py\ndef import_code(code, name):\n    module = types.ModuleType(name)\n    exec(code, module.__dict__)\n    return module \n```", "```py\nshape = import_code(shape_src, 'shape') \n```", "```py\nshape.triangle(1, 1, 1) \n```", "```py\n'Equilateral'\n\n```", "```py\nimport [unittest](https://docs.python.org/3/library/unittest.html) \n```", "```py\nclass StrongShapeTest(unittest.TestCase):\n\n    def test_equilateral(self):\n        assert shape.triangle(1, 1, 1) == 'Equilateral'\n\n    def test_isosceles(self):\n        assert shape.triangle(1, 2, 1) == 'Isosceles'\n        assert shape.triangle(2, 2, 1) == 'Isosceles'\n        assert shape.triangle(1, 2, 2) == 'Isosceles'\n\n    def test_scalene(self):\n        assert shape.triangle(1, 2, 3) == 'Scalene' \n```", "```py\ndef suite(test_class):\n    suite = unittest.TestSuite()\n    for f in test_class.__dict__:\n        if f.startswith('test_'):\n            suite.addTest(test_class(f))\n    return suite \n```", "```py\nsuite(StrongShapeTest).run(unittest.TestResult()) \n```", "```py\n<unittest.result.TestResult run=3 errors=0 failures=0>\n\n```", "```py\nrunner = unittest.TextTestRunner(verbosity=0, failfast=True)\nrunner.run(suite(StrongShapeTest)) \n```", "```py\n----------------------------------------------------------------------\nRan 3 tests in 0.000s\n\nOK\n\n```", "```py\n<unittest.runner.TextTestResult run=3 errors=0 failures=0>\n\n```", "```py\nwith VisualCoverage() as cov:\n    suite(StrongShapeTest).run(unittest.TestResult()) \n```", "```py\ncov.show_coverage(triangle) \n```", "```py\n   1: def triangle(a, b, c):\n#  2:     if a == b:\n#  3:         if b == c:\n#  4:             return 'Equilateral'\n   5:         else:\n#  6:             return 'Isosceles'\n#  7:     else:\n#  8:         if b == c:\n#  9:             return \"Isosceles\"\n# 10:         else:\n  11:             if a == c:\n# 12:                 return \"Isosceles\"\n  13:             else:\n  14:                 return \"Scalene\"\n  15: \n\n```", "```py\nclass WeakShapeTest(unittest.TestCase):\n    def test_equilateral(self):\n        assert shape.triangle(1, 1, 1) == 'Equilateral'\n\n    def test_isosceles(self):\n        assert shape.triangle(1, 2, 1) != 'Equilateral'\n        assert shape.triangle(2, 2, 1) != 'Equilateral'\n        assert shape.triangle(1, 2, 2) != 'Equilateral'\n\n    def test_scalene(self):\n        assert shape.triangle(1, 2, 3) != 'Equilateral' \n```", "```py\nwith VisualCoverage() as cov:\n    suite(WeakShapeTest).run(unittest.TestResult()) \n```", "```py\ncov.show_coverage(triangle) \n```", "```py\n   1: def triangle(a, b, c):\n#  2:     if a == b:\n#  3:         if b == c:\n#  4:             return 'Equilateral'\n   5:         else:\n#  6:             return 'Isosceles'\n#  7:     else:\n#  8:         if b == c:\n#  9:             return \"Isosceles\"\n# 10:         else:\n  11:             if a == c:\n# 12:                 return \"Isosceles\"\n  13:             else:\n  14:                 return \"Scalene\"\n  15: \n\n```", "```py\nclass MuProgramAnalyzer(MuFunctionAnalyzer):\n    def __init__(self, name, src):\n        self.name = name\n        self.ast = ast.parse(src)\n        self.src = ast.unparse(self.ast)\n        self.changes = []\n        self.mutator = self.mutator_object()\n        self.nmutations = self.get_mutation_count()\n        self.un_detected = set()\n\n    def mutator_object(self, locations=None):\n        return AdvStmtDeletionMutator(self, locations) \n```", "```py\nclass AdvMutator(Mutator):\n    def __init__(self, analyzer, mutate_locations=None):\n        self.count = 0\n        self.mutate_locations = [] if mutate_locations is None else mutate_locations\n        self.pm = analyzer\n\n    def mutable_visit(self, node):\n        self.count += 1  # statements start at line no 1\n        return self.mutation_visit(node) \n```", "```py\nclass AdvStmtDeletionMutator(AdvMutator, StmtDeletionMutator):\n    def __init__(self, analyzer, mutate_locations=None):\n        AdvMutator.__init__(self, analyzer, mutate_locations)\n\n    def mutation_visit(self, node):\n        index = 0  # there is only one way to delete a statement -- replace it by pass\n        if not self.mutate_locations:  # counting pass\n            self.pm.changes.append((self.count, index))\n            return self.generic_visit(node)\n        else:\n            # get matching changes for this pass\n            mutating_lines = set((count, idx)\n                                 for (count, idx) in self.mutate_locations)\n            if (self.count, index) in mutating_lines:\n                return ast.Pass()\n            else:\n                return self.generic_visit(node) \n```", "```py\nMuProgramAnalyzer('shape', shape_src).nmutations \n```", "```py\n5\n\n```", "```py\nclass MuProgramAnalyzer(MuProgramAnalyzer):\n    def __iter__(self):\n        return AdvPMIterator(self) \n```", "```py\nclass AdvPMIterator:\n    def __init__(self, pm):\n        self.pm = pm\n        self.idx = 0 \n```", "```py\nclass AdvPMIterator(AdvPMIterator):\n    def __next__(self):\n        i = self.idx\n        if i >= len(self.pm.changes):\n            raise StopIteration()\n        self.idx += 1\n        # there could be multiple changes in one mutant\n        return AdvMutant(self.pm, [self.pm.changes[i]]) \n```", "```py\nclass AdvMutant(Mutant):\n    def __init__(self, pm, locations):\n        self.pm = pm\n        self.i = locations\n        self.name = \"%s_%s\" % (self.pm.name,\n                               '_'.join([str(i) for i in self.i]))\n        self._src = None \n```", "```py\nshape_src = inspect.getsource(triangle) \n```", "```py\nfor m in MuProgramAnalyzer('shape', shape_src):\n    print(m.name) \n```", "```py\nshape_(1, 0)\nshape_(2, 0)\nshape_(3, 0)\nshape_(4, 0)\nshape_(5, 0)\n\n```", "```py\nclass AdvMutant(AdvMutant):\n    def generate_mutant(self, locations):\n        mutant_ast = self.pm.mutator_object(\n            locations).visit(ast.parse(self.pm.src))  # copy\n        return ast.unparse(mutant_ast) \n```", "```py\nclass AdvMutant(AdvMutant):\n    def src(self):\n        if self._src is None:\n            self._src = self.generate_mutant(self.i)\n        return self._src \n```", "```py\nimport [difflib](https://docs.python.org/3/library/difflib.html) \n```", "```py\nclass AdvMutant(AdvMutant):\n    def diff(self):\n        return '\\n'.join(difflib.unified_diff(self.pm.src.split('\\n'),\n                                              self.src().split('\\n'),\n                                              fromfile='original',\n                                              tofile='mutant',\n                                              n=3)) \n```", "```py\nfor mutant in MuProgramAnalyzer('shape', shape_src):\n    print(mutant.name)\n    print(mutant.diff())\n    break \n```", "```py\nshape_(1, 0)\n--- original\n\n+++ mutant\n\n@@ -1,7 +1,7 @@\n\n def triangle(a, b, c):\n     if a == b:\n         if b == c:\n-            return 'Equilateral'\n+            pass\n         else:\n             return 'Isosceles'\n     elif b == c:\n\n```", "```py\nclass AdvMutant(AdvMutant):\n    def __getitem__(self, test_module):\n        test_module.__dict__[\n            self.pm.name] = import_code(\n            self.src(), self.pm.name)\n        return MutantTestRunner(self, test_module) \n```", "```py\nfrom [ExpectError](ExpectError.html) import ExpectTimeout \n```", "```py\nclass MutantTestRunner:\n    def __init__(self, mutant, test_module):\n        self.mutant = mutant\n        self.tm = test_module\n\n    def runTest(self, tc):\n        suite = unittest.TestSuite()\n        test_class = self.tm.__dict__[tc]\n        for f in test_class.__dict__:\n            if f.startswith('test_'):\n                suite.addTest(test_class(f))\n        runner = unittest.TextTestRunner(verbosity=0, failfast=True)\n        try:\n            with ExpectTimeout(1):\n                res = runner.run(suite)\n                if res.wasSuccessful():\n                    self.mutant.pm.un_detected.add(self)\n                return res\n        except SyntaxError:\n            print('Syntax Error (%s)' % self.mutant.name)\n            return None\n        raise Exception('Unhandled exception during test execution') \n```", "```py\nclass MuProgramAnalyzer(MuProgramAnalyzer):\n    def score(self):\n        return (self.nmutations - len(self.un_detected)) / self.nmutations \n```", "```py\nimport [sys](https://docs.python.org/3/library/sys.html) \n```", "```py\ntest_module = sys.modules[__name__]\nfor mutant in MuProgramAnalyzer('shape', shape_src):\n    mutant[test_module].runTest('WeakShapeTest')\nmutant.pm.score() \n```", "```py\n======================================================================\nFAIL: test_equilateral (__main__.WeakShapeTest.test_equilateral)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/511514204.py\", line 3, in test_equilateral\n    assert shape.triangle(1, 1, 1) == 'Equilateral'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 1 test in 0.000s\n\nFAILED (failures=1)\n----------------------------------------------------------------------\nRan 3 tests in 0.000s\n\nOK\n----------------------------------------------------------------------\nRan 3 tests in 0.000s\n\nOK\n----------------------------------------------------------------------\nRan 3 tests in 0.000s\n\nOK\n----------------------------------------------------------------------\nRan 3 tests in 0.000s\n\nOK\n\n```", "```py\n0.2\n\n```", "```py\nfor mutant in MuProgramAnalyzer('shape', shape_src):\n    mutant[test_module].runTest('StrongShapeTest')\nmutant.pm.score() \n```", "```py\n======================================================================\nFAIL: test_equilateral (__main__.StrongShapeTest.test_equilateral)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2670057129.py\", line 4, in test_equilateral\n    assert shape.triangle(1, 1, 1) == 'Equilateral'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 1 test in 0.000s\n\nFAILED (failures=1)\n======================================================================\nFAIL: test_isosceles (__main__.StrongShapeTest.test_isosceles)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2670057129.py\", line 8, in test_isosceles\n    assert shape.triangle(2, 2, 1) == 'Isosceles'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 2 tests in 0.000s\n\nFAILED (failures=1)\n======================================================================\nFAIL: test_isosceles (__main__.StrongShapeTest.test_isosceles)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2670057129.py\", line 9, in test_isosceles\n    assert shape.triangle(1, 2, 2) == 'Isosceles'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 2 tests in 0.000s\n\nFAILED (failures=1)\n======================================================================\nFAIL: test_isosceles (__main__.StrongShapeTest.test_isosceles)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2670057129.py\", line 7, in test_isosceles\n    assert shape.triangle(1, 2, 1) == 'Isosceles'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 2 tests in 0.000s\n\nFAILED (failures=1)\n======================================================================\nFAIL: test_scalene (__main__.StrongShapeTest.test_scalene)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2670057129.py\", line 12, in test_scalene\n    assert shape.triangle(1, 2, 3) == 'Scalene'\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 3 tests in 0.000s\n\nFAILED (failures=1)\n\n```", "```py\n1.0\n\n```", "```py\ngcd_src = inspect.getsource(gcd) \n```", "```py\nclass TestGCD(unittest.TestCase):\n    def test_simple(self):\n        assert cfg.gcd(1, 0) == 1\n\n    def test_mirror(self):\n        assert cfg.gcd(0, 1) == 1 \n```", "```py\nfor mutant in MuProgramAnalyzer('cfg', gcd_src):\n    mutant[test_module].runTest('TestGCD')\nmutant.pm.score() \n```", "```py\n======================================================================\nERROR: test_mirror (__main__.TestGCD.test_mirror)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2565918356.py\", line 6, in test_mirror\n    assert cfg.gcd(0, 1) == 1\n           ^^^^^^^^^^^^^\n  File \"<string>\", line 5, in gcd\nUnboundLocalError: cannot access local variable 'c' where it is not associated with a value\n\n----------------------------------------------------------------------\nRan 2 tests in 0.000s\n\nFAILED (errors=1)\n======================================================================\nFAIL: test_mirror (__main__.TestGCD.test_mirror)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2565918356.py\", line 6, in test_mirror\n    assert cfg.gcd(0, 1) == 1\n           ^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 2 tests in 0.000s\n\nFAILED (failures=1)\n----------------------------------------------------------------------\nRan 2 tests in 0.000s\n\nOK\n----------------------------------------------------------------------\nRan 2 tests in 0.000s\n\nOK\n----------------------------------------------------------------------\nRan 2 tests in 0.000s\n\nOK\n----------------------------------------------------------------------\nRan 2 tests in 0.000s\n\nOK\n======================================================================\nFAIL: test_simple (__main__.TestGCD.test_simple)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/var/folders/n2/xd9445p97rb3xh7m1dfx8_4h0006ts/T/ipykernel_7987/2565918356.py\", line 3, in test_simple\n    assert cfg.gcd(1, 0) == 1\n           ^^^^^^^^^^^^^^^^^^\nAssertionError\n\n----------------------------------------------------------------------\nRan 1 test in 0.000s\n\nFAILED (failures=1)\n\n```", "```py\n0.42857142857142855\n\n```", "```py\ndef new_gcd(a, b):\n    if a < b:\n        a, b = b, a\n    else:\n        a, b = a, b\n\n    while b != 0:\n        a, b = b, a % b\n    return a \n```", "```py\ndef mutated_gcd(a, b):\n    if a < b:\n        a, b = b, a\n    else:\n        pass\n\n    while b != 0:\n        a, b = b, a % b\n    return a \n```", "```py\nfor i, mutant in enumerate(MuFunctionAnalyzer(new_gcd)):\n    print(i,mutant.src()) \n```", "```py\n0 def new_gcd(a, b):\n    if a < b:\n        pass\n    else:\n        a, b = (a, b)\n    while b != 0:\n        a, b = (b, a % b)\n    return a\n1 def new_gcd(a, b):\n    if a < b:\n        a, b = (b, a)\n    else:\n        pass\n    while b != 0:\n        a, b = (b, a % b)\n    return a\n2 def new_gcd(a, b):\n    if a < b:\n        a, b = (b, a)\n    else:\n        a, b = (a, b)\n    while b != 0:\n        pass\n    return a\n3 def new_gcd(a, b):\n    if a < b:\n        a, b = (b, a)\n    else:\n        a, b = (a, b)\n    while b != 0:\n        a, b = (b, a % b)\n    pass\n\n```", "```py\nx = x + 1\n```", "```py\nx = x - 1\n```", "```py\nx = x * 1\n```", "```py\nx = x / 1\n```", "```py\nprint(ast.dump(ast.parse(\"1 + 2 - 3 * 4 / 5\"), indent=4)) \n```", "```py\nModule(\n    body=[\n        Expr(\n            value=BinOp(\n                left=BinOp(\n                    left=Constant(value=1),\n                    op=Add(),\n                    right=Constant(value=2)),\n                op=Sub(),\n                right=BinOp(\n                    left=BinOp(\n                        left=Constant(value=3),\n                        op=Mult(),\n                        right=Constant(value=4)),\n                    op=Div(),\n                    right=Constant(value=5))))],\n    type_ignores=[])\n\n```", "```py\n@incollection{fuzzingbook2023:MutationAnalysis,\n    author = {Andreas Zeller and Rahul Gopinath and Marcel B{\\\"o}hme and Gordon Fraser and Christian Holler},\n    booktitle = {The Fuzzing Book},\n    title = {Mutation Analysis},\n    year = {2023},\n    publisher = {CISPA Helmholtz Center for Information Security},\n    howpublished = {\\url{https://www.fuzzingbook.org/html/MutationAnalysis.html}},\n    note = {Retrieved 2023-11-11 18:18:06+01:00},\n    url = {https://www.fuzzingbook.org/html/MutationAnalysis.html},\n    urldate = {2023-11-11 18:18:06+01:00}\n}\n\n```"]