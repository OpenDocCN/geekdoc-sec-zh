<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Class Diagrams</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1>Class Diagrams</h1>
<blockquote>原文：<a href="http://www.fuzzingbook.org/html/ClassDiagram.html">http://www.fuzzingbook.org/html/ClassDiagram.html</a></blockquote>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This is a simple viewer for class diagrams.  Customized towards the book.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Prerequisites</strong></p>
<ul>
<li><em>Refer to earlier chapters as notebooks here, as here:</em> <a href="Debugger.html">Earlier Chapter</a>.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="kn">import</span> <span class="nn"><a href="https://github.com/uds-se/fuzzingbook//tree/master/notebooks/shared/bookutils" class="import" target="_blank">bookutils.setup</a></span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><div class="synopsis"><h2 id="Synopsis">Synopsis</h2><!-- Automatically generated. Do not edit. -->

<p>To <a href="Importing.html">use the code provided in this chapter</a>, write</p>
<div class="highlight"><pre><span/><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn"><a href="ClassDiagram.html" class="import" target="_blank">fuzzingbook.ClassDiagram</a></span> <span class="kn">import</span> <span class="o">&lt;</span><span class="n">identifier</span><span class="o">&gt;</span>
</pre></div>
<p>and then make use of the following features.</p>
<p>The function <code>display_class_hierarchy()</code> function shows the class hierarchy for the given class (or list of classes).</p>
<ul>
<li>The keyword parameter <code>public_methods</code>, if given, is a list of "public" methods to be used by clients (default: all methods with docstrings).</li>
<li>The keyword parameter <code>abstract_classes</code>, if given, is a list of classes to be displayed as "abstract" (i.e. with a cursive class name).</li>
</ul>
<div class="highlight"><pre><span/><span class="o">&gt;&gt;&gt;</span> <span class="n">display_class_hierarchy</span><span class="p">(</span><span class="n">D_Class</span><span class="p">,</span> <span class="n">abstract_classes</span><span class="o">=</span><span class="p">[</span><span class="n">A_Class</span><span class="p">])</span>
</pre></div>
<p>

<!-- Generated by graphviz version 12.2.1 (20241206.2353)
 -->
<!-- Pages: 1 -->
<svg width="251pt" height="284pt" viewbox="0.00 0.00 251.38 283.50" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 279.5)">
<g id="a_graph0"><a xlink:title="D_Class class hierarchy">
<polygon fill="white" stroke="none" points="-4,4 -4,-279.5 247.38,-279.5 247.38,4 -4,4"/>
</a>
</g>
<!-- D_Class -->
<g id="node1" class="node">
<title>D_Class</title>
<g id="a_node1"><a xlink:href="#" xlink:title="class D_Class:&#10;A subclass inheriting from multiple superclasses.&#10;Comes with a fairly long, but meaningless documentation.">
<polygon fill="none" stroke="black" points="41,-1.12 41,-47.88 106.5,-47.88 106.5,-1.12 41,-1.12"/>
<text text-anchor="start" x="49" y="-31.57" font-family="Patua One, Helvetica, sans-serif" font-weight="bold" font-size="14.00" fill="#b03a2e">D_Class</text>
<polyline fill="none" stroke="black" points="41,-21.88 106.5,-21.88"/>
<g id="a_node1_0"><a xlink:href="#" xlink:title="D_Class">
<g id="a_node1_1"><a xlink:href="#" xlink:title="foo(self) -&gt; None:&#10;A WW2 foo fighter.">
<text text-anchor="start" x="58.75" y="-9.38" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-style="italic" font-size="10.00">foo()</text>
</a>
</g>
</a>
</g>
</a>
</g>
</g>
<!-- B_Class -->
<g id="node2" class="node">
<title>B_Class</title>
<g id="a_node2"><a xlink:href="#" xlink:title="class B_Class:&#10;A subclass inheriting some methods.">
<polygon fill="none" stroke="black" points="0,-85.5 0,-165.75 65.5,-165.75 65.5,-85.5 0,-85.5"/>
<text text-anchor="start" x="8" y="-149.45" font-family="Patua One, Helvetica, sans-serif" font-weight="bold" font-size="14.00" fill="#b03a2e">B_Class</text>
<polyline fill="none" stroke="black" points="0,-139.75 65.5,-139.75"/>
<g id="a_node2_2"><a xlink:href="#" xlink:title="B_Class">
<g id="a_node2_3"><a xlink:href="#" xlink:title="VAR = 'A variable'">
<text text-anchor="start" x="23.75" y="-126.25" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="10.00">VAR</text>
</a>
</g>
</a>
</g>
<polyline fill="none" stroke="black" points="0,-119 65.5,-119"/>
<g id="a_node2_4"><a xlink:href="#" xlink:title="B_Class">
<g id="a_node2_5"><a xlink:href="#" xlink:title="bar(self, qux: Any = None, bartender: int = 42) -&gt; None:&#10;A qux walks into a bar.&#10;`bartender` is an optional attribute.">
<text text-anchor="start" x="17.75" y="-106.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-size="10.00">bar()</text>
</a>
</g>
<g id="a_node2_6"><a xlink:href="#" xlink:title="foo(self) -&gt; None:&#10;A WW2 foo fighter.">
<text text-anchor="start" x="17.75" y="-93.75" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-style="italic" font-size="10.00">foo()</text>
</a>
</g>
</a>
</g>
</a>
</g>
</g>
<!-- D_Class&#45;&gt;B_Class -->
<g id="edge1" class="edge">
<title>D_Class-&gt;B_Class</title>
<path fill="none" stroke="black" d="M64.45,-47.99C61.15,-55.96 57.3,-65.28 53.44,-74.61"/>
<polygon fill="none" stroke="black" points="50.27,-73.11 49.68,-83.69 56.74,-75.79 50.27,-73.11"/>
</g>
<!-- C_Class -->
<g id="node4" class="node">
<title>C_Class</title>
<g id="a_node4"><a xlink:href="#" xlink:title="class C_Class:&#10;A class injecting some method">
<polygon fill="none" stroke="black" points="83.38,-102.25 83.38,-149 148.12,-149 148.12,-102.25 83.38,-102.25"/>
<text text-anchor="start" x="91.38" y="-132.7" font-family="Patua One, Helvetica, sans-serif" font-weight="bold" font-size="14.00" fill="#b03a2e">C_Class</text>
<polyline fill="none" stroke="black" points="83.38,-123 148.12,-123"/>
<g id="a_node4_7"><a xlink:href="#" xlink:title="C_Class">
<g id="a_node4_8"><a xlink:href="#" xlink:title="qux(self, arg: List[Union[int, str, NoneType]]) -&gt; List[Union[int, str, NoneType]]">
<text text-anchor="start" x="100.75" y="-109.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="10.00">qux()</text>
</a>
</g>
</a>
</g>
</a>
</g>
</g>
<!-- D_Class&#45;&gt;C_Class -->
<g id="edge3" class="edge">
<title>D_Class-&gt;C_Class</title>
<path fill="none" stroke="black" d="M83.28,-47.99C88.72,-60.83 95.64,-77.16 101.69,-91.44"/>
<polygon fill="none" stroke="black" points="98.4,-92.64 105.52,-100.48 104.84,-89.91 98.4,-92.64"/>
</g>
<!-- A_Class -->
<g id="node3" class="node">
<title>A_Class</title>
<g id="a_node3"><a xlink:href="#" xlink:title="class A_Class:&#10;A Class which does A thing right.&#10;Comes with a longer docstring.">
<polygon fill="none" stroke="black" points="0,-202.75 0,-275 65.5,-275 65.5,-202.75 0,-202.75"/>
<text text-anchor="start" x="8" y="-258.7" font-family="Patua One, Helvetica, sans-serif" font-weight="bold" font-style="italic" font-size="14.00" fill="#b03a2e">A_Class</text>
<polyline fill="none" stroke="black" points="0,-249 65.5,-249"/>
<g id="a_node3_9"><a xlink:href="#" xlink:title="A_Class">
<g id="a_node3_10"><a xlink:href="#" xlink:title="foo(self) -&gt; None:&#10;The Adventures of the glorious Foo">
<text text-anchor="start" x="8.75" y="-236.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-style="italic" font-size="10.00">foo()</text>
</a>
</g>
<g id="a_node3_11"><a xlink:href="#" xlink:title="quux(self) -&gt; None:&#10;A method that is not used.">
<text text-anchor="start" x="8.75" y="-223.75" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-size="10.00">quux()</text>
</a>
</g>
<g id="a_node3_12"><a xlink:href="#" xlink:title="second(self) -&gt; None">
<text text-anchor="start" x="8.75" y="-210" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="10.00">second()</text>
</a>
</g>
</a>
</g>
</a>
</g>
</g>
<!-- B_Class&#45;&gt;A_Class -->
<g id="edge2" class="edge">
<title>B_Class-&gt;A_Class</title>
<path fill="none" stroke="black" d="M32.75,-166.16C32.75,-174.23 32.75,-182.79 32.75,-191.08"/>
<polygon fill="none" stroke="black" points="29.25,-191.03 32.75,-201.03 36.25,-191.03 29.25,-191.03"/>
</g>
<!-- Legend -->
<g id="node5" class="node">
<title>Legend</title>
<text text-anchor="start" x="124.12" y="-40.5" font-family="Patua One, Helvetica, sans-serif" font-weight="bold" font-size="10.00" fill="#b03a2e">Legend</text>
<text text-anchor="start" x="124.12" y="-30.5" font-family="Patua One, Helvetica, sans-serif" font-size="10.00">• </text>
<text text-anchor="start" x="130.12" y="-30.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-size="8.00">public_method()</text>
<text text-anchor="start" x="124.12" y="-20.5" font-family="Patua One, Helvetica, sans-serif" font-size="10.00">• </text>
<text text-anchor="start" x="130.12" y="-20.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="8.00">private_method()</text>
<text text-anchor="start" x="124.12" y="-10.5" font-family="Patua One, Helvetica, sans-serif" font-size="10.00">• </text>
<text text-anchor="start" x="130.12" y="-10.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-style="italic" font-size="8.00">overloaded_method()</text>
<text text-anchor="start" x="124.12" y="-1.45" font-family="Helvetica,sans-Serif" font-size="9.00">Hover over names to see doc</text>
</g>
</g>
</svg>
</p>
</div>
</div>
</div>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Getting-a-Class-Hierarchy">Getting a Class Hierarchy</h2></div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="kn">import</span> <span class="nn"><a href="https://docs.python.org/3/library/inspect.html" class="import" target="_blank">inspect</a></span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Using <code>mro()</code>, we can access the class hierarchy.  We make sure to avoid duplicates created by <code>class X(X)</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">class_hierarchy</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Type</span><span class="p">]:</span>
    <span class="n">superclasses</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">mro</span><span class="p">()</span>
    <span class="n">hierarchy</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">last_superclass_name</span> <span class="o">=</span> <span class="s2">""</span>

    <span class="k">for</span> <span class="n">superclass</span> <span class="ow">in</span> <span class="n">superclasses</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">superclass</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="n">last_superclass_name</span><span class="p">:</span>
            <span class="n">hierarchy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">superclass</span><span class="p">)</span>
            <span class="n">last_superclass_name</span> <span class="o">=</span> <span class="n">superclass</span><span class="o">.</span><span class="vm">__name__</span>

    <span class="k">return</span> <span class="n">hierarchy</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's an example:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">class</span> <span class="nc">A_Class</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""A Class which does A thing right.</span>
<span class="sd">    Comes with a longer docstring."""</span>

    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""The Adventures of the glorious Foo"""</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">quux</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""A method that is not used."""</span>
        <span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">class</span> <span class="nc">A_Class</span><span class="p">(</span><span class="n">A_Class</span><span class="p">):</span>
    <span class="c1"># We define another function in a separate cell.</span>

    <span class="k">def</span> <span class="nf">second</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">class</span> <span class="nc">B_Class</span><span class="p">(</span><span class="n">A_Class</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""A subclass inheriting some methods."""</span>

    <span class="n">VAR</span> <span class="o">=</span> <span class="s2">"A variable"</span>

    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""A WW2 foo fighter."""</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qux</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">bartender</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">42</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""A qux walks into a bar.</span>
<span class="sd">        `bartender` is an optional attribute."""</span>
        <span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">SomeType</span> <span class="o">=</span> <span class="n">List</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">class</span> <span class="nc">C_Class</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""A class injecting some method"""</span>

    <span class="k">def</span> <span class="nf">qux</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">:</span> <span class="n">SomeType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SomeType</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">arg</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">class</span> <span class="nc">D_Class</span><span class="p">(</span><span class="n">B_Class</span><span class="p">,</span> <span class="n">C_Class</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""A subclass inheriting from multiple superclasses.</span>
<span class="sd">    Comes with a fairly long, but meaningless documentation."""</span>

    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">B_Class</span><span class="o">.</span><span class="n">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">class</span> <span class="nc">D_Class</span><span class="p">(</span><span class="n">D_Class</span><span class="p">):</span>
    <span class="k">pass</span>  <span class="c1"># An incremental addiiton that should not impact D's semantics</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">class_hierarchy</span><span class="p">(</span><span class="n">D_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[__main__.D_Class,
 __main__.B_Class,
 __main__.A_Class,
 __main__.C_Class,
 object]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Getting-a-Class-Tree">Getting a Class Tree</h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can use <code>__bases__</code> to obtain the immediate base classes.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">D_Class</span><span class="o">.</span><span class="vm">__bases__</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>(__main__.D_Class,)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><code>class_tree()</code> returns a class tree, using the "lowest" (most specialized) class with the same name.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">class_tree</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">,</span> <span class="n">lowest</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Type</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">,</span> <span class="n">List</span><span class="p">]]:</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">base</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">lowest</span><span class="p">:</span>
                <span class="n">lowest</span> <span class="o">=</span> <span class="bp">cls</span>
            <span class="n">ret</span> <span class="o">+=</span> <span class="n">class_tree</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">lowest</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">lowest</span><span class="p">:</span>
                <span class="bp">cls</span> <span class="o">=</span> <span class="n">lowest</span>
            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="bp">cls</span><span class="p">,</span> <span class="n">class_tree</span><span class="p">(</span><span class="n">base</span><span class="p">)))</span>

    <span class="k">return</span> <span class="n">ret</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">class_tree</span><span class="p">(</span><span class="n">D_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[(__main__.D_Class, [(__main__.B_Class, [(__main__.A_Class, [])])]),
 (__main__.D_Class, [(__main__.C_Class, [])])]
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">class_tree</span><span class="p">(</span><span class="n">D_Class</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>__main__.D_Class
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">assert</span> <span class="n">class_tree</span><span class="p">(</span><span class="n">D_Class</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">D_Class</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><code>class_set()</code> flattens the tree into a set:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">class_set</span><span class="p">(</span><span class="n">classes</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Type</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="n">Type</span><span class="p">]:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">classes</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">classes</span> <span class="o">=</span> <span class="p">[</span><span class="n">classes</span><span class="p">]</span>

    <span class="n">ret</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">traverse_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">,</span> <span class="n">List</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">subtrees</span><span class="p">)</span> <span class="ow">in</span> <span class="n">tree</span><span class="p">:</span>
            <span class="n">ret</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">subtree</span> <span class="ow">in</span> <span class="n">subtrees</span><span class="p">:</span>
                <span class="n">traverse_tree</span><span class="p">(</span><span class="n">subtrees</span><span class="p">)</span>

    <span class="k">for</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">classes</span><span class="p">:</span>
        <span class="n">traverse_tree</span><span class="p">(</span><span class="n">class_tree</span><span class="p">(</span><span class="bp">cls</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">ret</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">class_set</span><span class="p">(</span><span class="n">D_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{__main__.A_Class, __main__.B_Class, __main__.C_Class, __main__.D_Class}
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">assert</span> <span class="n">A_Class</span> <span class="ow">in</span> <span class="n">class_set</span><span class="p">(</span><span class="n">D_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">assert</span> <span class="n">B_Class</span> <span class="ow">in</span> <span class="n">class_set</span><span class="p">(</span><span class="n">D_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">assert</span> <span class="n">C_Class</span> <span class="ow">in</span> <span class="n">class_set</span><span class="p">(</span><span class="n">D_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">assert</span> <span class="n">D_Class</span> <span class="ow">in</span> <span class="n">class_set</span><span class="p">(</span><span class="n">D_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">class_set</span><span class="p">([</span><span class="n">B_Class</span><span class="p">,</span> <span class="n">C_Class</span><span class="p">])</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{__main__.A_Class, __main__.B_Class, __main__.C_Class}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Getting-Docs">Getting Docs</h3></div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">A_Class</span><span class="o">.</span><span class="vm">__doc__</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">A_Class</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="vm">__doc__</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>'A Class which does A thing right.\n    Comes with a longer docstring.'
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">A_Class</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="vm">__name__</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>'A_Class'
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">D_Class</span><span class="o">.</span><span class="n">foo</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&lt;function __main__.D_Class.foo(self) -&gt; None&gt;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">D_Class</span><span class="o">.</span><span class="n">foo</span><span class="o">.</span><span class="vm">__doc__</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">A_Class</span><span class="o">.</span><span class="n">foo</span><span class="o">.</span><span class="vm">__doc__</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>'The Adventures of the glorious Foo'
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">docstring</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">doc</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getdoc</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">doc</span> <span class="k">if</span> <span class="n">doc</span> <span class="k">else</span> <span class="s2">""</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">docstring</span><span class="p">(</span><span class="n">A_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>'A Class which does A thing right.\nComes with a longer docstring.'
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">docstring</span><span class="p">(</span><span class="n">D_Class</span><span class="o">.</span><span class="n">foo</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>'A WW2 foo fighter.'
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">unknown</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">docstring</span><span class="p">(</span><span class="n">unknown</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>''
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="kn">import</span> <span class="nn"><a href="https://docs.python.org/3/library/html.html" class="import" target="_blank">html</a></span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="kn">import</span> <span class="nn"><a href="https://docs.python.org/3/library/re.html" class="import" target="_blank">re</a></span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">escape</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="k">assert</span> <span class="s1">'&lt;'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">text</span>
    <span class="k">assert</span> <span class="s1">'&gt;'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">text</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'{'</span><span class="p">,</span> <span class="s1">'&amp;#x7b;'</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'|'</span><span class="p">,</span> <span class="s1">'&amp;#x7c;'</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'}'</span><span class="p">,</span> <span class="s1">'&amp;#x7d;'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">text</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">escape</span><span class="p">(</span><span class="s2">"f(foo=</span><span class="si">{}</span><span class="s2">)"</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>'f(foo=&amp;#x7b;&amp;#x7d;)'
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">escape_doc</span><span class="p">(</span><span class="n">docstring</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">DOC_INDENT</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">docstring</span> <span class="o">=</span> <span class="s2">"&amp;#x0a;"</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="s1">' '</span> <span class="o">*</span> <span class="n">DOC_INDENT</span> <span class="o">+</span> <span class="n">escape</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">docstring</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">docstring</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="nb">print</span><span class="p">(</span><span class="n">escape_doc</span><span class="p">(</span><span class="s2">"'Hello</span><span class="se">\n</span><span class="s2">    {You|Me}'"</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&amp;#x27;Hello&amp;#x0a;&amp;#x7b;You&amp;#x7c;Me&amp;#x7d;&amp;#x27;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Getting-Methods-and-Variables">Getting Methods and Variables</h2></div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">inspect</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="n">D_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[('VAR', 'A variable'),
 ('__class__', type),
 ('__delattr__', &lt;slot wrapper '__delattr__' of 'object' objects&gt;),
 ('__dict__', mappingproxy({'__module__': '__main__', '__doc__': None})),
 ('__dir__', &lt;method '__dir__' of 'object' objects&gt;),
 ('__doc__', None),
 ('__eq__', &lt;slot wrapper '__eq__' of 'object' objects&gt;),
 ('__format__', &lt;method '__format__' of 'object' objects&gt;),
 ('__ge__', &lt;slot wrapper '__ge__' of 'object' objects&gt;),
 ('__getattribute__', &lt;slot wrapper '__getattribute__' of 'object' objects&gt;),
 ('__getstate__', &lt;method '__getstate__' of 'object' objects&gt;),
 ('__gt__', &lt;slot wrapper '__gt__' of 'object' objects&gt;),
 ('__hash__', &lt;slot wrapper '__hash__' of 'object' objects&gt;),
 ('__init__', &lt;slot wrapper '__init__' of 'object' objects&gt;),
 ('__init_subclass__', &lt;function D_Class.__init_subclass__&gt;),
 ('__le__', &lt;slot wrapper '__le__' of 'object' objects&gt;),
 ('__lt__', &lt;slot wrapper '__lt__' of 'object' objects&gt;),
 ('__module__', '__main__'),
 ('__ne__', &lt;slot wrapper '__ne__' of 'object' objects&gt;),
 ('__new__', &lt;function object.__new__(*args, **kwargs)&gt;),
 ('__reduce__', &lt;method '__reduce__' of 'object' objects&gt;),
 ('__reduce_ex__', &lt;method '__reduce_ex__' of 'object' objects&gt;),
 ('__repr__', &lt;slot wrapper '__repr__' of 'object' objects&gt;),
 ('__setattr__', &lt;slot wrapper '__setattr__' of 'object' objects&gt;),
 ('__sizeof__', &lt;method '__sizeof__' of 'object' objects&gt;),
 ('__str__', &lt;slot wrapper '__str__' of 'object' objects&gt;),
 ('__subclasshook__', &lt;function D_Class.__subclasshook__&gt;),
 ('__weakref__', &lt;attribute '__weakref__' of 'A_Class' objects&gt;),
 ('bar',
  &lt;function __main__.B_Class.bar(self, qux: Any = None, bartender: int = 42) -&gt; None&gt;),
 ('foo', &lt;function __main__.D_Class.foo(self) -&gt; None&gt;),
 ('quux', &lt;function __main__.A_Class.quux(self) -&gt; None&gt;),
 ('qux',
  &lt;function __main__.C_Class.qux(self, arg: List[Union[int, str, NoneType]]) -&gt; List[Union[int, str, NoneType]]&gt;),
 ('second', &lt;function __main__.A_Class.second(self) -&gt; None&gt;)]
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">class_items</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">,</span> <span class="n">pred</span><span class="p">:</span> <span class="n">Callable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
    <span class="k">def</span> <span class="nf">_class_items</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
        <span class="n">all_items</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pred</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">:</span>
            <span class="n">all_items</span> <span class="o">+=</span> <span class="n">_class_items</span><span class="p">(</span><span class="n">base</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">all_items</span>

    <span class="n">unique_items</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">items_seen</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span> <span class="ow">in</span> <span class="n">_class_items</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">items_seen</span><span class="p">:</span>
            <span class="n">unique_items</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">name</span><span class="p">,</span> <span class="n">item</span><span class="p">))</span>
            <span class="n">items_seen</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">unique_items</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">class_methods</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">]]:</span>
    <span class="k">return</span> <span class="n">class_items</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isfunction</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">defined_in</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">defining_classes</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">search_superclasses</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="k">for</span> <span class="n">base</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
                <span class="n">defining_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">base</span><span class="p">)</span>
                <span class="n">search_superclasses</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">base</span><span class="p">)</span>

    <span class="n">search_superclasses</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">!=</span> <span class="n">c</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">defining_classes</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>  <span class="c1"># Already defined in superclass</span>

    <span class="k">return</span> <span class="kc">True</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">assert</span> <span class="ow">not</span> <span class="n">defined_in</span><span class="p">(</span><span class="s1">'VAR'</span><span class="p">,</span> <span class="n">A_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">assert</span> <span class="n">defined_in</span><span class="p">(</span><span class="s1">'VAR'</span><span class="p">,</span> <span class="n">B_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">assert</span> <span class="ow">not</span> <span class="n">defined_in</span><span class="p">(</span><span class="s1">'VAR'</span><span class="p">,</span> <span class="n">C_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">assert</span> <span class="ow">not</span> <span class="n">defined_in</span><span class="p">(</span><span class="s1">'VAR'</span><span class="p">,</span> <span class="n">D_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">class_vars</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="k">def</span> <span class="nf">is_var</span><span class="p">(</span><span class="n">item</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">class_items</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">is_var</span><span class="p">)</span> 
            <span class="k">if</span> <span class="ow">not</span> <span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">'__'</span><span class="p">)</span> <span class="ow">and</span> <span class="n">defined_in</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">cls</span><span class="p">)]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">class_methods</span><span class="p">(</span><span class="n">D_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[('bar',
  &lt;function __main__.B_Class.bar(self, qux: Any = None, bartender: int = 42) -&gt; None&gt;),
 ('foo', &lt;function __main__.D_Class.foo(self) -&gt; None&gt;),
 ('quux', &lt;function __main__.A_Class.quux(self) -&gt; None&gt;),
 ('qux',
  &lt;function __main__.C_Class.qux(self, arg: List[Union[int, str, NoneType]]) -&gt; List[Union[int, str, NoneType]]&gt;),
 ('second', &lt;function __main__.A_Class.second(self) -&gt; None&gt;)]
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">class_vars</span><span class="p">(</span><span class="n">B_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[('VAR', 'A variable')]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We're only interested in</p>
<ul>
<li>functions <em>defined</em> in that class</li>
<li>functions that come with a docstring</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">public_class_methods</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">]]:</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">name</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span> <span class="ow">in</span> <span class="n">class_methods</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> 
            <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="vm">__qualname__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">doc_class_methods</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">]]:</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">name</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span> <span class="ow">in</span> <span class="n">public_class_methods</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> 
            <span class="k">if</span> <span class="n">docstring</span><span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">public_class_methods</span><span class="p">(</span><span class="n">D_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[('foo', &lt;function __main__.D_Class.foo(self) -&gt; None&gt;)]
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">doc_class_methods</span><span class="p">(</span><span class="n">D_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[('foo', &lt;function __main__.D_Class.foo(self) -&gt; None&gt;)]
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">overloaded_class_methods</span><span class="p">(</span><span class="n">classes</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Type</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="n">all_methods</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Set</span><span class="p">[</span><span class="n">Callable</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">class_set</span><span class="p">(</span><span class="n">classes</span><span class="p">):</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span> <span class="ow">in</span> <span class="n">class_methods</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="vm">__qualname__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">):</span>
                <span class="n">all_methods</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">set</span><span class="p">())</span>
                <span class="n">all_methods</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">all_methods</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_methods</span><span class="p">[</span><span class="n">name</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">overloaded_class_methods</span><span class="p">(</span><span class="n">D_Class</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{'foo'}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Drawing-Class-Hierarchy-with-Method-Names">Drawing Class Hierarchy with Method Names</h2></div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="kn">from</span> <span class="nn"><a href="https://docs.python.org/3/library/inspect.html" class="import" target="_blank">inspect</a></span> <span class="kn">import</span> <span class="n">signature</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="kn">import</span> <span class="nn"><a href="https://docs.python.org/3/library/warnings.html" class="import" target="_blank">warnings</a></span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="kn">import</span> <span class="nn"><a href="https://docs.python.org/3/library/os.html" class="import" target="_blank">os</a></span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="k">def</span> <span class="nf">display_class_hierarchy</span><span class="p">(</span><span class="n">classes</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Type</span><span class="p">]],</span> <span class="o">*</span><span class="p">,</span>
                            <span class="n">public_methods</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                            <span class="n">abstract_classes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                            <span class="n">include_methods</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                            <span class="n">include_class_vars</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                            <span class="n">include_legend</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                            <span class="n">local_defs_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                            <span class="n">types</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{},</span>
                            <span class="n">project</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">'fuzzingbook'</span><span class="p">,</span>
                            <span class="n">log</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">"""Visualize a class hierarchy.</span>
<span class="sd">`classes` is a Python class (or a list of classes) to be visualized.</span>
<span class="sd">`public_methods`, if given, is a list of methods to be shown as "public" (bold).</span>
<span class="sd">  (Default: all methods with a docstring)</span>
<span class="sd">`abstract_classes`, if given, is a list of classes to be shown as "abstract" (cursive).</span>
<span class="sd">  (Default: all classes with an abstract method)</span>
<span class="sd">`include_methods`: if set (default), include all methods</span>
<span class="sd">`include_legend`: if set (default), include a legend</span>
<span class="sd">`local_defs_only`: if set (default), hide details of imported classes</span>
<span class="sd">`types`: type names with definitions, to be used in docs</span>
<span class="sd">    """</span>
    <span class="kn">from</span> <span class="nn"><a href="https://graphviz.readthedocs.io/" class="import" target="_blank">graphviz</a></span> <span class="kn">import</span> <span class="n">Digraph</span>

    <span class="k">if</span> <span class="n">project</span> <span class="o">==</span> <span class="s1">'debuggingbook'</span><span class="p">:</span>
        <span class="n">CLASS_FONT</span> <span class="o">=</span> <span class="s1">'Raleway, Helvetica, Arial, sans-serif'</span>
        <span class="n">CLASS_COLOR</span> <span class="o">=</span> <span class="s1">'#6A0DAD'</span>  <span class="c1"># HTML 'purple'</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">CLASS_FONT</span> <span class="o">=</span> <span class="s1">'Patua One, Helvetica, sans-serif'</span>
        <span class="n">CLASS_COLOR</span> <span class="o">=</span> <span class="s1">'#B03A2E'</span>

    <span class="n">METHOD_FONT</span> <span class="o">=</span> <span class="s2">"'Fira Mono', 'Source Code Pro', 'Courier', monospace"</span>
    <span class="n">METHOD_COLOR</span> <span class="o">=</span> <span class="s1">'black'</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">classes</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">starting_class</span> <span class="o">=</span> <span class="n">classes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">starting_class</span> <span class="o">=</span> <span class="n">classes</span>
        <span class="n">classes</span> <span class="o">=</span> <span class="p">[</span><span class="n">starting_class</span><span class="p">]</span>

    <span class="n">title</span> <span class="o">=</span> <span class="n">starting_class</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">+</span> <span class="s2">" class hierarchy"</span>

    <span class="n">dot</span> <span class="o">=</span> <span class="n">Digraph</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>
    <span class="n">dot</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s1">'node'</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">'record'</span><span class="p">,</span> <span class="n">fontname</span><span class="o">=</span><span class="n">CLASS_FONT</span><span class="p">)</span>
    <span class="n">dot</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s1">'graph'</span><span class="p">,</span> <span class="n">rankdir</span><span class="o">=</span><span class="s1">'BT'</span><span class="p">,</span> <span class="n">tooltip</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>
    <span class="n">dot</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s1">'edge'</span><span class="p">,</span> <span class="n">arrowhead</span><span class="o">=</span><span class="s1">'empty'</span><span class="p">)</span>

    <span class="c1"># Hack to force rendering as HTML, allowing hovers and links in Jupyter</span>
    <span class="n">dot</span><span class="o">.</span><span class="n">_repr_html_</span> <span class="o">=</span> <span class="n">dot</span><span class="o">.</span><span class="n">_repr_image_svg_xml</span>

    <span class="n">edges</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">overloaded_methods</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="n">drawn_classes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">method_string</span><span class="p">(</span><span class="n">method_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">public</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">overloaded</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                      <span class="n">fontsize</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">10.0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">method_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'&lt;font face="</span><span class="si">{</span><span class="n">METHOD_FONT</span><span class="si">}</span><span class="s1">" point-size="</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">fontsize</span><span class="p">)</span><span class="si">}</span><span class="s1">"&gt;'</span>

        <span class="k">if</span> <span class="n">overloaded</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'&lt;i&gt;</span><span class="si">{</span><span class="n">method_name</span><span class="si">}</span><span class="s1">()&lt;/i&gt;'</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">method_name</span><span class="si">}</span><span class="s1">()'</span>

        <span class="k">if</span> <span class="n">public</span><span class="p">:</span>
            <span class="n">method_string</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">'&lt;b&gt;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">&lt;/b&gt;'</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">method_string</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">'&lt;font color="</span><span class="si">{</span><span class="n">METHOD_COLOR</span><span class="si">}</span><span class="s1">"&gt;'</span> \
                             <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">&lt;/font&gt;'</span>

        <span class="n">method_string</span> <span class="o">+=</span> <span class="s1">'&lt;/font&gt;'</span>
        <span class="k">return</span> <span class="n">method_string</span>

    <span class="k">def</span> <span class="nf">var_string</span><span class="p">(</span><span class="n">var_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">fontsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">var_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'&lt;font face="</span><span class="si">{</span><span class="n">METHOD_FONT</span><span class="si">}</span><span class="s1">" point-size="</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">fontsize</span><span class="p">)</span><span class="si">}</span><span class="s1">"&gt;'</span>
        <span class="n">var_string</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">var_name</span><span class="si">}</span><span class="s1">'</span>
        <span class="n">var_string</span> <span class="o">+=</span> <span class="s1">'&lt;/font&gt;'</span>
        <span class="k">return</span> <span class="n">var_string</span>

    <span class="k">def</span> <span class="nf">is_overloaded</span><span class="p">(</span><span class="n">method_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">method_name</span> <span class="ow">in</span> <span class="n">overloaded_methods</span> <span class="ow">or</span>
                <span class="p">(</span><span class="n">docstring</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="s2">"in subclasses"</span> <span class="ow">in</span> <span class="n">docstring</span><span class="p">(</span><span class="n">f</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">is_abstract</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">abstract_classes</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isabstract</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="bp">cls</span> <span class="ow">in</span> <span class="n">abstract_classes</span> <span class="ow">or</span>
                <span class="nb">any</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">==</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">abstract_classes</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">is_public</span><span class="p">(</span><span class="n">method_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">f</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">public_methods</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">method_name</span> <span class="ow">in</span> <span class="n">public_methods</span> <span class="ow">or</span>
                    <span class="n">f</span> <span class="ow">in</span> <span class="n">public_methods</span> <span class="ow">or</span>
                    <span class="nb">any</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="vm">__qualname__</span> <span class="o">==</span> <span class="n">m</span><span class="o">.</span><span class="vm">__qualname__</span>
                        <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">public_methods</span><span class="p">))</span>

        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">docstring</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">frame_module</span><span class="p">(</span><span class="n">frameinfo</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">frameinfo</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_filename</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">callers</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="n">frames</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getouterframes</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">())</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">frame_module</span><span class="p">(</span><span class="n">frameinfo</span><span class="p">)</span> <span class="k">for</span> <span class="n">frameinfo</span> <span class="ow">in</span> <span class="n">frames</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">is_local_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__module__</span> <span class="o">==</span> <span class="s1">'__main__'</span> <span class="ow">or</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__module__</span> <span class="ow">in</span> <span class="n">callers</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">class_vars_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">cls_vars</span> <span class="o">=</span> <span class="n">class_vars</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cls_vars</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">""</span>

        <span class="n">vars_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'&lt;table border="0" cellpadding="0" '</span> \
                      <span class="sa">f</span><span class="s1">'cellspacing="0" '</span> \
                      <span class="sa">f</span><span class="s1">'align="left" tooltip="</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">" href="#"&gt;'</span>

        <span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">var</span><span class="p">)</span> <span class="ow">in</span> <span class="n">cls_vars</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">log</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"    Drawing </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

            <span class="n">var_doc</span> <span class="o">=</span> <span class="n">escape</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> = </span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">var</span><span class="p">)</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
            <span class="n">tooltip</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">' tooltip="</span><span class="si">{</span><span class="n">var_doc</span><span class="si">}</span><span class="s1">"'</span>
            <span class="n">href</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">' href="</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s1">"'</span>
            <span class="n">vars_string</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">'&lt;tr&gt;&lt;td align="left" border="0"'</span> \
                           <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">tooltip</span><span class="si">}{</span><span class="n">href</span><span class="si">}</span><span class="s1">&gt;'</span>

            <span class="n">vars_string</span> <span class="o">+=</span> <span class="n">var_string</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
            <span class="n">vars_string</span> <span class="o">+=</span> <span class="s1">'&lt;/td&gt;&lt;/tr&gt;'</span>

        <span class="n">vars_string</span> <span class="o">+=</span> <span class="s1">'&lt;/table&gt;'</span>
        <span class="k">return</span> <span class="n">vars_string</span>

    <span class="k">def</span> <span class="nf">class_methods_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">methods</span> <span class="o">=</span> <span class="n">public_class_methods</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="c1"># return "&lt;br/&gt;".join([name + "()" for (name, f) in methods])</span>
        <span class="n">methods_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'&lt;table border="0" cellpadding="0" '</span> \
                         <span class="sa">f</span><span class="s1">'cellspacing="0" '</span> \
                         <span class="sa">f</span><span class="s1">'align="left" tooltip="</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">" href="#"&gt;'</span>

        <span class="n">public_methods_only</span> <span class="o">=</span> <span class="n">local_defs_only</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">is_local_class</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>

        <span class="n">methods_seen</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">public</span> <span class="ow">in</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]:</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span> <span class="ow">in</span> <span class="n">methods</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">public</span> <span class="o">!=</span> <span class="n">is_public</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
                    <span class="k">continue</span>

                <span class="k">if</span> <span class="n">public_methods_only</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">public</span><span class="p">:</span>
                    <span class="k">continue</span>

                <span class="k">if</span> <span class="n">log</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"    Drawing </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">()"</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">is_public</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">docstring</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
                    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">f</span><span class="o">.</span><span class="vm">__qualname__</span><span class="si">}</span><span class="s2">() is listed as public,"</span>
                                  <span class="sa">f</span><span class="s2">" but has no docstring"</span><span class="p">)</span>

                <span class="n">overloaded</span> <span class="o">=</span> <span class="n">is_overloaded</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

                <span class="n">sig</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
                <span class="c1"># replace 'List[Union[...]]' by the actual type def</span>
                <span class="k">for</span> <span class="n">tp</span> <span class="ow">in</span> <span class="n">types</span><span class="p">:</span>
                    <span class="n">tp_def</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">types</span><span class="p">[</span><span class="n">tp</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'typing.'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>
                    <span class="n">sig</span> <span class="o">=</span> <span class="n">sig</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tp_def</span><span class="p">,</span> <span class="n">tp</span><span class="p">)</span>
                <span class="n">sig</span> <span class="o">=</span> <span class="n">sig</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'__main__.'</span><span class="p">,</span> <span class="s1">''</span><span class="p">)</span>

                <span class="n">method_doc</span> <span class="o">=</span> <span class="n">escape</span><span class="p">(</span><span class="n">name</span> <span class="o">+</span> <span class="n">sig</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">docstring</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
                    <span class="n">method_doc</span> <span class="o">+=</span> <span class="s2">":&amp;#x0a;"</span> <span class="o">+</span> <span class="n">escape_doc</span><span class="p">(</span><span class="n">docstring</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>

                <span class="k">if</span> <span class="n">log</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"    Method doc: </span><span class="si">{</span><span class="n">method_doc</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

                <span class="c1"># Tooltips are only shown if a href is present, too</span>
                <span class="n">tooltip</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">' tooltip="</span><span class="si">{</span><span class="n">method_doc</span><span class="si">}</span><span class="s1">"'</span>
                <span class="n">href</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">' href="</span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s1">"'</span>
                <span class="n">methods_string</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">'&lt;tr&gt;&lt;td align="left" border="0"'</span> \
                                  <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">tooltip</span><span class="si">}{</span><span class="n">href</span><span class="si">}</span><span class="s1">&gt;'</span>

                <span class="n">methods_string</span> <span class="o">+=</span> <span class="n">method_string</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">public</span><span class="p">,</span> <span class="n">overloaded</span><span class="p">)</span>

                <span class="n">methods_string</span> <span class="o">+=</span> <span class="s1">'&lt;/td&gt;&lt;/tr&gt;'</span>
                <span class="n">methods_seen</span> <span class="o">=</span> <span class="kc">True</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">methods_seen</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">""</span>

        <span class="n">methods_string</span> <span class="o">+=</span> <span class="s1">'&lt;/table&gt;'</span>
        <span class="k">return</span> <span class="n">methods_string</span>

    <span class="k">def</span> <span class="nf">display_class_node</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">drawn_classes</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">drawn_classes</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Drawing class </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__module__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="s1">'#'</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__module__</span> <span class="o">+</span> <span class="s1">'.ipynb'</span>

        <span class="k">if</span> <span class="n">is_abstract</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
            <span class="n">formatted_class_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'&lt;i&gt;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s1">&lt;/i&gt;'</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">formatted_class_name</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span>

        <span class="k">if</span> <span class="n">include_methods</span> <span class="ow">or</span> <span class="n">include_class_vars</span><span class="p">:</span>
            <span class="nb">vars</span> <span class="o">=</span> <span class="n">class_vars_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
            <span class="n">methods</span> <span class="o">=</span> <span class="n">class_methods_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
            <span class="n">spec</span> <span class="o">=</span> <span class="s1">'&lt;{&lt;b&gt;&lt;font color="'</span> <span class="o">+</span> <span class="n">CLASS_COLOR</span> <span class="o">+</span> <span class="s1">'"&gt;'</span> <span class="o">+</span> \
                <span class="n">formatted_class_name</span> <span class="o">+</span> <span class="s1">'&lt;/font&gt;&lt;/b&gt;'</span>
            <span class="k">if</span> <span class="n">include_class_vars</span> <span class="ow">and</span> <span class="nb">vars</span><span class="p">:</span>
                <span class="n">spec</span> <span class="o">+=</span> <span class="s1">'|'</span> <span class="o">+</span> <span class="nb">vars</span>
            <span class="k">if</span> <span class="n">include_methods</span> <span class="ow">and</span> <span class="n">methods</span><span class="p">:</span>
                <span class="n">spec</span> <span class="o">+=</span> <span class="s1">'|'</span> <span class="o">+</span> <span class="n">methods</span>
            <span class="n">spec</span> <span class="o">+=</span> <span class="s1">'}&gt;'</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">spec</span> <span class="o">=</span> <span class="s1">'&lt;'</span> <span class="o">+</span> <span class="n">formatted_class_name</span> <span class="o">+</span> <span class="s1">'&gt;'</span>

        <span class="n">class_doc</span> <span class="o">=</span> <span class="n">escape</span><span class="p">(</span><span class="s1">'class '</span> <span class="o">+</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">docstring</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
            <span class="n">class_doc</span> <span class="o">+=</span> <span class="s1">':&amp;#x0a;'</span> <span class="o">+</span> <span class="n">escape_doc</span><span class="p">(</span><span class="n">docstring</span><span class="p">(</span><span class="bp">cls</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Class </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> has no docstring"</span><span class="p">)</span>

        <span class="n">dot</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">spec</span><span class="p">,</span> <span class="n">tooltip</span><span class="o">=</span><span class="n">class_doc</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="n">url</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">display_class_trees</span><span class="p">(</span><span class="n">trees</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">,</span> <span class="n">List</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">trees</span><span class="p">:</span>
            <span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">subtrees</span><span class="p">)</span> <span class="o">=</span> <span class="n">tree</span>
            <span class="n">display_class_node</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">subtree</span> <span class="ow">in</span> <span class="n">subtrees</span><span class="p">:</span>
                <span class="p">(</span><span class="n">subcls</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">=</span> <span class="n">subtree</span>

                <span class="k">if</span> <span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">subcls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">edges</span><span class="p">:</span>
                    <span class="n">dot</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">subcls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
                    <span class="n">edges</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">subcls</span><span class="o">.</span><span class="vm">__name__</span><span class="p">))</span>

            <span class="n">display_class_trees</span><span class="p">(</span><span class="n">subtrees</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">display_legend</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">fontsize</span> <span class="o">=</span> <span class="mf">8.0</span>

        <span class="n">label</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'&lt;b&gt;&lt;font color="</span><span class="si">{</span><span class="n">CLASS_COLOR</span><span class="si">}</span><span class="s1">"&gt;Legend&lt;/font&gt;&lt;/b&gt;&lt;br align="left"/&gt;'</span> 

        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">method_string</span><span class="p">(</span><span class="s2">"public_method"</span><span class="p">,</span>
                          <span class="n">public</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">overloaded</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">),</span>
            <span class="n">method_string</span><span class="p">(</span><span class="s2">"private_method"</span><span class="p">,</span>
                          <span class="n">public</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">overloaded</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">),</span>
            <span class="n">method_string</span><span class="p">(</span><span class="s2">"overloaded_method"</span><span class="p">,</span>
                          <span class="n">public</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">overloaded</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontsize</span><span class="p">)</span>
        <span class="p">]:</span>
            <span class="n">label</span> <span class="o">+=</span> <span class="s1">'&amp;bull;&amp;nbsp;'</span> <span class="o">+</span> <span class="n">item</span> <span class="o">+</span> <span class="s1">'&lt;br align="left"/&gt;'</span>

        <span class="n">label</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">'&lt;font face="Helvetica" point-size="</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">fontsize</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s1">"&gt;'</span> \
                 <span class="s1">'Hover over names to see doc'</span> \
                 <span class="s1">'&lt;/font&gt;&lt;br align="left"/&gt;'</span>

        <span class="n">dot</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="s1">'Legend'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">'&lt;</span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s1">&gt;'</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">'plain'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">fontsize</span> <span class="o">+</span> <span class="mi">2</span><span class="p">))</span>

    <span class="k">for</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="n">classes</span><span class="p">:</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">class_tree</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="n">overloaded_methods</span> <span class="o">=</span> <span class="n">overloaded_class_methods</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="n">display_class_trees</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">include_legend</span><span class="p">:</span>
        <span class="n">display_legend</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">dot</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">display_class_hierarchy</span><span class="p">(</span><span class="n">D_Class</span><span class="p">,</span> <span class="n">types</span><span class="o">=</span><span class="p">{</span><span class="s1">'SomeType'</span><span class="p">:</span> <span class="n">SomeType</span><span class="p">},</span>
                        <span class="n">project</span><span class="o">=</span><span class="s1">'debuggingbook'</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Drawing class D_Class
    Drawing foo()
    Method doc: foo(self) -&amp;gt; None:&amp;#x0a;A WW2 foo fighter.
Drawing class B_Class
    Drawing VAR
    Drawing bar()
    Method doc: bar(self, qux: Any = None, bartender: int = 42) -&amp;gt; None:&amp;#x0a;A qux walks into a bar.&amp;#x0a;`bartender` is an optional attribute.
    Drawing foo()
    Method doc: foo(self) -&amp;gt; None:&amp;#x0a;A WW2 foo fighter.
Drawing class A_Class
    Drawing foo()
    Method doc: foo(self) -&amp;gt; None:&amp;#x0a;The Adventures of the glorious Foo
    Drawing quux()
    Method doc: quux(self) -&amp;gt; None:&amp;#x0a;A method that is not used.
    Drawing second()
    Method doc: second(self) -&amp;gt; None
Drawing class C_Class
    Drawing qux()
    Method doc: qux(self, arg: SomeType) -&amp;gt; SomeType
</pre>
</div>

</div>

<div class="output_area">

<div class="output_html rendered_html output_subarea output_execute_result">



<!-- Generated by graphviz version 12.2.1 (20241206.2353)
 -->
<!-- Pages: 1 -->
<svg width="254pt" height="282pt" viewbox="0.00 0.00 254.12 282.00" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 278)">
<g id="a_graph0"><a xlink:title="D_Class class hierarchy">
<polygon fill="white" stroke="none" points="-4,4 -4,-278 250.12,-278 250.12,4 -4,4"/>
</a>
</g>
<!-- D_Class -->
<g id="node1" class="node">
<title>D_Class</title>
<g id="a_node1"><a xlink:href="#" xlink:title="class D_Class:&#10;A subclass inheriting from multiple superclasses.&#10;Comes with a fairly long, but meaningless documentation.">
<polygon fill="none" stroke="black" points="42,-1.5 42,-47.5 109,-47.5 109,-1.5 42,-1.5"/>
<text text-anchor="start" x="50" y="-31.2" font-family="Raleway, Helvetica, Arial, sans-serif" font-weight="bold" font-size="14.00" fill="#6a0dad">D_Class</text>
<polyline fill="none" stroke="black" points="42,-22.25 109,-22.25"/>
<g id="a_node1_0"><a xlink:href="#" xlink:title="D_Class">
<g id="a_node1_1"><a xlink:href="#" xlink:title="foo(self) -&gt; None:&#10;A WW2 foo fighter.">
<text text-anchor="start" x="60.5" y="-9.75" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-style="italic" font-size="10.00">foo()</text>
</a>
</g>
</a>
</g>
</a>
</g>
</g>
<!-- B_Class -->
<g id="node2" class="node">
<title>B_Class</title>
<g id="a_node2"><a xlink:href="#" xlink:title="class B_Class:&#10;A subclass inheriting some methods.">
<polygon fill="none" stroke="black" points="0.38,-85.5 0.38,-165 66.62,-165 66.62,-85.5 0.38,-85.5"/>
<text text-anchor="start" x="8.38" y="-148.7" font-family="Raleway, Helvetica, Arial, sans-serif" font-weight="bold" font-size="14.00" fill="#6a0dad">B_Class</text>
<polyline fill="none" stroke="black" points="0.38,-139.75 66.62,-139.75"/>
<g id="a_node2_2"><a xlink:href="#" xlink:title="B_Class">
<g id="a_node2_3"><a xlink:href="#" xlink:title="VAR = 'A variable'">
<text text-anchor="start" x="24.5" y="-126.25" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="10.00">VAR</text>
</a>
</g>
</a>
</g>
<polyline fill="none" stroke="black" points="0.38,-119 66.62,-119"/>
<g id="a_node2_4"><a xlink:href="#" xlink:title="B_Class">
<g id="a_node2_5"><a xlink:href="#" xlink:title="bar(self, qux: Any = None, bartender: int = 42) -&gt; None:&#10;A qux walks into a bar.&#10;`bartender` is an optional attribute.">
<text text-anchor="start" x="18.5" y="-106.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-size="10.00">bar()</text>
</a>
</g>
<g id="a_node2_6"><a xlink:href="#" xlink:title="foo(self) -&gt; None:&#10;A WW2 foo fighter.">
<text text-anchor="start" x="18.5" y="-93.75" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-style="italic" font-size="10.00">foo()</text>
</a>
</g>
</a>
</g>
</a>
</g>
</g>
<!-- D_Class&#45;&gt;B_Class -->
<g id="edge1" class="edge">
<title>D_Class-&gt;B_Class</title>
<path fill="none" stroke="black" d="M65.97,-47.91C62.56,-55.93 58.56,-65.32 54.57,-74.72"/>
<polygon fill="none" stroke="black" points="51.37,-73.29 50.68,-83.87 57.81,-76.03 51.37,-73.29"/>
</g>
<!-- C_Class -->
<g id="node4" class="node">
<title>C_Class</title>
<g id="a_node4"><a xlink:href="#" xlink:title="class C_Class:&#10;A class injecting some method">
<polygon fill="none" stroke="black" points="85,-102.25 85,-148.25 152,-148.25 152,-102.25 85,-102.25"/>
<text text-anchor="start" x="93" y="-131.95" font-family="Raleway, Helvetica, Arial, sans-serif" font-weight="bold" font-size="14.00" fill="#6a0dad">C_Class</text>
<polyline fill="none" stroke="black" points="85,-123 152,-123"/>
<g id="a_node4_7"><a xlink:href="#" xlink:title="C_Class">
<g id="a_node4_8"><a xlink:href="#" xlink:title="qux(self, arg: SomeType) -&gt; SomeType">
<text text-anchor="start" x="103.5" y="-109.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="10.00">qux()</text>
</a>
</g>
</a>
</g>
</a>
</g>
</g>
<!-- D_Class&#45;&gt;C_Class -->
<g id="edge3" class="edge">
<title>D_Class-&gt;C_Class</title>
<path fill="none" stroke="black" d="M85.26,-47.91C90.87,-60.79 98.01,-77.2 104.24,-91.5"/>
<polygon fill="none" stroke="black" points="100.98,-92.77 108.18,-100.54 107.39,-89.98 100.98,-92.77"/>
</g>
<!-- A_Class -->
<g id="node3" class="node">
<title>A_Class</title>
<g id="a_node3"><a xlink:href="#" xlink:title="class A_Class:&#10;A Class which does A thing right.&#10;Comes with a longer docstring.">
<polygon fill="none" stroke="black" points="0,-202 0,-273.5 67,-273.5 67,-202 0,-202"/>
<text text-anchor="start" x="8" y="-257.2" font-family="Raleway, Helvetica, Arial, sans-serif" font-weight="bold" font-size="14.00" fill="#6a0dad">A_Class</text>
<polyline fill="none" stroke="black" points="0,-248.25 67,-248.25"/>
<g id="a_node3_9"><a xlink:href="#" xlink:title="A_Class">
<g id="a_node3_10"><a xlink:href="#" xlink:title="foo(self) -&gt; None:&#10;The Adventures of the glorious Foo">
<text text-anchor="start" x="9.5" y="-235.75" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-style="italic" font-size="10.00">foo()</text>
</a>
</g>
<g id="a_node3_11"><a xlink:href="#" xlink:title="quux(self) -&gt; None:&#10;A method that is not used.">
<text text-anchor="start" x="9.5" y="-223" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-size="10.00">quux()</text>
</a>
</g>
<g id="a_node3_12"><a xlink:href="#" xlink:title="second(self) -&gt; None">
<text text-anchor="start" x="9.5" y="-209.25" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="10.00">second()</text>
</a>
</g>
</a>
</g>
</a>
</g>
</g>
<!-- B_Class&#45;&gt;A_Class -->
<g id="edge2" class="edge">
<title>B_Class-&gt;A_Class</title>
<path fill="none" stroke="black" d="M33.5,-165.21C33.5,-173.41 33.5,-182.14 33.5,-190.58"/>
<polygon fill="none" stroke="black" points="30,-190.31 33.5,-200.31 37,-190.31 30,-190.31"/>
</g>
<!-- Legend -->
<g id="node5" class="node">
<title>Legend</title>
<text text-anchor="start" x="126.88" y="-40.5" font-family="Raleway, Helvetica, Arial, sans-serif" font-weight="bold" font-size="10.00" fill="#6a0dad">Legend</text>
<text text-anchor="start" x="126.88" y="-30.5" font-family="Raleway, Helvetica, Arial, sans-serif" font-size="10.00">• </text>
<text text-anchor="start" x="132.88" y="-30.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-size="8.00">public_method()</text>
<text text-anchor="start" x="126.88" y="-20.5" font-family="Raleway, Helvetica, Arial, sans-serif" font-size="10.00">• </text>
<text text-anchor="start" x="132.88" y="-20.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="8.00">private_method()</text>
<text text-anchor="start" x="126.88" y="-10.5" font-family="Raleway, Helvetica, Arial, sans-serif" font-size="10.00">• </text>
<text text-anchor="start" x="132.88" y="-10.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-style="italic" font-size="8.00">overloaded_method()</text>
<text text-anchor="start" x="126.88" y="-1.45" font-family="Helvetica,sans-Serif" font-size="9.00">Hover over names to see doc</text>
</g>
</g>
</svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">display_class_hierarchy</span><span class="p">(</span><span class="n">D_Class</span><span class="p">,</span> <span class="n">types</span><span class="o">=</span><span class="p">{</span><span class="s1">'SomeType'</span><span class="p">:</span> <span class="n">SomeType</span><span class="p">},</span>
                        <span class="n">project</span><span class="o">=</span><span class="s1">'fuzzingbook'</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_html rendered_html output_subarea output_execute_result">



<!-- Generated by graphviz version 12.2.1 (20241206.2353)
 -->
<!-- Pages: 1 -->
<svg width="251pt" height="284pt" viewbox="0.00 0.00 251.38 283.50" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 279.5)">
<g id="a_graph0"><a xlink:title="D_Class class hierarchy">
<polygon fill="white" stroke="none" points="-4,4 -4,-279.5 247.38,-279.5 247.38,4 -4,4"/>
</a>
</g>
<!-- D_Class -->
<g id="node1" class="node">
<title>D_Class</title>
<g id="a_node1"><a xlink:href="#" xlink:title="class D_Class:&#10;A subclass inheriting from multiple superclasses.&#10;Comes with a fairly long, but meaningless documentation.">
<polygon fill="none" stroke="black" points="41,-1.12 41,-47.88 106.5,-47.88 106.5,-1.12 41,-1.12"/>
<text text-anchor="start" x="49" y="-31.57" font-family="Patua One, Helvetica, sans-serif" font-weight="bold" font-size="14.00" fill="#b03a2e">D_Class</text>
<polyline fill="none" stroke="black" points="41,-21.88 106.5,-21.88"/>
<g id="a_node1_0"><a xlink:href="#" xlink:title="D_Class">
<g id="a_node1_1"><a xlink:href="#" xlink:title="foo(self) -&gt; None:&#10;A WW2 foo fighter.">
<text text-anchor="start" x="58.75" y="-9.38" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-style="italic" font-size="10.00">foo()</text>
</a>
</g>
</a>
</g>
</a>
</g>
</g>
<!-- B_Class -->
<g id="node2" class="node">
<title>B_Class</title>
<g id="a_node2"><a xlink:href="#" xlink:title="class B_Class:&#10;A subclass inheriting some methods.">
<polygon fill="none" stroke="black" points="0,-85.5 0,-165.75 65.5,-165.75 65.5,-85.5 0,-85.5"/>
<text text-anchor="start" x="8" y="-149.45" font-family="Patua One, Helvetica, sans-serif" font-weight="bold" font-size="14.00" fill="#b03a2e">B_Class</text>
<polyline fill="none" stroke="black" points="0,-139.75 65.5,-139.75"/>
<g id="a_node2_2"><a xlink:href="#" xlink:title="B_Class">
<g id="a_node2_3"><a xlink:href="#" xlink:title="VAR = 'A variable'">
<text text-anchor="start" x="23.75" y="-126.25" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="10.00">VAR</text>
</a>
</g>
</a>
</g>
<polyline fill="none" stroke="black" points="0,-119 65.5,-119"/>
<g id="a_node2_4"><a xlink:href="#" xlink:title="B_Class">
<g id="a_node2_5"><a xlink:href="#" xlink:title="bar(self, qux: Any = None, bartender: int = 42) -&gt; None:&#10;A qux walks into a bar.&#10;`bartender` is an optional attribute.">
<text text-anchor="start" x="17.75" y="-106.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-size="10.00">bar()</text>
</a>
</g>
<g id="a_node2_6"><a xlink:href="#" xlink:title="foo(self) -&gt; None:&#10;A WW2 foo fighter.">
<text text-anchor="start" x="17.75" y="-93.75" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-style="italic" font-size="10.00">foo()</text>
</a>
</g>
</a>
</g>
</a>
</g>
</g>
<!-- D_Class&#45;&gt;B_Class -->
<g id="edge1" class="edge">
<title>D_Class-&gt;B_Class</title>
<path fill="none" stroke="black" d="M64.45,-47.99C61.15,-55.96 57.3,-65.28 53.44,-74.61"/>
<polygon fill="none" stroke="black" points="50.27,-73.11 49.68,-83.69 56.74,-75.79 50.27,-73.11"/>
</g>
<!-- C_Class -->
<g id="node4" class="node">
<title>C_Class</title>
<g id="a_node4"><a xlink:href="#" xlink:title="class C_Class:&#10;A class injecting some method">
<polygon fill="none" stroke="black" points="83.38,-102.25 83.38,-149 148.12,-149 148.12,-102.25 83.38,-102.25"/>
<text text-anchor="start" x="91.38" y="-132.7" font-family="Patua One, Helvetica, sans-serif" font-weight="bold" font-size="14.00" fill="#b03a2e">C_Class</text>
<polyline fill="none" stroke="black" points="83.38,-123 148.12,-123"/>
<g id="a_node4_7"><a xlink:href="#" xlink:title="C_Class">
<g id="a_node4_8"><a xlink:href="#" xlink:title="qux(self, arg: SomeType) -&gt; SomeType">
<text text-anchor="start" x="100.75" y="-109.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="10.00">qux()</text>
</a>
</g>
</a>
</g>
</a>
</g>
</g>
<!-- D_Class&#45;&gt;C_Class -->
<g id="edge3" class="edge">
<title>D_Class-&gt;C_Class</title>
<path fill="none" stroke="black" d="M83.28,-47.99C88.72,-60.83 95.64,-77.16 101.69,-91.44"/>
<polygon fill="none" stroke="black" points="98.4,-92.64 105.52,-100.48 104.84,-89.91 98.4,-92.64"/>
</g>
<!-- A_Class -->
<g id="node3" class="node">
<title>A_Class</title>
<g id="a_node3"><a xlink:href="#" xlink:title="class A_Class:&#10;A Class which does A thing right.&#10;Comes with a longer docstring.">
<polygon fill="none" stroke="black" points="0,-202.75 0,-275 65.5,-275 65.5,-202.75 0,-202.75"/>
<text text-anchor="start" x="8" y="-258.7" font-family="Patua One, Helvetica, sans-serif" font-weight="bold" font-size="14.00" fill="#b03a2e">A_Class</text>
<polyline fill="none" stroke="black" points="0,-249 65.5,-249"/>
<g id="a_node3_9"><a xlink:href="#" xlink:title="A_Class">
<g id="a_node3_10"><a xlink:href="#" xlink:title="foo(self) -&gt; None:&#10;The Adventures of the glorious Foo">
<text text-anchor="start" x="8.75" y="-236.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-style="italic" font-size="10.00">foo()</text>
</a>
</g>
<g id="a_node3_11"><a xlink:href="#" xlink:title="quux(self) -&gt; None:&#10;A method that is not used.">
<text text-anchor="start" x="8.75" y="-223.75" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-size="10.00">quux()</text>
</a>
</g>
<g id="a_node3_12"><a xlink:href="#" xlink:title="second(self) -&gt; None">
<text text-anchor="start" x="8.75" y="-210" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="10.00">second()</text>
</a>
</g>
</a>
</g>
</a>
</g>
</g>
<!-- B_Class&#45;&gt;A_Class -->
<g id="edge2" class="edge">
<title>B_Class-&gt;A_Class</title>
<path fill="none" stroke="black" d="M32.75,-166.16C32.75,-174.23 32.75,-182.79 32.75,-191.08"/>
<polygon fill="none" stroke="black" points="29.25,-191.03 32.75,-201.03 36.25,-191.03 29.25,-191.03"/>
</g>
<!-- Legend -->
<g id="node5" class="node">
<title>Legend</title>
<text text-anchor="start" x="124.12" y="-40.5" font-family="Patua One, Helvetica, sans-serif" font-weight="bold" font-size="10.00" fill="#b03a2e">Legend</text>
<text text-anchor="start" x="124.12" y="-30.5" font-family="Patua One, Helvetica, sans-serif" font-size="10.00">• </text>
<text text-anchor="start" x="130.12" y="-30.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-size="8.00">public_method()</text>
<text text-anchor="start" x="124.12" y="-20.5" font-family="Patua One, Helvetica, sans-serif" font-size="10.00">• </text>
<text text-anchor="start" x="130.12" y="-20.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="8.00">private_method()</text>
<text text-anchor="start" x="124.12" y="-10.5" font-family="Patua One, Helvetica, sans-serif" font-size="10.00">• </text>
<text text-anchor="start" x="130.12" y="-10.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-style="italic" font-size="8.00">overloaded_method()</text>
<text text-anchor="start" x="124.12" y="-1.45" font-family="Helvetica,sans-Serif" font-size="9.00">Hover over names to see doc</text>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here is a variant with abstract classes and logging:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span/><span class="n">display_class_hierarchy</span><span class="p">([</span><span class="n">A_Class</span><span class="p">,</span> <span class="n">B_Class</span><span class="p">],</span>
                        <span class="n">abstract_classes</span><span class="o">=</span><span class="p">[</span><span class="n">A_Class</span><span class="p">],</span>
                        <span class="n">public_methods</span><span class="o">=</span><span class="p">[</span>
                            <span class="n">A_Class</span><span class="o">.</span><span class="n">quux</span><span class="p">,</span>
                        <span class="p">],</span>
                        <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Drawing class A_Class
    Drawing quux()
    Method doc: quux(self) -&amp;gt; None:&amp;#x0a;A method that is not used.
    Drawing foo()
    Method doc: foo(self) -&amp;gt; None:&amp;#x0a;The Adventures of the glorious Foo
    Drawing second()
    Method doc: second(self) -&amp;gt; None
Drawing class B_Class
    Drawing VAR
    Drawing bar()
    Method doc: bar(self, qux: Any = None, bartender: int = 42) -&amp;gt; None:&amp;#x0a;A qux walks into a bar.&amp;#x0a;`bartender` is an optional attribute.
    Drawing foo()
    Method doc: foo(self) -&amp;gt; None:&amp;#x0a;A WW2 foo fighter.
</pre>
</div>

</div>

<div class="output_area">

<div class="output_html rendered_html output_subarea output_execute_result">



<!-- Generated by graphviz version 12.2.1 (20241206.2353)
 -->
<!-- Pages: 1 -->
<svg width="210pt" height="199pt" viewbox="0.00 0.00 210.38 198.50" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 194.5)">
<g id="a_graph0"><a xlink:title="A_Class class hierarchy">
<polygon fill="white" stroke="none" points="-4,4 -4,-194.5 206.38,-194.5 206.38,4 -4,4"/>
</a>
</g>
<!-- A_Class -->
<g id="node1" class="node">
<title>A_Class</title>
<g id="a_node1"><a xlink:href="#" xlink:title="class A_Class:&#10;A Class which does A thing right.&#10;Comes with a longer docstring.">
<polygon fill="none" stroke="black" points="0,-117.75 0,-190 65.5,-190 65.5,-117.75 0,-117.75"/>
<text text-anchor="start" x="8" y="-173.7" font-family="Patua One, Helvetica, sans-serif" font-weight="bold" font-style="italic" font-size="14.00" fill="#b03a2e">A_Class</text>
<polyline fill="none" stroke="black" points="0,-164 65.5,-164"/>
<g id="a_node1_0"><a xlink:href="#" xlink:title="A_Class">
<g id="a_node1_1"><a xlink:href="#" xlink:title="quux(self) -&gt; None:&#10;A method that is not used.">
<text text-anchor="start" x="8.75" y="-151.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-size="10.00">quux()</text>
</a>
</g>
<g id="a_node1_2"><a xlink:href="#" xlink:title="foo(self) -&gt; None:&#10;The Adventures of the glorious Foo">
<text text-anchor="start" x="8.75" y="-137.75" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="10.00">foo()</text>
</a>
</g>
<g id="a_node1_3"><a xlink:href="#" xlink:title="second(self) -&gt; None">
<text text-anchor="start" x="8.75" y="-125" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="10.00">second()</text>
</a>
</g>
</a>
</g>
</a>
</g>
</g>
<!-- B_Class -->
<g id="node2" class="node">
<title>B_Class</title>
<g id="a_node2"><a xlink:href="#" xlink:title="class B_Class:&#10;A subclass inheriting some methods.">
<polygon fill="none" stroke="black" points="0,-0.5 0,-80.75 65.5,-80.75 65.5,-0.5 0,-0.5"/>
<text text-anchor="start" x="8" y="-64.45" font-family="Patua One, Helvetica, sans-serif" font-weight="bold" font-size="14.00" fill="#b03a2e">B_Class</text>
<polyline fill="none" stroke="black" points="0,-54.75 65.5,-54.75"/>
<g id="a_node2_4"><a xlink:href="#" xlink:title="B_Class">
<g id="a_node2_5"><a xlink:href="#" xlink:title="VAR = 'A variable'">
<text text-anchor="start" x="23.75" y="-41.25" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="10.00">VAR</text>
</a>
</g>
</a>
</g>
<polyline fill="none" stroke="black" points="0,-34 65.5,-34"/>
<g id="a_node2_6"><a xlink:href="#" xlink:title="B_Class">
<g id="a_node2_7"><a xlink:href="#" xlink:title="bar(self, qux: Any = None, bartender: int = 42) -&gt; None:&#10;A qux walks into a bar.&#10;`bartender` is an optional attribute.">
<text text-anchor="start" x="17.75" y="-20.5" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="10.00">bar()</text>
</a>
</g>
<g id="a_node2_8"><a xlink:href="#" xlink:title="foo(self) -&gt; None:&#10;A WW2 foo fighter.">
<text text-anchor="start" x="17.75" y="-8.75" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-style="italic" font-size="10.00">foo()</text>
</a>
</g>
</a>
</g>
</a>
</g>
</g>
<!-- B_Class&#45;&gt;A_Class -->
<g id="edge1" class="edge">
<title>B_Class-&gt;A_Class</title>
<path fill="none" stroke="black" d="M32.75,-81.16C32.75,-89.23 32.75,-97.79 32.75,-106.08"/>
<polygon fill="none" stroke="black" points="29.25,-106.03 32.75,-116.03 36.25,-106.03 29.25,-106.03"/>
</g>
<!-- Legend -->
<g id="node3" class="node">
<title>Legend</title>
<text text-anchor="start" x="83.12" y="-56.62" font-family="Patua One, Helvetica, sans-serif" font-weight="bold" font-size="10.00" fill="#b03a2e">Legend</text>
<text text-anchor="start" x="83.12" y="-46.62" font-family="Patua One, Helvetica, sans-serif" font-size="10.00">• </text>
<text text-anchor="start" x="89.12" y="-46.62" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-weight="bold" font-size="8.00">public_method()</text>
<text text-anchor="start" x="83.12" y="-36.62" font-family="Patua One, Helvetica, sans-serif" font-size="10.00">• </text>
<text text-anchor="start" x="89.12" y="-36.62" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-size="8.00">private_method()</text>
<text text-anchor="start" x="83.12" y="-26.62" font-family="Patua One, Helvetica, sans-serif" font-size="10.00">• </text>
<text text-anchor="start" x="89.12" y="-26.62" font-family="'Fira Mono', 'Source Code Pro', 'Courier', monospace" font-style="italic" font-size="8.00">overloaded_method()</text>
<text text-anchor="start" x="83.12" y="-17.57" font-family="Helvetica,sans-Serif" font-size="9.00">Hover over names to see doc</text>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Exercises">Exercises</h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Enjoy!</p>
</div>
</div>
</div>
</div>

        
<p class="imprint">
<img style="float:right" src="../Images/2f3faa36146c6fb38bbab67add09aa5f.png" alt="Creative Commons License" data-original-src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png"/>
The content of this project is licensed under the
<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
The source code that is part of the content, as well as the source code used to format and display that content is licensed under the <a href="https://github.com/uds-se/fuzzingbook/blob/master/LICENSE.md#mit-license">MIT License</a>.
<a href="https://github.com/uds-se/fuzzingbook/commits/master/notebooks/ClassDiagram.ipynb" target="_blank)">Last change: 2024-06-30 18:45:02+02:00</a> • 
<a href="#citation" id="cite" onclick="revealCitation()">Cite</a> •
<a href="https://cispa.de/en/impressum" target="_blank">Imprint</a>
</p>



<div id="citation" class="citation" style="display: none;">
<a name="citation"/>
<h2>How to Cite this Work</h2>
<p>
Andreas Zeller, Rahul Gopinath, Marcel Böhme, Gordon Fraser, and Christian Holler: "<a href="https://www.fuzzingbook.org/html/ClassDiagram.html">Class Diagrams</a>".  In Andreas Zeller, Rahul Gopinath, Marcel Böhme, Gordon Fraser, and Christian Holler, "<a href="https://www.fuzzingbook.org/">The Fuzzing Book</a>", <a href="https://www.fuzzingbook.org/html/ClassDiagram.html">https://www.fuzzingbook.org/html/ClassDiagram.html</a>.  Retrieved 2024-06-30 18:45:02+02:00.
</p>
<pre>
@incollection{fuzzingbook2024:ClassDiagram,
    author = {Andreas Zeller and Rahul Gopinath and Marcel B{\"o}hme and Gordon Fraser and Christian Holler},
    booktitle = {The Fuzzing Book},
    title = {Class Diagrams},
    year = {2024},
    publisher = {CISPA Helmholtz Center for Information Security},
    howpublished = {\url{https://www.fuzzingbook.org/html/ClassDiagram.html}},
    note = {Retrieved 2024-06-30 18:45:02+02:00},
    url = {https://www.fuzzingbook.org/html/ClassDiagram.html},
    urldate = {2024-06-30 18:45:02+02:00}
}
</pre>
</div>

          
</body>
</html>